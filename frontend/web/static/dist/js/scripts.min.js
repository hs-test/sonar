if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,s=this;t(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||t(s).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new s(this)),"string"==typeof e&&o[e].call(i)})}var i='[data-dismiss="alert"]',s=function(e){t(e).on("click",i,this.close)};s.VERSION="3.3.5",s.TRANSITION_DURATION=150,s.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var o=t(this),n=o.attr("data-target");n||(n=o.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,""));var a=t(n);e&&e.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(s.TRANSITION_DURATION):i())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=s,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",i,s.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),o=s.data("bs.button"),n="object"==typeof e&&e;o||s.data("bs.button",o=new i(this,n)),"toggle"==e?o.toggle():e&&o.setState(e)})}var i=function(e,s){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,s),this.isLoading=!1};i.VERSION="3.3.5",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",s=this.$element,o=s.is("input")?"val":"html",n=s.data();e+="Text",null==n.resetText&&s.data("resetText",s[o]()),setTimeout(t.proxy(function(){s[o](null==n[e]?this.options[e]:n[e]),"loadingText"==e?(this.isLoading=!0,s.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,s.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var s=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=s,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var s=t(i.target);s.hasClass("btn")||(s=s.closest(".btn")),e.call(s,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),o=s.data("bs.carousel"),n=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e),a="string"==typeof e?e:n.slide;o||s.data("bs.carousel",o=new i(this,n)),"number"==typeof e?o.to(e):a?o[a]():n.interval&&o.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),s="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(s&&!this.options.wrap)return e;var o="prev"==t?-1:1,n=(i+o)%this.$items.length;return this.$items.eq(n)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,s){var o=this.$element.find(".item.active"),n=s||this.getItemForDirection(e,o),a=this.interval,r="next"==e?"left":"right",l=this;if(n.hasClass("active"))return this.sliding=!1;var d=n[0],c=t.Event("slide.bs.carousel",{relatedTarget:d,direction:r});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(n)]);h&&h.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:d,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(n.addClass(e),n[0].offsetWidth,o.addClass(r),n.addClass(r),o.one("bsTransitionEnd",function(){n.removeClass([e,r].join(" ")).addClass("active"),o.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var s=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=s,this};var o=function(i){var s,o=t(this),n=t(o.attr("data-target")||(s=o.attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){var a=t.extend({},n.data(),o.data()),r=o.attr("data-slide-to");r&&(a.interval=!1),e.call(n,a),r&&n.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,s=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(s)}function i(e){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),n=t.extend({},s.DEFAULTS,i.data(),"object"==typeof e&&e);!o&&n.toggle&&/show|hide/.test(e)&&(n.toggle=!1),o||i.data("bs.collapse",o=new s(this,n)),"string"==typeof e&&o[e]()})}var s=function(e,i){this.$element=t(e),this.options=t.extend({},s.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};s.VERSION="3.3.5",s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0},s.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},s.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),e||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(s.TRANSITION_DURATION)[a](this.$element[0][l])}}}},s.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(s.TRANSITION_DURATION):o.call(this)}}},s.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},s.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,s){var o=t(s);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},s.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=s,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(s){var o=t(this);o.attr("data-target")||s.preventDefault();var n=e(o),a=n.data("bs.collapse"),r=a?"toggle":o.data();i.call(n,r)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var s=i&&t(i);return s&&s.length?s:e.parent()}function i(i){i&&3===i.which||(t(o).remove(),t(n).each(function(){var s=t(this),o=e(s),n={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(o[0],i.target)||(o.trigger(i=t.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(s.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",n))))}))}function s(e){return this.each(function(){var i=t(this),s=i.data("bs.dropdown");s||i.data("bs.dropdown",s=new a(this)),"string"==typeof e&&s[e].call(i)})}var o=".dropdown-backdrop",n='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.5",a.prototype.toggle=function(s){var o=t(this);if(!o.is(".disabled, :disabled")){var n=e(o),a=n.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var r={relatedTarget:this};if(n.trigger(s=t.Event("show.bs.dropdown",r)),s.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger("shown.bs.dropdown",r)}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var s=t(this);if(i.preventDefault(),i.stopPropagation(),!s.is(".disabled, :disabled")){var o=e(s),a=o.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&o.find(n).trigger("focus"),s.trigger("click");var r=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+r);if(l.length){var d=l.index(i.target);38==i.which&&d>0&&d--,40==i.which&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=s,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",n,a.prototype.toggle).on("keydown.bs.dropdown.data-api",n,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,s){return this.each(function(){var o=t(this),n=o.data("bs.modal"),a=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);n||o.data("bs.modal",n=new i(this,a)),"string"==typeof e?n[e](s):a.show&&n.show(s)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.5",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var s=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){s.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(s.$element)&&(s.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&s.$element.hasClass("fade");s.$element.parent().length||s.$element.appendTo(s.$body),s.$element.show().scrollTop(0),s.adjustDialog(),o&&s.$element[0].offsetWidth,s.$element.addClass("in"),s.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});o?s.$dialog.one("bsTransitionEnd",function(){s.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(i.TRANSITION_DURATION):s.$element.trigger("focus").trigger(n)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var s=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){s.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var s=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=s,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var s=t(this),o=s.attr("href"),n=t(s.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},n.data(),s.data());s.is("a")&&i.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){s.is(":visible")&&s.trigger("focus")})}),e.call(n,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),o=s.data("bs.tooltip"),n="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||s.data("bs.tooltip",o=new i(this,n)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,s){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(s),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),n=o.length;n--;){var a=o[n];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,s){i[t]!=s&&(e[t]=s)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var s=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!s)return;var o=this,n=this.tip(),a=this.getUID(this.type);this.setContent(),n.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&n.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,d=l.test(r);d&&(r=r.replace(l,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),h=n[0].offsetWidth,p=n[0].offsetHeight;if(d){var u=r,f=this.getPosition(this.$viewport);r="bottom"==r&&c.bottom+p>f.bottom?"top":"top"==r&&c.top-p<f.top?"bottom":"right"==r&&c.right+h>f.width?"left":"left"==r&&c.left-h<f.left?"right":r,n.removeClass(u).addClass(r)}var m=this.getCalculatedOffset(r,c,h,p);this.applyPlacement(m,r);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",g).emulateTransitionEnd(i.TRANSITION_DURATION):g()}},i.prototype.applyPlacement=function(e,i){var s=this.tip(),o=s[0].offsetWidth,n=s[0].offsetHeight,a=parseInt(s.css("margin-top"),10),r=parseInt(s.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top+=a,e.left+=r,t.offset.setOffset(s[0],t.extend({using:function(t){s.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),s.addClass("in");var l=s[0].offsetWidth,d=s[0].offsetHeight;"top"==i&&d!=n&&(e.top=e.top+n-d);var c=this.getViewportAdjustedDelta(i,e,l,d);c.left?e.left+=c.left:e.top+=c.top;var h=/top|bottom/.test(i),p=h?2*c.left-o+l:2*c.top-n+d,u=h?"offsetWidth":"offsetHeight";s.offset(e),this.replaceArrow(p,s[0][u],h)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function s(){"in"!=o.hoverState&&n.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,n=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],s="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var n=s?{top:0,left:0}:e.offset(),a={scroll:s?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=s?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,a,r,n)},i.prototype.getCalculatedOffset=function(t,e,i,s){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-s,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-s/2,left:e.left-i}:{top:e.top+e.height/2-s/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,s){var o={top:0,left:0};if(!this.$viewport)return o;var n=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-n-a.scroll,l=e.top+n-a.scroll+s;r<a.top?o.top=a.top-r:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var d=e.left-n,c=e.left+n+i;d<a.left?o.left=a.left-d:c>a.right&&(o.left=a.left+a.width-c)}return o},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var s=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=s,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),o=s.data("bs.popover"),n="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||s.data("bs.popover",o=new i(this,n)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.5",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var s=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=s,this}}(jQuery),+function(t){"use strict";function e(i,s){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,s),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var s=t(this),o=s.data("bs.scrollspy"),n="object"==typeof i&&i;o||s.data("bs.scrollspy",o=new e(this,n)),"string"==typeof i&&o[i]()})}e.VERSION="3.3.5",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",s=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",s=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),n=/^#./.test(o)&&t(o);return n&&n.length&&n.is(":visible")&&[[n[i]().top+s,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),s=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,n=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=s)return a!=(t=n[n.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=n[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(n[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',s=t(i).parents("li").addClass("active");s.parent(".dropdown-menu").length&&(s=s.closest("li.dropdown").addClass("active")),
s.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var s=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=s,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),o=s.data("bs.tab");o||s.data("bs.tab",o=new i(this)),"string"==typeof e&&o[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),s=e.data("target");if(s||(s=e.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=i.find(".active:last a"),n=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(n),e.trigger(a),!a.isDefaultPrevented()&&!n.isDefaultPrevented()){var r=t(s);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(e,s,o){function n(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=s.find("> .active"),r=o&&t.support.transition&&(a.length&&a.hasClass("fade")||!!s.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),a.removeClass("in")};var s=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=s,this};var o=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),o=s.data("bs.affix"),n="object"==typeof e&&e;o||s.data("bs.affix",o=new i(this,n)),"string"==typeof e&&o[e]()})}var i=function(e,s){this.options=t.extend({},i.DEFAULTS,s),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.5",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,s){var o=this.$target.scrollTop(),n=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>o?"top":!1;if("bottom"==this.affixed)return null!=i?o+this.unpin<=n.top?!1:"bottom":t-s>=o+a?!1:"bottom";var r=null==this.affixed,l=r?o:n.top,d=r?a:e;return null!=i&&i>=o?"top":null!=s&&l+d>=t-s?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),s=this.options.offset,o=s.top,n=s.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof s&&(n=o=s),"function"==typeof o&&(o=s.top(this.$element)),"function"==typeof n&&(n=s.bottom(this.$element));var r=this.getState(a,e,o,n);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),d=t.Event(l+".bs.affix");if(this.$element.trigger(d),d.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-n})}};var s=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=s,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),s=i.data();s.offset=s.offset||{},null!=s.offsetBottom&&(s.offset.bottom=s.offsetBottom),null!=s.offsetTop&&(s.offset.top=s.offsetTop),e.call(i,s)})})}(jQuery),function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function s(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function o(t){return function(){return this[t].apply(this,arguments)}}function n(e,i){function s(t,e){return e.toLowerCase()}var o,n=t(e).data(),a={},r=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in n)i.test(l)&&(o=l.replace(r,s),a[o]=n[l]);return a}function a(e){var i={};if(f[e]||(e=e.split("-")[0],f[e])){var s=f[e];return t.each(u,function(t,e){e in s&&(i[e]=s[e])}),i}}var r=t(window),l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,s=this.length;s>i;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new l;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),d=function(e,i){this.dates=new l,this.viewDate=s(),this.focusDate=null,this._process_options(i),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};d.prototype={constructor:d,_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o),s=i.language;switch(f[s]||(s=s.split("-")[0],f[s]||(s=p.language)),i.language=s,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.multidate!==!0&&(i.multidate=Number(i.multidate)||!1,i.multidate!==!1?i.multidate=Math.max(0,i.multidate):i.multidate=1),i.multidateSeparator=String(i.multidateSeparator),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var o=m.parseFormat(i.format);i.startDate!==-(1/0)&&(i.startDate?i.startDate instanceof Date?i.startDate=this._local_to_utc(this._zero_time(i.startDate)):i.startDate=m.parseDate(i.startDate,o,i.language):i.startDate=-(1/0)),i.endDate!==1/0&&(i.endDate?i.endDate instanceof Date?i.endDate=this._local_to_utc(this._zero_time(i.endDate)):i.endDate=m.parseDate(i.endDate,o,i.language):i.endDate=1/0),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)});var n=String(i.orientation).toLowerCase().split(/\s+/g),a=i.orientation.toLowerCase();if(n=t.grep(n,function(t){return/^auto|left|right|top|bottom$/.test(t)}),i.orientation={x:"auto",y:"auto"},a&&"auto"!==a)if(1===n.length)switch(n[0]){case"top":case"bottom":i.orientation.y=n[0];break;case"left":case"right":i.orientation.x=n[0]}else a=t.grep(n,function(t){return/^left|right$/.test(t)}),i.orientation.x=a[0]||"auto",a=t.grep(n,function(t){return/^top|bottom$/.test(t)}),i.orientation.y=a[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,s,o,n=0;n<t.length;n++)i=t[n][0],2===t[n].length?(s=e,o=t[n][1]):3===t[n].length&&(s=t[n][1],o=t[n][2]),i.on(o,s)},_unapplyEvents:function(t){for(var i,s,o,n=0;n<t.length;n++)i=t[n][0],2===t[n].length?(o=e,s=t[n][1]):3===t[n].length&&(o=t[n][1],s=t[n][2]),i.off(s,o)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var s=i||this.dates.get(-1),o=this._utc_to_local(s);this.element.trigger({type:e,date:o,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return m.formatDate(i,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:o("setDates"),setUTCDate:o("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(i){i===e&&(i=this.o.format);var s=this.o.language;return t.map(this.dates,function(t){return m.formatDate(t,i,s)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),i=this.picker.outerHeight(),s=10,o=r.width(),n=r.height(),a=r.scrollTop(),l=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,d=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=d.left,u=d.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-h)):(this.picker.addClass("datepicker-orient-left"),d.left<0?p-=d.left-s:d.left+e>o&&(p=o-e-s));var f,m,g=this.o.orientation.y;"auto"===g&&(f=-a+d.top-i,m=a+n-(d.top+c+i),g=Math.max(f,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+g),"top"===g?u+=c:u-=i+parseInt(this.picker.css("padding-top")),this.picker.css({top:u,left:p,zIndex:l})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),i=[],s=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),s=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return m.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),s?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+f[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+f[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],s=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),n=new Date;return e.getUTCFullYear()<s||e.getUTCFullYear()===s&&e.getUTCMonth()<o?i.push("old"):(e.getUTCFullYear()>s||e.getUTCFullYear()===s&&e.getUTCMonth()>o)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===n.getFullYear()&&e.getUTCMonth()===n.getMonth()&&e.getUTCDate()===n.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var s,o=new Date(this.viewDate),n=o.getUTCFullYear(),a=o.getUTCMonth(),r=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),d=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=f[this.o.language].today||f.en.today||"",p=f[this.o.language].clear||f.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(f[this.o.language].months[a]+" "+n),this.picker.find("tfoot th.today").text(h).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(p).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var u=i(n,a-1,28),g=m.getDaysInMonth(u.getUTCFullYear(),u.getUTCMonth());u.setUTCDate(g),u.setUTCDate(g-(u.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(u);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var b,y=[];u.valueOf()<v;){if(u.getUTCDay()===this.o.weekStart&&(y.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+u+(this.o.weekStart-u.getUTCDay()-7)%7*864e5),x=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),_=new Date(Number(_=i(x.getUTCFullYear(),0,1))+(11-_.getUTCDay())%7*864e5),k=(x-_)/864e5/7+1;y.push('<td class="cw">'+k+"</td>")}if(b=this.getClassNames(u),b.push("day"),this.o.beforeShowDay!==t.noop){var C=this.o.beforeShowDay(this._utc_to_local(u));C===e?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),C.enabled===!1&&b.push("disabled"),C.classes&&(b=b.concat(C.classes.split(/\s+/))),C.tooltip&&(s=C.tooltip)}b=t.unique(b),y.push('<td class="'+b.join(" ")+'"'+(s?' title="'+s+'"':"")+">"+u.getUTCDate()+"</td>"),u.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),u.setUTCDate(u.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var T=this.picker.find(".datepicker-months").find("th:eq(1)").text(n).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===n&&T.eq(e.getUTCMonth()).addClass("active")}),(r>n||n>d)&&T.addClass("disabled"),n===r&&T.slice(0,l).addClass("disabled"),n===d&&T.slice(c+1).addClass("disabled"),y="",n=10*parseInt(n/10,10);var $=this.picker.find(".datepicker-years").find("th:eq(1)").text(n+"-"+(n+9)).end().find("td");n-=1;for(var D,S=t.map(this.dates,function(t){return t.getUTCFullYear()}),E=-1;11>E;E++)D=["year"],-1===E?D.push("old"):10===E&&D.push("new"),-1!==t.inArray(n,S)&&D.push("active"),(r>n||n>d)&&D.push("disabled"),y+='<span class="'+D.join(" ")+'">'+n+"</span>",n+=1;$.html(y)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var s,o,n,a=t(e.target).closest("span, td, th");if(1===a.length)switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=m.modes[this.viewMode].navStep*("prev"===a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var d="linked"===this.o.todayBtn?null:"view";this._setDate(l,d);break;case"clear":var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input")),c&&c.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":a.is(".disabled")||(this.viewDate.setUTCDate(1),a.is(".month")?(n=1,o=a.parent().find("span").index(a),s=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(o),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(i(s,o,n))):(n=1,o=0,s=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(s),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(s,o,n))),this.showMode(-1),this.fill());break;case"td":a.is(".day")&&!a.is(".disabled")&&(n=parseInt(a.text(),10)||1,s=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),a.is(".old")?0===o?(o=11,s-=1):o-=1:a.is(".new")&&(11===o?(o=0,s+=1):o+=1),this._setDate(i(s,o,n)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,i){if(!t)return e;if(!i)return t;var s,o,n=new Date(t.valueOf()),a=n.getUTCDate(),r=n.getUTCMonth(),l=Math.abs(i);if(i=i>0?1:-1,1===l)o=-1===i?function(){return n.getUTCMonth()===r}:function(){return n.getUTCMonth()!==s},s=r+i,n.setUTCMonth(s),(0>s||s>11)&&(s=(s+12)%12);else{for(var d=0;l>d;d++)n=this.moveMonth(n,i);s=n.getUTCMonth(),n.setUTCDate(a),o=function(){return s!==n.getUTCMonth()}}for(;o();)n.setUTCDate(--a),n.setUTCMonth(s);return n},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,i,o,n=!1,a=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||s(),e),o=this.moveYear(a,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||s(),e),o=this.moveMonth(a,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||s()),i.setUTCDate(i.getUTCDate()+e),o=new Date(a),o.setUTCDate(a.getUTCDate()+e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||s(),e),o=this.moveYear(a,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||s(),e),o=this.moveMonth(a,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||s()),i.setUTCDate(i.getUTCDate()+7*e),o=new Date(a),o.setUTCDate(a.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:a=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(a),n=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(n){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,t(this.inputs).datepicker(i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker"),s=i.getUTCDate(),o=t.inArray(e.target,this.inputs),n=this.inputs.length;if(-1!==o){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(s)}),s<this.dates[o])for(;o>=0&&s<this.dates[o];)this.pickers[o--].setUTCDate(s);else if(s>this.dates[o])for(;n>o&&s>this.dates[o];)this.pickers[o++].setUTCDate(s);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var h=t.fn.datepicker;t.fn.datepicker=function(i){var s=Array.apply(null,arguments);s.shift();var o;return this.each(function(){var r=t(this),l=r.data("datepicker"),h="object"==typeof i&&i;if(!l){var u=n(this,"date"),f=t.extend({},p,u,h),m=a(f.language),g=t.extend({},p,m,u,h);if(r.is(".input-daterange")||g.inputs){var v={inputs:g.inputs||r.find("input").toArray()};r.data("datepicker",l=new c(this,t.extend(g,v)))}else r.data("datepicker",l=new d(this,g))}return"string"==typeof i&&"function"==typeof l[i]&&(o=l[i].apply(l,s),o!==e)?!1:void 0}),o!==e?o:this};var p=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},u=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=d;var f=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,m.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(s,o,n){function a(){var t=this.slice(0,p[c].length),e=p[c].slice(0,t.length);return t===e}if(!s)return e;if(s instanceof Date)return s;"string"==typeof o&&(o=m.parseFormat(o));var r,l,c,h=/([\-+]\d+)([dmwy])/,p=s.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(s)){for(s=new Date,c=0;c<p.length;c++)switch(r=h.exec(p[c]),l=parseInt(r[1]),r[2]){case"d":s.setUTCDate(s.getUTCDate()+l);break;case"m":s=d.prototype.moveMonth.call(d.prototype,s,l);break;case"w":s.setUTCDate(s.getUTCDate()+7*l);break;case"y":s=d.prototype.moveYear.call(d.prototype,s,l)}return i(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),0,0,0)}p=s&&s.match(this.nonpunctuation)||[],s=new Date;var u,g,v={},b=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,s=i(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0);var w=o.parts.slice();if(p.length!==w.length&&(w=t(w).filter(function(e,i){return-1!==t.inArray(i,b)}).toArray()),p.length===w.length){var x;for(c=0,x=w.length;x>c;c++){if(u=parseInt(p[c],10),r=w[c],isNaN(u))switch(r){case"MM":g=t(f[n].months).filter(a),u=t.inArray(g[0],f[n].months)+1;break;case"M":g=t(f[n].monthsShort).filter(a),u=t.inArray(g[0],f[n].monthsShort)+1}v[r]=u}var _,k;for(c=0;c<b.length;c++)k=b[c],k in v&&!isNaN(v[k])&&(_=new Date(s),y[k](_,v[k]),isNaN(_)||(s=_))}return s},formatDate:function(e,i,s){if(!e)return"";"string"==typeof i&&(i=m.parseFormat(i));var o={d:e.getUTCDate(),D:f[s].daysShort[e.getUTCDay()],DD:f[s].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:f[s].monthsShort[e.getUTCMonth()],MM:f[s].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m,e=[];for(var n=t.extend([],i.separators),a=0,r=i.parts.length;r>=a;a++)n.length&&e.push(n.shift()),e.push(o[i.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=m,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=h,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),i.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(t){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],t);else if("object"==typeof exports)t(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";t(jQuery,moment)}}(function(t,e){"use strict";if(!e)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");
var i=function(i,s){var o,n,a,r,l,d,c,h={},p=!0,u=!1,f=!1,m=0,g=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],b=["top","bottom","auto"],y=["left","right","auto"],w=["default","top","bottom"],x={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},_={},k=function(t){var i,o,n,a,r,l=!1;return void 0!==e.tz&&void 0!==s.timeZone&&null!==s.timeZone&&""!==s.timeZone&&(l=!0),void 0===t||null===t?i=l?e().tz(s.timeZone).startOf("d"):e().startOf("d"):l?(o=e().tz(s.timeZone).utcOffset(),n=e(t,d,s.useStrict).utcOffset(),n!==o?(a=e().tz(s.timeZone).format("Z"),r=e(t,d,s.useStrict).format("YYYY-MM-DD[T]HH:mm:ss")+a,i=e(r,d,s.useStrict).tz(s.timeZone)):i=e(t,d,s.useStrict).tz(s.timeZone)):i=e(t,d,s.useStrict),i},C=function(t){if("string"!=typeof t||t.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==l.indexOf("Y");case"M":return-1!==l.indexOf("M");case"d":return-1!==l.toLowerCase().indexOf("d");case"h":case"H":return-1!==l.toLowerCase().indexOf("h");case"m":return-1!==l.indexOf("m");case"s":return-1!==l.indexOf("s");default:return!1}},T=function(){return C("h")||C("m")||C("s")},$=function(){return C("y")||C("M")||C("d")},D=function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(s.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",s.calendarWeeks?"6":"5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(s.icons.next)))),i=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan",s.calendarWeeks?"8":"7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table-condensed").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone())),t("<div>").addClass("datepicker-decades").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone()))]},S=function(){var e=t("<tr>"),i=t("<tr>"),o=t("<tr>");return C("h")&&(e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:s.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(s.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:s.tooltips.pickHour}).attr("data-action","showHours"))),o.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:s.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(s.icons.down))))),C("m")&&(C("h")&&(e.append(t("<td>").addClass("separator")),i.append(t("<td>").addClass("separator").html(":")),o.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:s.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(s.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:s.tooltips.pickMinute}).attr("data-action","showMinutes"))),o.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:s.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(s.icons.down))))),C("s")&&(C("m")&&(e.append(t("<td>").addClass("separator")),i.append(t("<td>").addClass("separator").html(":")),o.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:s.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(s.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:s.tooltips.pickSecond}).attr("data-action","showSeconds"))),o.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:s.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(s.icons.down))))),r||(e.append(t("<td>").addClass("separator")),i.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:s.tooltips.togglePeriod}))),o.append(t("<td>").addClass("separator"))),t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,i,o]))},E=function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),i=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),s=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),o=[S()];return C("h")&&o.push(e),C("m")&&o.push(i),C("s")&&o.push(s),o},M=function(){var e=[];return s.showTodayButton&&e.push(t("<td>").append(t("<a>").attr({"data-action":"today",title:s.tooltips.today}).append(t("<span>").addClass(s.icons.today)))),!s.sideBySide&&$()&&T()&&e.push(t("<td>").append(t("<a>").attr({"data-action":"togglePicker",title:s.tooltips.selectTime}).append(t("<span>").addClass(s.icons.time)))),s.showClear&&e.push(t("<td>").append(t("<a>").attr({"data-action":"clear",title:s.tooltips.clear}).append(t("<span>").addClass(s.icons.clear)))),s.showClose&&e.push(t("<td>").append(t("<a>").attr({"data-action":"close",title:s.tooltips.close}).append(t("<span>").addClass(s.icons.close)))),t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(e)))},I=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=t("<div>").addClass("datepicker").append(D()),o=t("<div>").addClass("timepicker").append(E()),n=t("<ul>").addClass("list-unstyled"),a=t("<li>").addClass("picker-switch"+(s.collapse?" accordion-toggle":"")).append(M());return s.inline&&e.removeClass("dropdown-menu"),r&&e.addClass("usetwentyfour"),C("s")&&!r&&e.addClass("wider"),s.sideBySide&&$()&&T()?(e.addClass("timepicker-sbs"),"top"===s.toolbarPlacement&&e.append(a),e.append(t("<div>").addClass("row").append(i.addClass("col-md-6")).append(o.addClass("col-md-6"))),"bottom"===s.toolbarPlacement&&e.append(a),e):("top"===s.toolbarPlacement&&n.append(a),$()&&n.append(t("<li>").addClass(s.collapse&&T()?"collapse in":"").append(i)),"default"===s.toolbarPlacement&&n.append(a),T()&&n.append(t("<li>").addClass(s.collapse&&$()?"collapse":"").append(o)),"bottom"===s.toolbarPlacement&&n.append(a),e.append(n))},P=function(){var e,o={};return e=i.is("input")||s.inline?i.data():i.find("input").data(),e.dateOptions&&e.dateOptions instanceof Object&&(o=t.extend(!0,o,e.dateOptions)),t.each(s,function(t){var i="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==e[i]&&(o[t]=e[i])}),o},O=function(){var e,o=(u||i).position(),n=(u||i).offset(),a=s.widgetPositioning.vertical,r=s.widgetPositioning.horizontal;if(s.widgetParent)e=s.widgetParent.append(f);else if(i.is("input"))e=i.after(f).parent();else{if(s.inline)return void(e=i.append(f));e=i,i.children().first().after(f)}if("auto"===a&&(a=n.top+1.5*f.height()>=t(window).height()+t(window).scrollTop()&&f.height()+i.outerHeight()<n.top?"top":"bottom"),"auto"===r&&(r=e.width()<n.left+f.outerWidth()/2&&n.left+f.outerWidth()>t(window).width()?"right":"left"),"top"===a?f.addClass("top").removeClass("bottom"):f.addClass("bottom").removeClass("top"),"right"===r?f.addClass("pull-right"):f.removeClass("pull-right"),"relative"!==e.css("position")&&(e=e.parents().filter(function(){return"relative"===t(this).css("position")}).first()),0===e.length)throw new Error("datetimepicker component should be placed within a relative positioned container");f.css({top:"top"===a?"auto":o.top+i.outerHeight(),bottom:"top"===a?o.top+i.outerHeight():"auto",left:"left"===r?e===i?0:o.left:"auto",right:"left"===r?"auto":e.outerWidth()-i.outerWidth()-(e===i?0:o.left)})},A=function(t){"dp.change"===t.type&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)||i.trigger(t)},F=function(t){"y"===t&&(t="YYYY"),A({type:"dp.update",change:t,viewDate:n.clone()})},z=function(t){f&&(t&&(c=Math.max(m,Math.min(3,c+t))),f.find(".datepicker > div").hide().filter(".datepicker-"+g[c].clsName).show())},j=function(){var e=t("<tr>"),i=n.clone().startOf("w").startOf("d");for(s.calendarWeeks===!0&&e.append(t("<th>").addClass("cw").text("#"));i.isBefore(n.clone().endOf("w"));)e.append(t("<th>").addClass("dow").text(i.format("dd"))),i.add(1,"d");f.find(".datepicker-days thead").append(e)},U=function(t){return s.disabledDates[t.format("YYYY-MM-DD")]===!0},L=function(t){return s.enabledDates[t.format("YYYY-MM-DD")]===!0},R=function(t){return s.disabledHours[t.format("H")]===!0},N=function(t){return s.enabledHours[t.format("H")]===!0},B=function(e,i){if(!e.isValid())return!1;if(s.disabledDates&&"d"===i&&U(e))return!1;if(s.enabledDates&&"d"===i&&!L(e))return!1;if(s.minDate&&e.isBefore(s.minDate,i))return!1;if(s.maxDate&&e.isAfter(s.maxDate,i))return!1;if(s.daysOfWeekDisabled&&"d"===i&&-1!==s.daysOfWeekDisabled.indexOf(e.day()))return!1;if(s.disabledHours&&("h"===i||"m"===i||"s"===i)&&R(e))return!1;if(s.enabledHours&&("h"===i||"m"===i||"s"===i)&&!N(e))return!1;if(s.disabledTimeIntervals&&("h"===i||"m"===i||"s"===i)){var o=!1;if(t.each(s.disabledTimeIntervals,function(){return e.isBetween(this[0],this[1])?(o=!0,!1):void 0}),o)return!1}return!0},H=function(){for(var e=[],i=n.clone().startOf("y").startOf("d");i.isSame(n,"y");)e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(i.format("MMM"))),i.add(1,"M");f.find(".datepicker-months td").empty().append(e)},Y=function(){var e=f.find(".datepicker-months"),i=e.find("th"),a=e.find("tbody").find("span");i.eq(0).find("span").attr("title",s.tooltips.prevYear),i.eq(1).attr("title",s.tooltips.selectYear),i.eq(2).find("span").attr("title",s.tooltips.nextYear),e.find(".disabled").removeClass("disabled"),B(n.clone().subtract(1,"y"),"y")||i.eq(0).addClass("disabled"),i.eq(1).text(n.year()),B(n.clone().add(1,"y"),"y")||i.eq(2).addClass("disabled"),a.removeClass("active"),o.isSame(n,"y")&&!p&&a.eq(o.month()).addClass("active"),a.each(function(e){B(n.clone().month(e),"M")||t(this).addClass("disabled")})},W=function(){var t=f.find(".datepicker-years"),e=t.find("th"),i=n.clone().subtract(5,"y"),a=n.clone().add(6,"y"),r="";for(e.eq(0).find("span").attr("title",s.tooltips.prevDecade),e.eq(1).attr("title",s.tooltips.selectDecade),e.eq(2).find("span").attr("title",s.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),s.minDate&&s.minDate.isAfter(i,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(i.year()+"-"+a.year()),s.maxDate&&s.maxDate.isBefore(a,"y")&&e.eq(2).addClass("disabled");!i.isAfter(a,"y");)r+='<span data-action="selectYear" class="year'+(i.isSame(o,"y")&&!p?" active":"")+(B(i,"y")?"":" disabled")+'">'+i.year()+"</span>",i.add(1,"y");t.find("td").html(r)},q=function(){var t=f.find(".datepicker-decades"),i=t.find("th"),a=e({y:n.year()-n.year()%100-1}),r=a.clone().add(100,"y"),l=a.clone(),d="";for(i.eq(0).find("span").attr("title",s.tooltips.prevCentury),i.eq(2).find("span").attr("title",s.tooltips.nextCentury),t.find(".disabled").removeClass("disabled"),(a.isSame(e({y:1900}))||s.minDate&&s.minDate.isAfter(a,"y"))&&i.eq(0).addClass("disabled"),i.eq(1).text(a.year()+"-"+r.year()),(a.isSame(e({y:2e3}))||s.maxDate&&s.maxDate.isBefore(r,"y"))&&i.eq(2).addClass("disabled");!a.isAfter(r,"y");)d+='<span data-action="selectDecade" class="decade'+(a.isSame(o,"y")?" active":"")+(B(a,"y")?"":" disabled")+'" data-selection="'+(a.year()+6)+'">'+(a.year()+1)+" - "+(a.year()+12)+"</span>",a.add(12,"y");d+="<span></span><span></span><span></span>",t.find("td").html(d),i.eq(1).text(l.year()+1+"-"+a.year())},V=function(){var e,i,a,r,l=f.find(".datepicker-days"),d=l.find("th"),c=[];if($()){for(d.eq(0).find("span").attr("title",s.tooltips.prevMonth),d.eq(1).attr("title",s.tooltips.selectMonth),d.eq(2).find("span").attr("title",s.tooltips.nextMonth),l.find(".disabled").removeClass("disabled"),d.eq(1).text(n.format(s.dayViewHeaderFormat)),B(n.clone().subtract(1,"M"),"M")||d.eq(0).addClass("disabled"),B(n.clone().add(1,"M"),"M")||d.eq(2).addClass("disabled"),e=n.clone().startOf("M").startOf("w").startOf("d"),r=0;42>r;r++)0===e.weekday()&&(i=t("<tr>"),s.calendarWeeks&&i.append('<td class="cw">'+e.week()+"</td>"),c.push(i)),a="",e.isBefore(n,"M")&&(a+=" old"),e.isAfter(n,"M")&&(a+=" new"),e.isSame(o,"d")&&!p&&(a+=" active"),B(e,"d")||(a+=" disabled"),e.isSame(k(),"d")&&(a+=" today"),(0===e.day()||6===e.day())&&(a+=" weekend"),i.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="day'+a+'">'+e.date()+"</td>"),e.add(1,"d");l.find("tbody").empty().append(c),Y(),W(),q()}},Q=function(){var e=f.find(".timepicker-hours table"),i=n.clone().startOf("d"),s=[],o=t("<tr>");for(n.hour()>11&&!r&&i.hour(12);i.isSame(n,"d")&&(r||n.hour()<12&&i.hour()<12||n.hour()>11);)i.hour()%4===0&&(o=t("<tr>"),s.push(o)),o.append('<td data-action="selectHour" class="hour'+(B(i,"h")?"":" disabled")+'">'+i.format(r?"HH":"hh")+"</td>"),i.add(1,"h");e.empty().append(s)},Z=function(){for(var e=f.find(".timepicker-minutes table"),i=n.clone().startOf("h"),o=[],a=t("<tr>"),r=1===s.stepping?5:s.stepping;n.isSame(i,"h");)i.minute()%(4*r)===0&&(a=t("<tr>"),o.push(a)),a.append('<td data-action="selectMinute" class="minute'+(B(i,"m")?"":" disabled")+'">'+i.format("mm")+"</td>"),i.add(r,"m");e.empty().append(o)},X=function(){for(var e=f.find(".timepicker-seconds table"),i=n.clone().startOf("m"),s=[],o=t("<tr>");n.isSame(i,"m");)i.second()%20===0&&(o=t("<tr>"),s.push(o)),o.append('<td data-action="selectSecond" class="second'+(B(i,"s")?"":" disabled")+'">'+i.format("ss")+"</td>"),i.add(5,"s");e.empty().append(s)},K=function(){var t,e,i=f.find(".timepicker span[data-time-component]");r||(t=f.find(".timepicker [data-action=togglePeriod]"),e=o.clone().add(o.hours()>=12?-12:12,"h"),t.text(o.format("A")),B(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),i.filter("[data-time-component=hours]").text(o.format(r?"HH":"hh")),i.filter("[data-time-component=minutes]").text(o.format("mm")),i.filter("[data-time-component=seconds]").text(o.format("ss")),Q(),Z(),X()},J=function(){f&&(V(),K())},G=function(t){var e=p?null:o;return t?(t=t.clone().locale(s.locale),1!==s.stepping&&t.minutes(Math.round(t.minutes()/s.stepping)*s.stepping%60).seconds(0),void(B(t)?(o=t,n=o.clone(),a.val(o.format(l)),i.data("date",o.format(l)),p=!1,J(),A({type:"dp.change",date:o.clone(),oldDate:e})):(s.keepInvalid||a.val(p?"":o.format(l)),A({type:"dp.error",date:t})))):(p=!0,a.val(""),i.data("date",""),A({type:"dp.change",date:!1,oldDate:e}),void J())},tt=function(){var e=!1;return f?(f.find(".collapse").each(function(){var i=t(this).data("collapse");return i&&i.transitioning?(e=!0,!1):!0}),e?h:(u&&u.hasClass("btn")&&u.toggleClass("active"),f.hide(),t(window).off("resize",O),f.off("click","[data-action]"),f.off("mousedown",!1),f.remove(),f=!1,A({type:"dp.hide",date:o.clone()}),a.blur(),h)):h},et=function(){G(null)},it={next:function(){var t=g[c].navFnc;n.add(g[c].navStep,t),V(),F(t)},previous:function(){var t=g[c].navFnc;n.subtract(g[c].navStep,t),V(),F(t)},pickerSwitch:function(){z(1)},selectMonth:function(e){var i=t(e.target).closest("tbody").find("span").index(t(e.target));n.month(i),c===m?(G(o.clone().year(n.year()).month(n.month())),s.inline||tt()):(z(-1),V()),F("M")},selectYear:function(e){var i=parseInt(t(e.target).text(),10)||0;n.year(i),c===m?(G(o.clone().year(n.year())),s.inline||tt()):(z(-1),V()),F("YYYY")},selectDecade:function(e){var i=parseInt(t(e.target).data("selection"),10)||0;n.year(i),c===m?(G(o.clone().year(n.year())),s.inline||tt()):(z(-1),V()),F("YYYY")},selectDay:function(e){var i=n.clone();t(e.target).is(".old")&&i.subtract(1,"M"),t(e.target).is(".new")&&i.add(1,"M"),G(i.date(parseInt(t(e.target).text(),10))),T()||s.keepOpen||s.inline||tt()},incrementHours:function(){var t=o.clone().add(1,"h");B(t,"h")&&G(t)},incrementMinutes:function(){var t=o.clone().add(s.stepping,"m");B(t,"m")&&G(t)},incrementSeconds:function(){var t=o.clone().add(1,"s");B(t,"s")&&G(t)},decrementHours:function(){var t=o.clone().subtract(1,"h");B(t,"h")&&G(t)},decrementMinutes:function(){var t=o.clone().subtract(s.stepping,"m");B(t,"m")&&G(t)},decrementSeconds:function(){var t=o.clone().subtract(1,"s");B(t,"s")&&G(t)},togglePeriod:function(){G(o.clone().add(o.hours()>=12?-12:12,"h"))},togglePicker:function(e){var i,o=t(e.target),n=o.closest("ul"),a=n.find(".in"),r=n.find(".collapse:not(.in)");if(a&&a.length){if(i=a.data("collapse"),i&&i.transitioning)return;a.collapse?(a.collapse("hide"),r.collapse("show")):(a.removeClass("in"),r.addClass("in")),o.is("span")?o.toggleClass(s.icons.time+" "+s.icons.date):o.find("span").toggleClass(s.icons.time+" "+s.icons.date)}},showPicker:function(){f.find(".timepicker > div:not(.timepicker-picker)").hide(),f.find(".timepicker .timepicker-picker").show()},showHours:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-hours").show()},showMinutes:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var i=parseInt(t(e.target).text(),10);r||(o.hours()>=12?12!==i&&(i+=12):12===i&&(i=0)),G(o.clone().hours(i)),it.showPicker.call(h)},selectMinute:function(e){G(o.clone().minutes(parseInt(t(e.target).text(),10))),it.showPicker.call(h)},selectSecond:function(e){G(o.clone().seconds(parseInt(t(e.target).text(),10))),it.showPicker.call(h)},clear:et,today:function(){var t=k();B(t,"d")&&G(t)},close:tt},st=function(e){return t(e.currentTarget).is(".disabled")?!1:(it[t(e.currentTarget).data("action")].apply(h,arguments),!1)},ot=function(){var e,i={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}};return a.prop("disabled")||!s.ignoreReadonly&&a.prop("readonly")||f?h:(void 0!==a.val()&&0!==a.val().trim().length?G(at(a.val().trim())):s.useCurrent&&p&&(a.is("input")&&0===a.val().trim().length||s.inline)&&(e=k(),"string"==typeof s.useCurrent&&(e=i[s.useCurrent](e)),G(e)),f=I(),j(),H(),f.find(".timepicker-hours").hide(),f.find(".timepicker-minutes").hide(),f.find(".timepicker-seconds").hide(),J(),z(),t(window).on("resize",O),f.on("click","[data-action]",st),f.on("mousedown",!1),u&&u.hasClass("btn")&&u.toggleClass("active"),f.show(),O(),s.focusOnShow&&!a.is(":focus")&&a.focus(),A({type:"dp.show"}),h)},nt=function(){return f?tt():ot()},at=function(t){return t=void 0===s.parseInputDate?e.isMoment(t)||t instanceof Date?e(t):k(t):s.parseInputDate(t),t.locale(s.locale),t},rt=function(t){var e,i,o,n,a=null,r=[],l={},d=t.which,c="p";_[d]=c;for(e in _)_.hasOwnProperty(e)&&_[e]===c&&(r.push(e),parseInt(e,10)!==d&&(l[e]=!0));for(e in s.keyBinds)if(s.keyBinds.hasOwnProperty(e)&&"function"==typeof s.keyBinds[e]&&(o=e.split(" "),o.length===r.length&&x[d]===o[o.length-1])){for(n=!0,i=o.length-2;i>=0;i--)if(!(x[o[i]]in l)){n=!1;break}if(n){a=s.keyBinds[e];break}}a&&(a.call(h,f),t.stopPropagation(),t.preventDefault())},lt=function(t){_[t.which]="r",t.stopPropagation(),t.preventDefault()},dt=function(e){var i=t(e.target).val().trim(),s=i?at(i):null;return G(s),e.stopImmediatePropagation(),!1},ct=function(){a.on({change:dt,blur:s.debug?"":tt,keydown:rt,keyup:lt,focus:s.allowInputToggle?ot:""}),i.is("input")?a.on({focus:ot}):u&&(u.on("click",nt),u.on("mousedown",!1))},ht=function(){a.off({change:dt,blur:blur,keydown:rt,keyup:lt,focus:s.allowInputToggle?tt:""}),i.is("input")?a.off({focus:ot}):u&&(u.off("click",nt),u.off("mousedown",!1))},pt=function(e){var i={};return t.each(e,function(){var t=at(this);t.isValid()&&(i[t.format("YYYY-MM-DD")]=!0)}),Object.keys(i).length?i:!1},ut=function(e){var i={};return t.each(e,function(){i[this]=!0}),Object.keys(i).length?i:!1},ft=function(){var t=s.format||"L LT";l=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){var e=o.localeData().longDateFormat(t)||t;return e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return o.localeData().longDateFormat(t)||t})}),d=s.extraFormats?s.extraFormats.slice():[],d.indexOf(t)<0&&d.indexOf(l)<0&&d.push(l),r=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,C("y")&&(m=2),C("M")&&(m=1),C("d")&&(m=0),c=Math.max(m,c),p||G(o)};if(h.destroy=function(){tt(),ht(),i.removeData("DateTimePicker"),i.removeData("date")},h.toggle=nt,h.show=ot,h.hide=tt,h.disable=function(){return tt(),u&&u.hasClass("btn")&&u.addClass("disabled"),a.prop("disabled",!0),h},h.enable=function(){return u&&u.hasClass("btn")&&u.removeClass("disabled"),a.prop("disabled",!1),h},h.ignoreReadonly=function(t){if(0===arguments.length)return s.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return s.ignoreReadonly=t,h},h.options=function(e){if(0===arguments.length)return t.extend(!0,{},s);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return t.extend(!0,s,e),t.each(s,function(t,e){if(void 0===h[t])throw new TypeError("option "+t+" is not recognized!");h[t](e)}),h},h.date=function(t){if(0===arguments.length)return p?null:o.clone();if(!(null===t||"string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return G(null===t?null:at(t)),h},h.format=function(t){if(0===arguments.length)return s.format;if("string"!=typeof t&&("boolean"!=typeof t||t!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+t);return s.format=t,l&&ft(),h},h.timeZone=function(t){return 0===arguments.length?s.timeZone:(s.timeZone=t,h)},h.dayViewHeaderFormat=function(t){if(0===arguments.length)return s.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return s.dayViewHeaderFormat=t,h},h.extraFormats=function(t){if(0===arguments.length)return s.extraFormats;if(t!==!1&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return s.extraFormats=t,d&&ft(),h},h.disabledDates=function(e){if(0===arguments.length)return s.disabledDates?t.extend({},s.disabledDates):s.disabledDates;if(!e)return s.disabledDates=!1,J(),h;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return s.disabledDates=pt(e),s.enabledDates=!1,J(),h},h.enabledDates=function(e){if(0===arguments.length)return s.enabledDates?t.extend({},s.enabledDates):s.enabledDates;if(!e)return s.enabledDates=!1,J(),h;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return s.enabledDates=pt(e),s.disabledDates=!1,J(),h},h.daysOfWeekDisabled=function(t){if(0===arguments.length)return s.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return s.daysOfWeekDisabled=!1,J(),h;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(s.daysOfWeekDisabled=t.reduce(function(t,e){return e=parseInt(e,10),e>6||0>e||isNaN(e)?t:(-1===t.indexOf(e)&&t.push(e),t)},[]).sort(),s.useCurrent&&!s.keepInvalid){for(var e=0;!B(o,"d");){if(o.add(1,"d"),7===e)throw"Tried 7 times to find a valid date";e++}G(o)}return J(),h},h.maxDate=function(t){if(0===arguments.length)return s.maxDate?s.maxDate.clone():s.maxDate;if("boolean"==typeof t&&t===!1)return s.maxDate=!1,J(),h;"string"==typeof t&&("now"===t||"moment"===t)&&(t=k());var e=at(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(s.minDate&&e.isBefore(s.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(l));return s.maxDate=e,s.useCurrent&&!s.keepInvalid&&o.isAfter(t)&&G(s.maxDate),n.isAfter(e)&&(n=e.clone().subtract(s.stepping,"m")),J(),h},h.minDate=function(t){if(0===arguments.length)return s.minDate?s.minDate.clone():s.minDate;if("boolean"==typeof t&&t===!1)return s.minDate=!1,J(),h;"string"==typeof t&&("now"===t||"moment"===t)&&(t=k());var e=at(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(s.maxDate&&e.isAfter(s.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(l));return s.minDate=e,s.useCurrent&&!s.keepInvalid&&o.isBefore(t)&&G(s.minDate),n.isBefore(e)&&(n=e.clone().add(s.stepping,"m")),J(),h},h.defaultDate=function(t){if(0===arguments.length)return s.defaultDate?s.defaultDate.clone():s.defaultDate;if(!t)return s.defaultDate=!1,h;"string"==typeof t&&("now"===t||"moment"===t)&&(t=k());var e=at(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!B(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return s.defaultDate=e,(s.defaultDate&&s.inline||""===a.val().trim())&&G(s.defaultDate),h},h.locale=function(t){if(0===arguments.length)return s.locale;if(!e.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return s.locale=t,o.locale(s.locale),n.locale(s.locale),l&&ft(),f&&(tt(),ot()),h},h.stepping=function(t){return 0===arguments.length?s.stepping:(t=parseInt(t,10),(isNaN(t)||1>t)&&(t=1),s.stepping=t,h)},h.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return s.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));return s.useCurrent=t,h},h.collapse=function(t){if(0===arguments.length)return s.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return s.collapse===t?h:(s.collapse=t,f&&(tt(),ot()),h)},h.icons=function(e){if(0===arguments.length)return t.extend({},s.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return t.extend(s.icons,e),f&&(tt(),ot()),h},h.tooltips=function(e){if(0===arguments.length)return t.extend({},s.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return t.extend(s.tooltips,e),f&&(tt(),ot()),h},h.useStrict=function(t){if(0===arguments.length)return s.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");return s.useStrict=t,h},h.sideBySide=function(t){if(0===arguments.length)return s.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return s.sideBySide=t,f&&(tt(),ot()),h},h.viewMode=function(t){if(0===arguments.length)return s.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return s.viewMode=t,c=Math.max(v.indexOf(t),m),z(),h},h.toolbarPlacement=function(t){if(0===arguments.length)return s.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===w.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return s.toolbarPlacement=t,f&&(tt(),ot()),h},h.widgetPositioning=function(e){if(0===arguments.length)return t.extend({},s.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===y.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+y.join(", ")+")");s.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===b.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+b.join(", ")+")");s.widgetPositioning.vertical=e.vertical}return J(),h},h.calendarWeeks=function(t){if(0===arguments.length)return s.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return s.calendarWeeks=t,J(),h},h.showTodayButton=function(t){if(0===arguments.length)return s.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return s.showTodayButton=t,f&&(tt(),ot()),h},h.showClear=function(t){if(0===arguments.length)return s.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return s.showClear=t,f&&(tt(),ot()),h},h.widgetParent=function(e){if(0===arguments.length)return s.widgetParent;if("string"==typeof e&&(e=t(e)),null!==e&&"string"!=typeof e&&!(e instanceof t))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return s.widgetParent=e,f&&(tt(),ot()),h},h.keepOpen=function(t){if(0===arguments.length)return s.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");return s.keepOpen=t,h},h.focusOnShow=function(t){if(0===arguments.length)return s.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");return s.focusOnShow=t,h},h.inline=function(t){if(0===arguments.length)return s.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");return s.inline=t,h},h.clear=function(){return et(),h},h.keyBinds=function(t){return s.keyBinds=t,h},h.getMoment=function(t){return k(t)},h.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");return s.debug=t,h},h.allowInputToggle=function(t){if(0===arguments.length)return s.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");return s.allowInputToggle=t,h},h.showClose=function(t){if(0===arguments.length)return s.showClose;if("boolean"!=typeof t)throw new TypeError("showClose() expects a boolean parameter");return s.showClose=t,h},h.keepInvalid=function(t){if(0===arguments.length)return s.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");return s.keepInvalid=t,h},h.datepickerInput=function(t){if(0===arguments.length)return s.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");return s.datepickerInput=t,h},h.parseInputDate=function(t){if(0===arguments.length)return s.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() sholud be as function");return s.parseInputDate=t,h},h.disabledTimeIntervals=function(e){if(0===arguments.length)return s.disabledTimeIntervals?t.extend({},s.disabledTimeIntervals):s.disabledTimeIntervals;if(!e)return s.disabledTimeIntervals=!1,J(),h;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return s.disabledTimeIntervals=e,J(),h},h.disabledHours=function(e){if(0===arguments.length)return s.disabledHours?t.extend({},s.disabledHours):s.disabledHours;
if(!e)return s.disabledHours=!1,J(),h;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(s.disabledHours=ut(e),s.enabledHours=!1,s.useCurrent&&!s.keepInvalid){for(var i=0;!B(o,"h");){if(o.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}G(o)}return J(),h},h.enabledHours=function(e){if(0===arguments.length)return s.enabledHours?t.extend({},s.enabledHours):s.enabledHours;if(!e)return s.enabledHours=!1,J(),h;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(s.enabledHours=ut(e),s.disabledHours=!1,s.useCurrent&&!s.keepInvalid){for(var i=0;!B(o,"h");){if(o.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}G(o)}return J(),h},h.viewDate=function(t){if(0===arguments.length)return n.clone();if(!t)return n=o.clone(),h;if(!("string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return n=at(t),F(),h},i.is("input"))a=i;else if(a=i.find(s.datepickerInput),0===a.size())a=i.find("input");else if(!a.is("input"))throw new Error('CSS class "'+s.datepickerInput+'" cannot be applied to non input element');if(i.hasClass("input-group")&&(u=0===i.find(".datepickerbutton").size()?i.find(".input-group-addon"):i.find(".datepickerbutton")),!s.inline&&!a.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return o=k(),n=o.clone(),t.extend(!0,s,P()),h.options(s),ft(),ct(),a.prop("disabled")&&h.disable(),a.is("input")&&0!==a.val().trim().length?G(at(a.val().trim())):s.defaultDate&&void 0===a.attr("placeholder")&&G(s.defaultDate),s.inline&&ot(),h};t.fn.datetimepicker=function(e){return this.each(function(){var s=t(this);s.data("DateTimePicker")||(e=t.extend(!0,{},t.fn.datetimepicker.defaults,e),s.data("DateTimePicker",i(s,e)))})},t.fn.datetimepicker.defaults={timeZone:"Etc/UTC",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:e.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(this.stepping(),"m"))}},down:function(t){if(!t)return void this.show();var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(this.stepping(),"m"))},"control up":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h"))}},"control down":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h"))}},left:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d"))}},right:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}}),!function(t){"use strict";var e=function(e,i){this.options=t.extend({},t.fn.editableform.defaults,i),this.$div=t(e),this.options.scope||(this.options.scope=this)};e.prototype={constructor:e,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=t(t.fn.editableform.template)},initButtons:function(){var e=this.$form.find(".editable-buttons");e.append(t.fn.editableform.buttons),"bottom"===this.options.showbuttons&&e.addClass("editable-buttons-bottom")},render:function(){this.$loading=t(t.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),t.when(this.input.render()).then(t.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(t.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(t){t.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var e=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(e),this.$form.submit(t.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var t,e;this.$form?(t=this.$form.outerWidth(),e=this.$form.outerHeight(),t&&this.$loading.width(t),e&&this.$loading.height(e),this.$form.hide()):(t=this.$loading.parent().width(),t&&this.$loading.width(t)),this.$loading.show()},showForm:function(t){this.$loading.hide(),this.$form.show(),t!==!1&&this.input.activate(),this.$div.triggerHandler("show")},error:function(e){var i,s=this.$form.find(".control-group"),o=this.$form.find(".editable-error-block");if(e===!1)s.removeClass(t.fn.editableform.errorGroupClass),o.removeClass(t.fn.editableform.errorBlockClass).empty().hide();else{if(e){i=(""+e).split("\n");for(var n=0;n<i.length;n++)i[n]=t("<div>").text(i[n]).html();e=i.join("<br>")}s.addClass(t.fn.editableform.errorGroupClass),o.addClass(t.fn.editableform.errorBlockClass).html(e).show()}},submit:function(e){e.stopPropagation(),e.preventDefault();var i=this.input.input2value(),s=this.validate(i);if("object"===t.type(s)&&void 0!==s.newValue){if(i=s.newValue,this.input.value2input(i),"string"==typeof s.msg)return this.error(s.msg),void this.showForm()}else if(s)return this.error(s),void this.showForm();if(!this.options.savenochange&&this.input.value2str(i)==this.input.value2str(this.value))return void this.$div.triggerHandler("nochange");var o=this.input.value2submit(i);this.isSaving=!0,t.when(this.save(o)).done(t.proxy(function(t){this.isSaving=!1;var e="function"==typeof this.options.success?this.options.success.call(this.options.scope,t,i):null;return e===!1?(this.error(!1),void this.showForm(!1)):"string"==typeof e?(this.error(e),void this.showForm()):(e&&"object"==typeof e&&e.hasOwnProperty("newValue")&&(i=e.newValue),this.error(!1),this.value=i,void this.$div.triggerHandler("save",{newValue:i,submitValue:o,response:t}))},this)).fail(t.proxy(function(t){this.isSaving=!1;var e;e="function"==typeof this.options.error?this.options.error.call(this.options.scope,t,i):"string"==typeof t?t:t.responseText||t.statusText||"Unknown error!",this.error(e),this.showForm()},this))},save:function(e){this.options.pk=t.fn.editableutils.tryParseJson(this.options.pk,!0);var i,s="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk,o=!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==s&&void 0!==s));return o?(this.showLoading(),i={name:this.options.name||"",value:e,pk:s},"function"==typeof this.options.params?i=this.options.params.call(this.options.scope,i):(this.options.params=t.fn.editableutils.tryParseJson(this.options.params,!0),t.extend(i,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,i):t.ajax(t.extend({url:this.options.url,data:i,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(t){return void 0===t&&(t=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,t):void 0},option:function(t,e){t in this.options&&(this.options[t]=e),"value"===t&&this.setValue(e)},setValue:function(t,e){this.value=e?this.input.str2value(t):t,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},t.fn.editableform=function(i){var s=arguments;return this.each(function(){var o=t(this),n=o.data("editableform"),a="object"==typeof i&&i;n||o.data("editableform",n=new e(this,a)),"string"==typeof i&&n[i].apply(n,Array.prototype.slice.call(s,1))})},t.fn.editableform.Constructor=e,t.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},t.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',t.fn.editableform.loading='<div class="editableform-loading"></div>',t.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',t.fn.editableform.errorGroupClass=null,t.fn.editableform.errorBlockClass="editable-error",t.fn.editableform.engine="jquery"}(window.jQuery),function(t){"use strict";t.fn.editableutils={inherit:function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superclass=e.prototype},setCursorPosition:function(t,e){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},tryParseJson:function(t,e){if("string"==typeof t&&t.length&&t.match(/^[\{\[].*[\}\]]$/))if(e)try{t=new Function("return "+t)()}catch(i){}finally{return t}else t=new Function("return "+t)();return t},sliceObj:function(e,i,s){var o,n,a={};if(!t.isArray(i)||!i.length)return a;for(var r=0;r<i.length;r++)o=i[r],e.hasOwnProperty(o)&&(a[o]=e[o]),s!==!0&&(n=o.toLowerCase(),e.hasOwnProperty(n)&&(a[o]=e[n]));return a},getConfigData:function(e){var i={};return t.each(e.data(),function(t,e){("object"!=typeof e||e&&"object"==typeof e&&(e.constructor===Object||e.constructor===Array))&&(i[t]=e)}),i},objectKeys:function(t){if(Object.keys)return Object.keys(t);if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i},escape:function(e){return t("<div>").text(e).html()},itemsByValue:function(e,i,s){if(!i||null===e)return[];if("function"!=typeof s){var o=s||"value";s=function(t){return t[o]}}var n=t.isArray(e),a=[],r=this;return t.each(i,function(i,o){if(o.children)a=a.concat(r.itemsByValue(e,o.children,s));else if(n)t.grep(e,function(t){return t==(o&&"object"==typeof o?s(o):o)}).length&&a.push(o);else{var l=o&&"object"==typeof o?s(o):o;e==l&&a.push(o)}}),a},createInput:function(e){var i,s,o,n=e.type;return"date"===n&&("inline"===e.mode?t.fn.editabletypes.datefield?n="datefield":t.fn.editabletypes.dateuifield&&(n="dateuifield"):t.fn.editabletypes.date?n="date":t.fn.editabletypes.dateui&&(n="dateui"),"date"!==n||t.fn.editabletypes.date||(n="combodate")),"datetime"===n&&"inline"===e.mode&&(n="datetimefield"),"wysihtml5"!==n||t.fn.editabletypes[n]||(n="textarea"),"function"==typeof t.fn.editabletypes[n]?(i=t.fn.editabletypes[n],s=this.sliceObj(e,this.objectKeys(i.defaults)),o=new i(s)):(t.error("Unknown type: "+n),!1)},supportsTransitions:function(){var t=document.body||document.documentElement,e=t.style,i="transition",s=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[i])return!0;i=i.charAt(0).toUpperCase()+i.substr(1);for(var o=0;o<s.length;o++)if("string"==typeof e[s[o]+i])return!0;return!1}}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init(t,e)},i=function(t,e){this.init(t,e)};e.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(i,s){this.$element=t(i),this.options=t.extend({},t.fn.editableContainer.defaults,s),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",t.proxy(function(){this.destroy()},this)),t(document).data("editable-handlers-attached")||(t(document).on("keyup.editable",function(e){27===e.which&&t(".editable-open").editableContainer("hide")}),t(document).on("click.editable",function(i){var s,o=t(i.target),n=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(t.contains(document.documentElement,i.target)&&!o.is(document)){for(s=0;s<n.length;s++)if(o.is(n[s])||o.parents(n[s]).length)return;e.prototype.closeOthers(i.target)}}),t(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!t.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var e in this.options)e in this.defaults?this.containerOptions[e]=this.options[e]:this.formOptions[e]=this.options[e]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var t;return this.containerDataName&&(t=this.$element.data(this.containerDataName))?t:t=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:t.proxy(this.save,this),nochange:t.proxy(function(){this.hide("nochange")},this),cancel:t.proxy(function(){this.hide("cancel")},this),show:t.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:t.proxy(this.setPosition,this),resize:t.proxy(this.setPosition,this),rendered:t.proxy(function(){this.$element.triggerHandler("shown",t(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(e){this.$element.addClass("editable-open"),e!==!1&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=t("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(t){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:t});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",t||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(t){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(t)},setPosition:function(){},save:function(t,e){this.$element.triggerHandler("save",e),this.hide("save")},option:function(t,e){this.options[t]=e,t in this.containerOptions?(this.containerOptions[t]=e,this.setContainerOption(t,e)):(this.formOptions[t]=e,this.$form&&this.$form.editableform("option",t,e))},setContainerOption:function(t,e){this.call("option",t,e)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(e){t(".editable-open").each(function(i,s){if(s!==e&&!t(s).find(e).length){var o=t(s),n=o.data("editableContainer");n&&("cancel"===n.options.onblur?o.data("editableContainer").hide("onblur"):"submit"===n.options.onblur&&o.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},t.fn.editableContainer=function(s){var o=arguments;return this.each(function(){var n=t(this),a="editableContainer",r=n.data(a),l="object"==typeof s&&s,d="inline"===l.mode?i:e;r||n.data(a,r=new d(this,l)),"string"==typeof s&&r[s].apply(r,Array.prototype.slice.call(o,1))})},t.fn.editableContainer.Popup=e,t.fn.editableContainer.Inline=i,t.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Inline.prototype,t.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=t("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,t.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.editable.defaults,i,t.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!t.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};e.prototype={constructor:e,init:function(){var e,i=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=t.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(t.trim(this.$element.html())),i=!0):(this.options.value=t.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",t.proxy(function(t){if(this.options.disabled||t.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var e="click"!==this.options.toggle;this.toggle(e)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":e=!0;break;case"auto":e=!t.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!i;break;default:e=!1}t.when(e?this.render():!0).then(t.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var e=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",e,t.proxy(function(e){var i=t(e.target);i.data("editable")||(i.hasClass(this.options.emptyclass)&&i.empty(),i.editable(this.options).trigger(e))},this))},render:function(t){return this.options.display!==!1?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,t):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,t):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(e,i){return e&&"object"==typeof e?void t.each(e,t.proxy(function(e,i){this.option(t.trim(e),i)},this)):(this.options[e]=i,"disabled"===e?i?this.disable():this.enable():("value"===e&&this.setValue(i),this.container&&this.container.option(e,i),void(this.input.option&&this.input.option(e,i))))},handleEmpty:function(e){this.options.display!==!1&&(this.isEmpty=void 0!==e?e:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===t.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(e){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var i=t.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(i),this.$element.on("save.internal",t.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(e)}},hide:function(){this.container&&this.container.hide()},toggle:function(t){this.container&&this.container.tip().is(":visible")?this.hide():this.show(t)},save:function(t,e){if(this.options.unsavedclass){var i=!1;i=i||"function"==typeof this.options.url,i=i||this.options.display===!1,i=i||void 0!==e.response,i=i||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(e.newValue),i?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var s=this.$element,o=s.css("background-color");s.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===o&&(o=""),s.css("background-color",o),s.addClass("editable-bg-transition"),setTimeout(function(){s.removeClass("editable-bg-transition")},1700)},10)}this.setValue(e.newValue,!1,e.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(e,i,s){this.value=i?this.input.str2value(e):e,this.container&&this.container.option("value",this.value),t.when(this.render(s)).then(t.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},t.fn.editable=function(i){var s={},o=arguments,n="editable";switch(i){case"validate":return this.each(function(){var e,i=t(this),o=i.data(n);o&&(e=o.validate())&&(s[o.options.name]=e)}),s;case"getValue":return 2===arguments.length&&arguments[1]===!0?s=this.eq(0).data(n).value:this.each(function(){var e=t(this),i=e.data(n);i&&void 0!==i.value&&null!==i.value&&(s[i.options.name]=i.input.value2submit(i.value))}),s;case"submit":var a=arguments[1]||{},r=this,l=this.editable("validate");if(t.isEmptyObject(l)){var d={};if(1===r.length){var c=r.data("editable"),h={name:c.options.name||"",value:c.input.value2submit(c.value),pk:"function"==typeof c.options.pk?c.options.pk.call(c.options.scope):c.options.pk};"function"==typeof c.options.params?h=c.options.params.call(c.options.scope,h):(c.options.params=t.fn.editableutils.tryParseJson(c.options.params,!0),t.extend(h,c.options.params)),d={url:c.options.url,data:h,type:"POST"},a.success=a.success||c.options.success,a.error=a.error||c.options.error}else{var p=this.editable("getValue");d={url:a.url,data:p,type:"POST"}}d.success="function"==typeof a.success?function(t){a.success.call(r,t,a)}:t.noop,d.error="function"==typeof a.error?function(){a.error.apply(r,arguments)}:t.noop,a.ajaxOptions&&t.extend(d,a.ajaxOptions),a.data&&t.extend(d.data,a.data),t.ajax(d)}else"function"==typeof a.error&&a.error.call(r,l);return this}return this.each(function(){var s=t(this),a=s.data(n),r="object"==typeof i&&i;return r&&r.selector?void(a=new e(this,r)):(a||s.data(n,a=new e(this,r)),void("string"==typeof i&&a[i].apply(a,Array.prototype.slice.call(o,1))))})},t.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(t){"use strict";t.fn.editabletypes={};var e=function(){};e.prototype={init:function(e,i,s){this.type=e,this.options=t.extend({},s,i)},prerender:function(){this.$tpl=t(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(e,i){t(i)[this.options.escape?"text":"html"](t.trim(e))},html2value:function(e){return t("<div>").html(e).text()},value2str:function(t){return t},str2value:function(t){return t},value2submit:function(t){return t},value2input:function(t){this.$input.val(t)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(e){return t("<div>").text(e).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(t){void 0!==this.options[t]&&null!==this.options[t]&&this.$input.attr(t,this.options[t])},option:function(t,e){this.options[t]=e}},e.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},t.extend(t.fn.editabletypes,{abstractinput:e})}(window.jQuery),function(t){"use strict";var e=function(){};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){var e=t.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),e.resolve()},function(){this.error=this.options.sourceError,e.resolve()}),e.promise()},html2value:function(){return null},value2html:function(e,i,s,o){var n=t.Deferred(),a=function(){"function"==typeof s?s.call(i,e,this.sourceData,o):this.value2htmlFinal(e,i),n.resolve()};return null===e?a.call(this):this.onSourceReady(a,function(){n.resolve()}),n.promise()},onSourceReady:function(e,i){var s;if(t.isFunction(this.options.source)?(s=this.options.source.call(this.options.scope),this.sourceData=null):s=this.options.source,this.options.sourceCache&&t.isArray(this.sourceData))return void e.call(this);try{s=t.fn.editableutils.tryParseJson(s,!1)}catch(o){return void i.call(this)}if("string"==typeof s){if(this.options.sourceCache){var n,a=s;if(t(document).data(a)||t(document).data(a,{}),n=t(document).data(a),n.loading===!1&&n.sourceData)return this.sourceData=n.sourceData,this.doPrepend(),void e.call(this);if(n.loading===!0)return n.callbacks.push(t.proxy(function(){this.sourceData=n.sourceData,this.doPrepend(),e.call(this)},this)),void n.err_callbacks.push(t.proxy(i,this));n.loading=!0,n.callbacks=[],n.err_callbacks=[]}var r=t.extend({url:s,type:"get",cache:!1,dataType:"json",success:t.proxy(function(s){n&&(n.loading=!1),this.sourceData=this.makeArray(s),t.isArray(this.sourceData)?(n&&(n.sourceData=this.sourceData,t.each(n.callbacks,function(){this.call()})),this.doPrepend(),e.call(this)):(i.call(this),n&&t.each(n.err_callbacks,function(){this.call()}))},this),error:t.proxy(function(){i.call(this),n&&(n.loading=!1,t.each(n.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);t.ajax(r)}else this.sourceData=this.makeArray(s),t.isArray(this.sourceData)?(this.doPrepend(),e.call(this)):i.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(t.isArray(this.prependData)||(t.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=t.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),t.isArray(this.prependData)&&t.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(e){var i,s,o,n,a=[];if(!e||"string"==typeof e)return null;if(t.isArray(e)){n=function(t,e){return s={value:t,text:e},i++>=2?!1:void 0};for(var r=0;r<e.length;r++)o=e[r],"object"==typeof o?(i=0,t.each(o,n),1===i?a.push(s):i>1&&(o.children&&(o.children=this.makeArray(o.children)),a.push(o))):a.push({value:o,text:o})}else t.each(e,function(t,e){a.push({value:t,text:e})});return a},option:function(t,e){this.options[t]=e,"source"===t&&(this.sourceData=null),"prepend"===t&&(this.prependData=null)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),t.fn.editabletypes.list=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("text",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),t.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=t('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(t.proxy(function(e){if(!~t.inArray(e.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var i=this;this.t=setTimeout(function(){i.toggleClear(e)},100)}},this)).parent().css("position","relative"),this.$clear.click(t.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var t=this.$input.val().length,e=this.$clear.is(":visible");t&&!e&&this.$clear.show(),!t&&e&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{
tpl:'<input type="text">',placeholder:null,clear:!0}),t.fn.editabletypes.text=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("textarea",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(e){e.ctrlKey&&13===e.which&&t(this).closest("form").submit()})},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),t.fn.editabletypes.textarea=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("select",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){this.$input.empty();var e=function(i,s){var o;if(t.isArray(s))for(var n=0;n<s.length;n++)o={},s[n].children?(o.label=s[n].text,i.append(e(t("<optgroup>",o),s[n].children))):(o.value=s[n].value,s[n].disabled&&(o.disabled=!0),i.append(t("<option>",o).text(s[n].text)));return i};e(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(e){13===e.which&&t(this).closest("form").submit()})},value2htmlFinal:function(e,i){var s="",o=t.fn.editableutils.itemsByValue(e,this.sourceData);o.length&&(s=o[0].text),t.fn.editabletypes.abstractinput.prototype.value2html.call(this,s,i)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),t.fn.editabletypes.select=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("checklist",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.list),t.extend(e.prototype,{renderList:function(){var e;if(this.$tpl.empty(),t.isArray(this.sourceData)){for(var i=0;i<this.sourceData.length;i++)e=t("<label>").append(t("<input>",{type:"checkbox",value:this.sourceData[i].value})).append(t("<span>").text(" "+this.sourceData[i].text)),t("<div>").append(e).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(e){return t.isArray(e)?e.sort().join(t.trim(this.options.separator)):""},str2value:function(e){var i,s=null;return"string"==typeof e&&e.length?(i=new RegExp("\\s*"+t.trim(this.options.separator)+"\\s*"),s=e.split(i)):s=t.isArray(e)?e:[e],s},value2input:function(e){this.$input.prop("checked",!1),t.isArray(e)&&e.length&&this.$input.each(function(i,s){var o=t(s);t.each(e,function(t,e){o.val()==e&&o.prop("checked",!0)})})},input2value:function(){var e=[];return this.$input.filter(":checked").each(function(i,s){e.push(t(s).val())}),e},value2htmlFinal:function(e,i){var s=[],o=t.fn.editableutils.itemsByValue(e,this.sourceData),n=this.options.escape;o.length?(t.each(o,function(e,i){var o=n?t.fn.editableutils.escape(i.text):i.text;s.push(o)}),t(i).html(s.join("<br>"))):t(i).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(e){13===e.which&&t(this).closest("form").submit()})}}),e.defaults=t.extend({},t.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),t.fn.editabletypes.checklist=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("password",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{value2html:function(e,i){e?t(i).text("[hidden]"):t(i).empty()},html2value:function(){return null}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),t.fn.editabletypes.password=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("email",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),t.fn.editabletypes.email=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("url",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),t.fn.editabletypes.url=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("tel",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),t.fn.editabletypes.tel=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("number",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{render:function(){e.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),t.fn.editabletypes.number=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("range",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.number),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){t(this).siblings("output").text(t(this).val())})},activate:function(){this.$input.focus()}}),e.defaults=t.extend({},t.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),t.fn.editabletypes.range=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("time",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),t.fn.editabletypes.time=e}(window.jQuery),function(t){"use strict";var e=function(i){if(this.init("select2",i,e.defaults),i.select2=i.select2||{},this.sourceData=null,i.placeholder&&(i.select2.placeholder=i.placeholder),!i.select2.tags&&i.source){var s=i.source;t.isFunction(i.source)&&(s=i.source.call(i.scope)),"string"==typeof s?(i.select2.ajax=i.select2.ajax||{},i.select2.ajax.data||(i.select2.ajax.data=function(t){return{query:t}}),i.select2.ajax.results||(i.select2.ajax.results=function(t){return{results:t}}),i.select2.ajax.url=s):(this.sourceData=this.convertSource(s),i.select2.data=this.sourceData)}if(this.options.select2=t.extend({},e.defaults.select2,i.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var o=this.idFunc||"id";this.idFunc=function(t){return t[o]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(t){return t.text})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",t.proxy(function(t){this.sourceData=t.items.results},this)),this.isMultiple&&this.$input.on("change",function(){t(this).closest("form").parent().triggerHandler("resize")})},value2html:function(i,s){var o,n="",a=this;this.options.select2.tags?o=i:this.sourceData&&(o=t.fn.editableutils.itemsByValue(i,this.sourceData,this.idFunc)),t.isArray(o)?(n=[],t.each(o,function(t,e){n.push(e&&"object"==typeof e?a.formatSelection(e):e)})):o&&(n=a.formatSelection(o)),n=t.isArray(n)?n.join(this.options.viewseparator):n,e.superclass.value2html.call(this,n,s)},html2value:function(t){return this.options.select2.tags?this.str2value(t,this.options.viewseparator):null},value2input:function(e){if(t.isArray(e)&&(e=e.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(e).trigger("change",!0):(this.$input.val(e),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var i=this.options.select2.id,s=this.options.select2.formatSelection;if(!i&&!s){var o=t(this.options.scope);if(!o.data("editable").isEmpty){var n={id:e,text:o.text()};this.$input.select2("data",n)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(e,i){if("string"!=typeof e||!this.isMultiple)return e;i=i||this.getSeparator();var s,o,n;if(null===e||e.length<1)return null;for(s=e.split(i),o=0,n=s.length;n>o;o+=1)s[o]=t.trim(s[o]);return s},autosubmit:function(){this.$input.on("change",function(e,i){i||t(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||t.fn.select2.defaults.separator},convertSource:function(e){if(t.isArray(e)&&e.length&&void 0!==e[0].value)for(var i=0;i<e.length;i++)void 0!==e[i].value&&(e[i].id=e[i].value,delete e[i].value);return e},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),t.fn.editabletypes.select2=e}(window.jQuery),function(t){var e=function(e,i){return this.$element=t(e),this.$element.is("input")?(this.options=t.extend({},t.fn.combodate.defaults,i,this.$element.data()),void this.init()):void t.error("Combodate should be applied to INPUT element")};e.prototype={constructor:e,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=t('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",t.proxy(function(e){this.$element.val(this.getValue()).change(),this.options.smartDays&&(t(e.target).is(".month")||t(e.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template;return t.each(this.map,function(t,i){i=i[0];var s=new RegExp(i+"+"),o=i.length>1?i.substring(1,2):i;e=e.replace(s,"{"+o+"}")}),e=e.replace(/ /g,"&nbsp;"),t.each(this.map,function(t,i){i=i[0];var s=i.length>1?i.substring(1,2):i;e=e.replace("{"+s+"}",'<select class="'+t+'"></select>')}),e},initCombos:function(){for(var t in this.map){var e=this.$widget.find("."+t);this["$"+t]=e.length?e:null,this.fillCombo(t)}},fillCombo:function(t){var e=this["$"+t];if(e){var i="fill"+t.charAt(0).toUpperCase()+t.slice(1),s=this[i](),o=e.val();e.empty();for(var n=0;n<s.length;n++)e.append('<option value="'+s[n][0]+'">'+s[n][1]+"</option>");e.val(o)}},fillCommon:function(t){var e,i=[];if("name"===this.options.firstItem){e=moment.relativeTime||moment.langData()._relativeTime;var s="function"==typeof e[t]?e[t](1,!0,t,!1):e[t];s=s.split(" ").reverse()[0],i.push(["",s])}else"empty"===this.options.firstItem&&i.push(["",""]);return i},fillDay:function(){var t,e,i=this.fillCommon("d"),s=-1!==this.options.template.indexOf("DD"),o=31;if(this.options.smartDays&&this.$month&&this.$year){var n=parseInt(this.$month.val(),10),a=parseInt(this.$year.val(),10);isNaN(n)||isNaN(a)||(o=moment([a,n]).daysInMonth())}for(e=1;o>=e;e++)t=s?this.leadZero(e):e,i.push([e,t]);return i},fillMonth:function(){var t,e,i=this.fillCommon("M"),s=-1!==this.options.template.indexOf("MMMM"),o=-1!==this.options.template.indexOf("MMM"),n=-1!==this.options.template.indexOf("MM");for(e=0;11>=e;e++)t=s?moment().date(1).month(e).format("MMMM"):o?moment().date(1).month(e).format("MMM"):n?this.leadZero(e+1):e+1,i.push([e,t]);return i},fillYear:function(){var t,e,i=[],s=-1!==this.options.template.indexOf("YYYY");for(e=this.options.maxYear;e>=this.options.minYear;e--)t=s?e:(e+"").substring(2),i[this.options.yearDescending?"push":"unshift"]([e,t]);return i=this.fillCommon("y").concat(i)},fillHour:function(){var t,e,i=this.fillCommon("h"),s=-1!==this.options.template.indexOf("h"),o=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),n=s?1:0,a=s?12:23;for(e=n;a>=e;e++)t=o?this.leadZero(e):e,i.push([e,t]);return i},fillMinute:function(){var t,e,i=this.fillCommon("m"),s=-1!==this.options.template.indexOf("mm");for(e=0;59>=e;e+=this.options.minuteStep)t=s?this.leadZero(e):e,i.push([e,t]);return i},fillSecond:function(){var t,e,i=this.fillCommon("s"),s=-1!==this.options.template.indexOf("ss");for(e=0;59>=e;e+=this.options.secondStep)t=s?this.leadZero(e):e,i.push([e,t]);return i},fillAmpm:function(){var t=-1!==this.options.template.indexOf("a"),e=(-1!==this.options.template.indexOf("A"),[["am",t?"am":"AM"],["pm",t?"pm":"PM"]]);return e},getValue:function(e){var i,s={},o=this,n=!1;return t.each(this.map,function(t){if("ampm"!==t){var e="day"===t?1:0;return s[t]=o["$"+t]?parseInt(o["$"+t].val(),10):e,isNaN(s[t])?(n=!0,!1):void 0}}),n?"":(this.$ampm&&(s.hour=12===s.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?s.hour:s.hour+12),i=moment([s.year,s.month,s.day,s.hour,s.minute,s.second]),this.highlight(i),e=void 0===e?this.options.format:e,null===e?i.isValid()?i:null:i.isValid()?i.format(e):"")},setValue:function(e){function i(e,i){var s={};return e.children("option").each(function(e,o){var n,a=t(o).attr("value");""!==a&&(n=Math.abs(a-i),("undefined"==typeof s.distance||n<s.distance)&&(s={value:a,distance:n}))}),s.value}if(e){var s="string"==typeof e?moment(e,this.options.format):moment(e),o=this,n={};s.isValid()&&(t.each(this.map,function(t,e){"ampm"!==t&&(n[t]=s[e[1]]())}),this.$ampm&&(n.hour>=12?(n.ampm="pm",n.hour>12&&(n.hour-=12)):(n.ampm="am",0===n.hour&&(n.hour=12))),t.each(n,function(t,e){o["$"+t]&&("minute"===t&&o.options.minuteStep>1&&o.options.roundTime&&(e=i(o["$"+t],e)),"second"===t&&o.options.secondStep>1&&o.options.roundTime&&(e=i(o["$"+t],e)),o["$"+t].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(s.format(this.options.format)).change())}},highlight:function(t){t.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(t){return 9>=t?"0"+t:t},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},t.fn.combodate=function(i){var s,o=Array.apply(null,arguments);return o.shift(),"getValue"===i&&this.length&&(s=this.eq(0).data("combodate"))?s.getValue.apply(s,o):this.each(function(){var s=t(this),n=s.data("combodate"),a="object"==typeof i&&i;n||s.data("combodate",n=new e(this,a)),"string"==typeof i&&"function"==typeof n[i]&&n[i].apply(n,o)})},t.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function(t){"use strict";var e=function(i){this.init("combodate",i,e.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),i.combodate=t.fn.editableutils.tryParseJson(i.combodate,!0),this.options.combodate=t.extend({},e.defaults.combodate,i.combodate,{format:this.options.format,template:this.options.template})};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===t.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(t,i){var s=t?t.format(this.options.viewformat):"";e.superclass.value2html.call(this,s,i)},html2value:function(t){return t?moment(t,this.options.viewformat):null},value2str:function(t){return t?t.format(this.options.format):""},str2value:function(t){return t?moment(t,this.options.format):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.combodate("setValue",t)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),t.fn.editabletypes.combodate=e}(window.jQuery),function(t){"use strict";var e=t.fn.editableform.Constructor.prototype.initInput;t.extend(t.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=t(t.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){e.apply(this);var i=null===this.input.options.inputclass||this.input.options.inputclass===!1,s="input-sm",o="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~t.inArray(this.input.type,o)&&(this.input.$input.addClass("form-control"),i&&(this.input.options.inputclass=s,this.input.$input.addClass(s)));for(var n=this.$form.find(".editable-buttons"),a=i?[s]:this.input.options.inputclass.split(" "),r=0;r<a.length;r++)"input-lg"===a[r].toLowerCase()&&n.find("button").removeClass("btn-sm").addClass("btn-lg")}}),t.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',t.fn.editableform.errorGroupClass="has-error",t.fn.editableform.errorBlockClass=null,t.fn.editableform.engine="bs3"}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:t.fn.popover.Constructor.DEFAULTS,initContainer:function(){t.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var e;this.$element.data("template")&&(e=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),e&&this.$element.data("template",e)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(t,e){this.container().options[t]=e},setPosition:function(){!function(){var t=this.tip(),e="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,s=i.test(e);s&&(e=e.replace(i,"")||"top");var o=this.getPosition(),n=t[0].offsetWidth,a=t[0].offsetHeight;if(s){var r=this.$element.parent(),l=e,d=document.documentElement.scrollTop||document.body.scrollTop,c="body"==this.options.container?window.innerWidth:r.outerWidth(),h="body"==this.options.container?window.innerHeight:r.outerHeight(),p="body"==this.options.container?0:r.offset().left;e="bottom"==e&&o.top+o.height+a-d>h?"top":"top"==e&&o.top-d-a<0?"bottom":"right"==e&&o.right+n>c?"left":"left"==e&&o.left-n<p?"right":e,t.removeClass(l).addClass(e)}var u=this.getCalculatedOffset(e,o,n,a);this.applyPlacement(u,e)}.call(this.container())}})}(window.jQuery),function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}function i(e,i){var s,o=t(e).data(),n={},a=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var r in o)i.test(r)&&(s=r.replace(a,function(t,e){return e.toLowerCase()}),n[s]=o[r]);return n}function s(e){var i={};if(c[e]||(e=e.split("-")[0],c[e])){var s=c[e];return t.each(d,function(t,e){e in s&&(i[e]=s[e])}),i}}var o=function(e,i){this._process_options(i),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(h.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};o.prototype={constructor:o,_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o),s=i.language;switch(c[s]||(s=s.split("-")[0],c[s]||(s=l.language)),i.language=s,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var o=h.parseFormat(i.format);i.startDate!==-1/0&&(i.startDate=h.parseDate(i.startDate,o,i.language)),1/0!==i.endDate&&(i.endDate=h.parseDate(i.endDate,o,i.language)),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,s=0;s<t.length;s++)e=t[s][0],i=t[s][1],e.on(i)},_unapplyEvents:function(t){for(var e,i,s=0;s<t.length;s++)e=t[s][0],i=t[s][1],e.off(i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).size()||this.picker.is(t.target)||this.picker.find(t.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var s=i||this.date,o=new Date(s.getTime()+6e4*s.getTimezoneOffset());this.element.trigger({type:e,date:o,format:t.proxy(function(t){var e=t||this.o.format;return h.formatDate(s,e,this.o.language)},this)})},show:function(t){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),t&&t.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t)},getFormattedDate:function(t){return void 0===t&&(t=this.o.format),h.formatDate(this.date,t,this.o.language)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=parseInt(this.element.parents().filter(function(){return"auto"!=t(this).css("z-index")}).first().css("z-index"))+10,i=this.component?this.component.parent().offset():this.element.offset(),s=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:i.top+s,left:i.left,zIndex:e})}},_allow_update:!0,update:function(){if(this._allow_update){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=h.parseDate(t,this.o.format,this.o.language),e&&this.setValue(),this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+c[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+c[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],s=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),n=this.date.valueOf(),a=new Date;return e.getUTCFullYear()<s||e.getUTCFullYear()==s&&e.getUTCMonth()<o?i.push("old"):(e.getUTCFullYear()>s||e.getUTCFullYear()==s&&e.getUTCMonth()>o)&&i.push("new"),this.o.todayHighlight&&e.getUTCFullYear()==a.getFullYear()&&e.getUTCMonth()==a.getMonth()&&e.getUTCDate()==a.getDate()&&i.push("today"),n&&e.valueOf()==n&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!=t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var i,s=new Date(this.viewDate),o=s.getUTCFullYear(),n=s.getUTCMonth(),a=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,r=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,d=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(c[this.o.language].months[n]+" "+o),this.picker.find("tfoot th.today").text(c[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(c[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=e(o,n-1,28,0,0,0,0),u=h.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(u),p.setUTCDate(u-(p.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(p);f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var m,g=[];p.valueOf()<f;){if(p.getUTCDay()==this.o.weekStart&&(g.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+p+864e5*((this.o.weekStart-p.getUTCDay()-7)%7)),b=new Date(+v+864e5*((11-v.getUTCDay())%7)),y=new Date(+(y=e(b.getUTCFullYear(),0,1))+864e5*((11-y.getUTCDay())%7)),w=(b-y)/864e5/7+1;g.push('<td class="cw">'+w+"</td>")}m=this.getClassNames(p),m.push("day");var x=this.o.beforeShowDay(p);void 0===x?x={}:"boolean"==typeof x?x={enabled:x}:"string"==typeof x&&(x={classes:x}),x.enabled===!1&&m.push("disabled"),x.classes&&(m=m.concat(x.classes.split(/\s+/))),x.tooltip&&(i=x.tooltip),m=t.unique(m),g.push('<td class="'+m.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+p.getUTCDate()+"</td>"),p.getUTCDay()==this.o.weekEnd&&g.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(g.join(""));var _=this.date&&this.date.getUTCFullYear(),k=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");_&&_==o&&k.eq(this.date.getUTCMonth()).addClass("active"),(a>o||o>l)&&k.addClass("disabled"),o==a&&k.slice(0,r).addClass("disabled"),o==l&&k.slice(d+1).addClass("disabled"),g="",o=10*parseInt(o/10,10);var C=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var T=-1;11>T;T++)g+='<span class="year'+(-1==T?" old":10==T?" new":"")+(_==o?" active":"")+(a>o||o>l?" disabled":"")+'">'+o+"</span>",o+=1;C.html(g)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(i){i.preventDefault();var s=t(i.target).closest("span, td, th");if(1==s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=h.modes[this.viewMode].navStep*("prev"==s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o)}this.fill();break;case"today":var n=new Date;n=e(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0),this.showMode(-2);var a="linked"==this.o.todayBtn?null:"view";this._setDate(n,a);break;case"clear":var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!s.is(".disabled")){if(this.viewDate.setUTCDate(1),s.is(".month")){var l=1,d=s.parent().find("span").index(s),c=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(d),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(e(c,d,l,0,0,0,0))}else{var c=parseInt(s.text(),10)||0,l=1,d=0;this.viewDate.setUTCFullYear(c),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(e(c,d,l,0,0,0,0))}this.showMode(-1),this.fill();
}break;case"td":if(s.is(".day")&&!s.is(".disabled")){var l=parseInt(s.text(),10)||1,c=this.viewDate.getUTCFullYear(),d=this.viewDate.getUTCMonth();s.is(".old")?0===d?(d=11,c-=1):d-=1:s.is(".new")&&(11==d?(d=0,c+=1):d+=1),this._setDate(e(c,d,l,0,0,0,0))}}},_setDate:function(t,e){e&&"date"!=e||(this.date=new Date(t)),e&&"view"!=e||(this.viewDate=new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),!this.o.autoclose||e&&"date"!=e||this.hide())},moveMonth:function(t,e){if(!e)return t;var i,s,o=new Date(t.valueOf()),n=o.getUTCDate(),a=o.getUTCMonth(),r=Math.abs(e);if(e=e>0?1:-1,1==r)s=-1==e?function(){return o.getUTCMonth()==a}:function(){return o.getUTCMonth()!=i},i=a+e,o.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var l=0;r>l;l++)o=this.moveMonth(o,e);i=o.getUTCMonth(),o.setUTCDate(n),s=function(){return i!=o.getUTCMonth()}}for(;s();)o.setUTCDate(--n),o.setUTCMonth(i);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27==t.keyCode&&this.show());var e,i,s,o=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),s=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),s=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+e),s=new Date(this.viewDate),s.setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=s,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),s=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),s=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+7*e),s=new Date(this.viewDate),s.setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=s,this.setValue(),this.update(),t.preventDefault(),o=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}if(o){this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+h.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var n=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,t(this.inputs).datepicker(i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};n.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.date}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){var i=t(e.target).data("datepicker"),s=i.getUTCDate(),o=t.inArray(e.target,this.inputs),n=this.inputs.length;if(-1!=o){if(s<this.dates[o])for(;o>=0&&s<this.dates[o];)this.pickers[o--].setUTCDate(s);else if(s>this.dates[o])for(;n>o&&s>this.dates[o];)this.pickers[o++].setUTCDate(s);this.updateDates()}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var a=t.fn.datepicker,r=t.fn.datepicker=function(e){var a=Array.apply(null,arguments);a.shift();var r;return this.each(function(){var d=t(this),c=d.data("datepicker"),h="object"==typeof e&&e;if(!c){var p=i(this,"date"),u=t.extend({},l,p,h),f=s(u.language),m=t.extend({},l,f,p,h);if(d.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||d.find("input").toArray()};d.data("datepicker",c=new n(this,t.extend(m,g)))}else d.data("datepicker",c=new o(this,m))}return"string"==typeof e&&"function"==typeof c[e]&&(r=c[e].apply(c,a),void 0!==r)?!1:void 0}),void 0!==r?r:this},l=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},d=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=o;var c=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},h={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return 0===t%4&&0!==t%100||0===t%400},getDaysInMonth:function(t,e){return[31,h.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(i,s,n){if(i instanceof Date)return i;if("string"==typeof s&&(s=h.parseFormat(s)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){var a,r,l=/([\-+]\d+)([dmwy])/,d=i.match(/([\-+]\d+)([dmwy])/g);i=new Date;for(var p=0;p<d.length;p++)switch(a=l.exec(d[p]),r=parseInt(a[1]),a[2]){case"d":i.setUTCDate(i.getUTCDate()+r);break;case"m":i=o.prototype.moveMonth.call(o.prototype,i,r);break;case"w":i.setUTCDate(i.getUTCDate()+7*r);break;case"y":i=o.prototype.moveYear.call(o.prototype,i,r)}return e(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}var u,f,a,d=i&&i.match(this.nonpunctuation)||[],i=new Date,m={},g=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};v.M=v.MM=v.mm=v.m,v.dd=v.d,i=e(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var b=s.parts.slice();if(d.length!=b.length&&(b=t(b).filter(function(e,i){return-1!==t.inArray(i,g)}).toArray()),d.length==b.length){for(var p=0,y=b.length;y>p;p++){if(u=parseInt(d[p],10),a=b[p],isNaN(u))switch(a){case"MM":f=t(c[n].months).filter(function(){var t=this.slice(0,d[p].length),e=d[p].slice(0,t.length);return t==e}),u=t.inArray(f[0],c[n].months)+1;break;case"M":f=t(c[n].monthsShort).filter(function(){var t=this.slice(0,d[p].length),e=d[p].slice(0,t.length);return t==e}),u=t.inArray(f[0],c[n].monthsShort)+1}m[a]=u}for(var w,p=0;p<g.length;p++)w=g[p],w in m&&!isNaN(m[w])&&v[w](i,m[w])}return i},formatDate:function(e,i,s){"string"==typeof i&&(i=h.parseFormat(i));var o={d:e.getUTCDate(),D:c[s].daysShort[e.getUTCDay()],DD:c[s].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:c[s].monthsShort[e.getUTCMonth()],MM:c[s].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m;for(var e=[],n=t.extend([],i.separators),a=0,r=i.parts.length;r>=a;a++)n.length&&e.push(n.shift()),e.push(o[i.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};h.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+h.headTemplate+"<tbody></tbody>"+h.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+h.headTemplate+h.contTemplate+h.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=h,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=a,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),r.call(i,"show"))}),t(function(){r.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(t){"use strict";t.fn.bdatepicker=t.fn.datepicker.noConflict(),t.fn.datepicker||(t.fn.datepicker=t.fn.bdatepicker);var e=function(t){this.init("date",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,i){this.options.viewformat||(this.options.viewformat=this.options.format),e.datepicker=t.fn.editableutils.tryParseJson(e.datepicker,!0),this.options.datepicker=t.extend({},i.datepicker,e.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=t.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,i){var s=t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):"";e.superclass.value2html.call(this,s,i)},html2value:function(t){return this.parseDate(t,this.parsedViewFormat)},value2str:function(t){return t?this.dpg.formatDate(t,this.parsedFormat,this.options.datepicker.language):""},str2value:function(t){return this.parseDate(t,this.parsedFormat)},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.bdatepicker("update",t)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(e){if(!t(e.currentTarget).is(".old")&&!t(e.currentTarget).is(".new")){var i=t(this).closest("form");setTimeout(function(){i.submit()},200)}})},parseDate:function(t,e){var i,s=null;return t&&(s=this.dpg.parseDate(t,e,this.options.datepicker.language),"string"==typeof t&&(i=this.dpg.formatDate(s,e,this.options.datepicker.language),t!==i&&(s=null))),s}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.date=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.date),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(t){this.$input.val(t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),t.fn.editabletypes.datefield=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetime",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{initPicker:function(e,i){this.options.viewformat||(this.options.viewformat=this.options.format),e.datetimepicker=t.fn.editableutils.tryParseJson(e.datetimepicker,!0),this.options.datetimepicker=t.extend({},i.datetimepicker,e.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=t.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var e=t(this).closest("form").parent();setTimeout(function(){e.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=t('<a href="#"></a>').html(this.options.clear).click(t.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(t('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,i){var s=t?this.dpg.formatDate(this.toUTC(t),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return i?void e.superclass.value2html.call(this,s,i):s},html2value:function(t){var e=this.parseDate(t,this.parsedViewFormat);return e?this.fromUTC(e):null},value2str:function(t){return t?this.dpg.formatDate(this.toUTC(t),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(t){var e=this.parseDate(t,this.parsedFormat);return e?this.fromUTC(e):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){t&&this.$input.data("datetimepicker").setDate(t)},input2value:function(){var t=this.$input.data("datetimepicker");return t.date?t.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var e=t(this).closest("form");setTimeout(function(){e.submit()},200)})},toUTC:function(t){return t?new Date(t.valueOf()-6e4*t.getTimezoneOffset()):t},fromUTC:function(t){return t?new Date(t.valueOf()+6e4*t.getTimezoneOffset()):t},parseDate:function(t,e){var i,s=null;return t&&(s=this.dpg.parseDate(t,e,this.options.datetimepicker.language,this.options.formatType),"string"==typeof t&&(i=this.dpg.formatDate(s,e,this.options.datetimepicker.language,this.options.formatType),t!==i&&(s=null))),s}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),t.fn.editabletypes.datetime=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetimefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.datetime),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(t){this.$input.val(this.value2html(t)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),t.fn.editabletypes.datetimefield=e}(window.jQuery),!function(t){"use strict";var e=function(e,i){if(this.$element=t(e),this.type=this.$element.data("uploadtype")||(this.$element.find(".thumbnail").length>0?"image":"file"),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||i.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=t('<input type="hidden" />'),this.$element.prepend(this.$hidden)),this.$preview=this.$element.find(".fileupload-preview");var s=this.$preview.css("height");"inline"!=this.$preview.css("display")&&"0px"!=s&&"none"!=s&&this.$preview.css("line-height",s),this.original={exists:this.$element.hasClass("fileupload-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.$remove=this.$element.find('[data-dismiss="fileupload"]'),this.$element.find('[data-trigger="fileupload"]').on("click.fileupload",t.proxy(this.trigger,this)),this.listen()}};e.prototype={listen:function(){this.$input.on("change.fileupload",t.proxy(this.change,this)),t(this.$input[0].form).on("reset.fileupload",t.proxy(this.reset,this)),this.$remove&&this.$remove.on("click.fileupload",t.proxy(this.clear,this))},change:function(t,e){var i=void 0!==t.target.files?t.target.files[0]:t.target.value?{name:t.target.value.replace(/^.+\\/,"")}:null;if("clear"!==e){if(!i)return void this.clear();if(this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name),"image"===this.type&&this.$preview.length>0&&("undefined"!=typeof i.type?i.type.match("image.*"):i.name.match("\\.(gif|png|jpe?g)$"))&&"undefined"!=typeof FileReader){var s=new FileReader,o=this.$preview,n=this.$element;s.onload=function(t){o.html('<img src="'+t.target.result+'" '+("none"!=o.css("max-height")?'style="max-height: '+o.css("max-height")+';"':"")+" />"),n.addClass("fileupload-exists").removeClass("fileupload-new")},s.readAsDataURL(i)}else this.$preview.text(i.name),this.$element.addClass("fileupload-exists").removeClass("fileupload-new")}},clear:function(e){if(this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),t.browser.msie){var i=this.$input.clone(!0);this.$input.after(i),this.$input.remove(),this.$input=i}else this.$input.val("");this.$preview.html(""),this.$element.addClass("fileupload-new").removeClass("fileupload-exists"),e&&(this.$input.trigger("change",["clear"]),e.preventDefault())},reset:function(t){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.original.exists?this.$element.addClass("fileupload-exists").removeClass("fileupload-new"):this.$element.addClass("fileupload-new").removeClass("fileupload-exists")},trigger:function(t){this.$input.trigger("click"),t.preventDefault()}},t.fn.fileupload=function(i){return this.each(function(){var s=t(this),o=s.data("fileupload");o||s.data("fileupload",o=new e(this,i)),"string"==typeof i&&o[i]()})},t.fn.fileupload.Constructor=e,t(function(){t("body").on("click.fileupload.data-api",'[data-provides="fileupload"]',function(e){var i=t(this);if(!i.data("fileupload")){i.fileupload(i.data());var s=t(e.target).is("[data-dismiss=fileupload],[data-trigger=fileupload]")?t(e.target):t(e.target).parents("[data-dismiss=fileupload],[data-trigger=fileupload]").first();s.length>0&&(s.trigger("click.fileupload"),e.preventDefault())}})})}(window.jQuery),!function(t){"use strict";t.fn.fileinputLocales={};var e=function(t){if("Microsoft Internet Explorer"!==navigator.appName)return!1;if(10===t)return new RegExp("msie\\s"+t,"i").test(navigator.userAgent);var e,i=document.createElement("div");return i.innerHTML="<!--[if IE "+t+"]> <i></i> <![endif]-->",e=i.getElementsByTagName("i").length,document.body.appendChild(i),i.parentNode.removeChild(i),e},i=function(t,e,i,s){var o=s?e:e+".fileinput";t.off(o).on(o,i)},s={data:{},init:function(t){var e=t.initialPreview,i=t.id;e.length>0&&!H(e)&&(e=e.split(t.initialPreviewDelimiter)),s.data[i]={content:e,config:t.initialPreviewConfig,tags:t.initialPreviewThumbTags,delimiter:t.initialPreviewDelimiter,template:t.previewGenericTemplate,msg:function(e){return t.getMsgSelected(e)},initId:t.previewInitId,footer:t.getLayoutTemplate("footer").replace(/\{progress\}/g,t.renderThumbProgress()),isDelete:t.initialPreviewShowDelete,caption:t.initialCaption,actions:function(e,i,s,o,n){return t.renderFileActions(e,i,s,o,n)}}},fetch:function(t){return s.data[t].content.filter(function(t){return null!==t})},count:function(t,e){return s.data[t]&&s.data[t].content?e?s.data[t].content.length:s.fetch(t).length:0},get:function(e,i,o){var n,a,r="init_"+i,l=s.data[e],d=l.config[i],c=l.initId+"-"+r,h=" file-preview-initial";return o=void 0===o?!0:o,null===l.content[i]?"":(B(d)||B(d.frameClass)||(h+=" "+d.frameClass),n=l.template.replace(/\{previewId\}/g,c).replace(/\{frameClass\}/g,h).replace(/\{fileindex\}/g,r).replace(/\{content\}/g,l.content[i]).replace(/\{footer\}/g,s.footer(e,i,o)),l.tags.length&&l.tags[i]&&(n=Q(n,l.tags[i])),B(d)||B(d.frameAttr)||(a=t(document.createElement("div")).html(n),a.find(".file-preview-initial").attr(d.frameAttr),n=a.html(),a.remove()),n)},add:function(e,i,o,n,a){var r,l=t.extend(!0,{},s.data[e]);return H(i)||(i=i.split(l.delimiter)),a?(r=l.content.push(i)-1,l.config[r]=o,l.tags[r]=n):(r=i.length,l.content=i,l.config=o,l.tags=n),s.data[e]=l,r},set:function(e,i,o,n,a){var r,l=t.extend(!0,{},s.data[e]);if(H(i)||(i=i.split(l.delimiter)),a){for(r=0;r<i.length;r++)l.content.push(i[r]);for(r=0;r<o.length;r++)l.config.push(o[r]);for(r=0;r<n.length;r++)l.tags.push(n[r])}else l.content=i,l.config=o,l.tags=n;s.data[e]=l},unset:function(t,e){var i=s.count(t);if(i){if(1===i)return s.data[t].content=[],void(s.data[t].config=[]);s.data[t].content[e]=null,s.data[t].config[e]=null}},out:function(t){var e,i="",o=s.data[t],n=s.count(t,!0);if(0===n)return{content:"",caption:""};for(var a=0;n>a;a++)i+=s.get(t,a);return e=o.msg(s.count(t)),{content:i,caption:e}},footer:function(t,e,i){var o=s.data[t];if(i=void 0===i?!0:i,0===o.config.length||B(o.config[e]))return"";var n=o.config[e],a=Y("caption",n)?n.caption:"",r=Y("width",n)?n.width:"auto",l=Y("url",n)?n.url:!1,d=Y("key",n)?n.key:null,c=l===!1&&i,h=o.isDelete?o.actions(!1,!0,c,l,d):"",p=o.footer.replace(/\{actions\}/g,h);return p.replace(/\{caption\}/g,a).replace(/\{width\}/g,r).replace(/\{indicator\}/g,"").replace(/\{indicatorTitle\}/g,"")}},o=function(t,e){return e=e||0,"number"==typeof t?t:("string"==typeof t&&(t=parseFloat(t)),isNaN(t)?e:t)},n=function(){return window.File&&window.FileReader},a=function(){var t=document.createElement("div");return!e(9)&&(void 0!==t.draggable||void 0!==t.ondragstart&&void 0!==t.ondrop)},r=function(){return n()&&window.FormData},l=function(t,e){t.removeClass(e).addClass(e)},d='style="width:{width};height:{height};"',c='      <param name="controller" value="true" />\n      <param name="allowFullScreen" value="true" />\n      <param name="allowScriptAccess" value="always" />\n      <param name="autoPlay" value="false" />\n      <param name="autoStart" value="false" />\n      <param name="quality" value="high" />\n',h='<div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',p={removeIcon:'<i class="glyphicon glyphicon-trash text-danger"></i>',removeClass:"btn btn-xs btn-default",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload text-info"></i>',uploadClass:"btn btn-xs btn-default",uploadTitle:"Upload file",indicatorNew:'<i class="glyphicon glyphicon-hand-down text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hand-up text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."},u='{preview}\n<div class="kv-upload-progress hide"></div>\n<div class="input-group {class}">\n   {caption}\n   <div class="input-group-btn">\n       {remove}\n       {cancel}\n       {upload}\n       {browse}\n   </div>\n</div>',f='{preview}\n<div class="kv-upload-progress hide"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',m='<div class="file-preview {class}">\n    <div class="close fileinput-remove">&times;</div>\n    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',g='<span class="glyphicon glyphicon-file kv-caption-icon"></span>',v='<div tabindex="500" class="form-control file-caption {class}">\n   <div class="file-caption-name"></div>\n</div>\n',b='<button type="{type}" tabindex="500" title="{title}" class="{css}"{status}>{icon}{label}</button>',y='<a href="{href}" tabindex="500" title="{title}" class="{css}"{status}>{icon}{label}</a>',w='<div tabindex="500" class="{css}"{status}>{icon}{label}</div>',x='<div id="{id}" class="file-preview-detail-modal modal fade" tabindex="-1">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h3 class="modal-title">{heading} <small>{title}</small></h3>\n      </div>\n      <div class="modal-body">\n           <pre>{body}</pre>\n      </div>\n    </div>\n  </div>\n</div>',_='<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {percent}%\n     </div>\n</div>',k='<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">{caption}</div>\n    {progress} {actions}\n</div>',C='<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload}{delete}{other}    </div>\n    <div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>\n    <div class="clearfix"></div>\n</div>',T='<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}"{dataUrl}{dataKey}>{removeIcon}</button>\n',$='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">   {uploadIcon}\n</button>\n',D='<button type="button" class="btn btn-default btn-xs btn-block" title="{zoomTitle}: {caption}" onclick="{dialog}">\n   {zoomInd}\n</button>\n',S='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   {content}\n   {footer}\n</div>\n',E='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n    <object class="file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n       '+h+"\n    </object>\n   {footer}\n</div>",M='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   <img src="{data}" class="file-preview-image" title="{caption}" alt="{caption}" '+d+">\n   {footer}\n</div>\n",I='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   <pre class="file-preview-text" title="{caption}" '+d+">{data}</pre>\n   {zoom}\n   {footer}\n</div>",P='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+d+'>\n   <video width="{width}" height="{height}" controls>\n       <source src="{data}" type="{type}">\n       '+h+"\n   </video>\n   {footer}\n</div>\n",O='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+d+'>\n   <audio controls>\n       <source src="{data}" type="{type}">\n       '+h+"\n   </audio>\n   {footer}\n</div>",A='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+d+'>\n   <object class="file-object" type="application/x-shockwave-flash" width="{width}" height="{height}" data="{data}">\n'+c+"       "+h+"\n   </object>\n   {footer}\n</div>\n",F='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+d+'>\n   <object class="file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n       <param name="movie" value="{caption}" />\n'+c+"         "+h+"\n   </object>\n   {footer}\n</div>",z='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" '+d+'>\n   <div class="file-preview-other-frame">\n   '+h+'\n   </div>\n   <div class="file-preview-other-footer">{footer}</div>\n</div>',j={main1:u,main2:f,preview:m,zoom:D,icon:g,caption:v,modal:x,progress:_,footer:k,actions:C,actionDelete:T,actionUpload:$,btnDefault:b,btnLink:y,btnBrowse:w},U={generic:S,html:E,image:M,text:I,video:P,audio:O,flash:A,object:F,other:z},L=["image","html","text","video","audio","flash","object"],R={image:{width:"auto",height:"160px"},html:{width:"213px",height:"160px"},text:{width:"160px",height:"136px"},video:{width:"213px",height:"160px"},audio:{width:"213px",height:"80px"},flash:{width:"213px",height:"160px"},object:{width:"160px",height:"160px"},other:{width:"160px",height:"160px"}},N={image:function(t,e){return void 0!==t?t.match("image.*"):e.match(/\.(gif|png|jpe?g)$/i)},html:function(t,e){return void 0!==t?"text/html"===t:e.match(/\.(htm|html)$/i)},text:function(t,e){return void 0!==t&&t.match("text.*")||e.match(/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(t,e){return void 0!==t&&t.match(/\.video\/(ogg|mp4|webm|3gp)$/i)||e.match(/\.(og?|mp4|webm|3gp)$/i)},audio:function(t,e){return void 0!==t&&t.match(/\.audio\/(ogg|mp3|wav)$/i)||e.match(/\.(ogg|mp3|wav)$/i)},flash:function(t,e){return void 0!==t&&"application/x-shockwave-flash"===t||e.match(/\.(swf)$/i)},object:function(){return!0},other:function(){return!0}},B=function(e,i){return void 0===e||null===e||0===e.length||i&&""===t.trim(e)},H=function(t){return Array.isArray(t)||"[object Array]"===Object.prototype.toString.call(t)},Y=function(t,e){return"object"==typeof e&&t in e},W=function(e,i,s){return B(e)||B(e[i])?s:t(e[i])},q=function(){return Math.round((new Date).getTime()+100*Math.random())},V=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},Q=function(e,i){var s=e;return i?(t.each(i,function(t,e){"function"==typeof e&&(e=e()),s=s.split(t).join(e)}),s):s},Z=window.URL||window.webkitURL,X=function(i,s){var o=this;o.$element=t(i),o.validate()&&(o.isPreviewable=n(),o.isIE9=e(9),o.isIE10=e(10),o.isPreviewable||o.isIE9?(o.init(s),o.listen()):o.$element.removeClass("file-loading"))};X.prototype={constructor:X,validate:function(){var t,e=this;return"file"===e.$element.attr("type")?!0:(t='<div class="help-block alert alert-warning"><h4>Invalid Input Type</h4>You must set an input <code>type = file</code> for <b>bootstrap-fileinput</b> plugin to initialize.</div>',e.$element.after(t),!1)},init:function(e){var i,n=this,d=n.$element;t.each(e,function(t,e){switch(t){case"minFileCount":case"maxFileCount":case"maxFileSize":n[t]=o(e);break;default:n[t]=e}}),n.fileInputCleared=!1,n.fileBatchCompleted=!0,n.isPreviewable||(n.showPreview=!1),
n.uploadFileAttr=B(d.attr("name"))?"file_data":d.attr("name"),n.reader=null,n.formdata={},n.filestack=[],n.uploadCount=0,n.uploadStatus={},n.fileprogress=[],n.ajaxRequests=[],n.isError=!1,n.ajaxAborted=!1,n.cancelling=!1,i=n.getLayoutTemplate("progress"),n.progressTemplate=i.replace("{class}",n.progressClass),n.progressCompleteTemplate=i.replace("{class}",n.progressCompleteClass),n.dropZoneEnabled=a()&&n.dropZoneEnabled,n.isDisabled=n.$element.attr("disabled")||n.$element.attr("readonly"),n.isUploadable=r()&&!B(n.uploadUrl),n.slug="function"==typeof e.slugCallback?e.slugCallback:n.slugDefault,n.mainTemplate=n.getLayoutTemplate(n.showCaption?"main1":"main2"),n.captionTemplate=n.getLayoutTemplate("caption"),n.previewGenericTemplate=n.getPreviewTemplate("generic"),B(n.$element.attr("id"))&&n.$element.attr("id",q()),void 0===n.$container?n.$container=n.createContainer():n.refreshContainer(),n.$progress=n.$container.find(".kv-upload-progress"),n.$btnUpload=n.$container.find(".fileinput-upload"),n.$captionContainer=W(e,"elCaptionContainer",n.$container.find(".file-caption")),n.$caption=W(e,"elCaptionText",n.$container.find(".file-caption-name")),n.$previewContainer=W(e,"elPreviewContainer",n.$container.find(".file-preview")),n.$preview=W(e,"elPreviewImage",n.$container.find(".file-preview-thumbnails")),n.$previewStatus=W(e,"elPreviewStatus",n.$container.find(".file-preview-status")),n.$errorContainer=W(e,"elErrorContainer",n.$previewContainer.find(".kv-fileinput-error")),B(n.msgErrorClass)||l(n.$errorContainer,n.msgErrorClass),n.$errorContainer.hide(),n.fileActionSettings=t.extend(p,e.fileActionSettings),n.previewInitId="preview-"+q(),n.id=n.$element.attr("id"),s.init(n),n.initPreview(!0),n.initPreviewDeletes(),n.options=e,n.setFileDropZoneTitle(),n.$element.removeClass("file-loading"),n.$element.attr("disabled")&&n.disable()},parseError:function(e,i,s){var o=this,n=t.trim(i+""),a="."===n.slice(-1)?"":".",r=void 0!==e.responseJSON&&void 0!==e.responseJSON.error?e.responseJSON.error:e.responseText;return o.cancelling&&o.msgUploadAborted&&(n=o.msgUploadAborted),o.showAjaxErrorDetails&&r?(r=t.trim(r.replace(/\n\s*\n/g,"\n")),r=r.length>0?"<pre>"+r+"</pre>":"",n+=a+r):n+=a,o.cancelling=!1,s?"<b>"+s+": </b>"+n:n},raise:function(e,i){var s=this,o=t.Event(e);if(void 0!==i?s.$element.trigger(o,i):s.$element.trigger(o),o.isDefaultPrevented())return!1;if(!o.result)return o.result;switch(e){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:s.ajaxAborted=o.result}return!0},getLayoutTemplate:function(t){var e=this,i=Y(t,e.layoutTemplates)?e.layoutTemplates[t]:j[t];return B(e.customLayoutTags)?i:Q(i,e.customLayoutTags)},getPreviewTemplate:function(t){var e=this,i=Y(t,e.previewTemplates)?e.previewTemplates[t]:U[t];return B(e.customPreviewTags)?i:Q(i,e.customPreviewTags)},parseFilePreviewIcon:function(e,i){var s,o=this,n=o.previewFileIcon;return i&&i.indexOf(".")>-1&&(s=i.split(".").pop(),o.previewFileIconSettings&&o.previewFileIconSettings[s]&&(n=o.previewFileIconSettings[s]),o.previewFileExtSettings&&t.each(o.previewFileExtSettings,function(t,e){o.previewFileIconSettings[t]&&e(s)&&(n=o.previewFileIconSettings[t])})),e.indexOf("{previewFileIcon}")>-1?e.replace(/\{previewFileIconClass\}/g,o.previewFileIconClass).replace(/\{previewFileIcon\}/g,n):e},getOutData:function(t,e,i){var s=this;return t=t||{},e=e||{},i=i||s.filestack.slice(0)||{},{form:s.formdata,files:i,extra:s.getExtraData(),response:e,reader:s.reader,jqXHR:t}},listen:function(){var e=this,s=e.$element,o=e.$captionContainer,n=e.$btnFile,a=s.closest("form"),r=e.$container;i(s,"change",t.proxy(e.change,e)),i(n,"click",function(){e.raise("filebrowse"),e.isError&&!e.isUploadable&&e.clear(),o.focus()}),i(a,"reset",t.proxy(e.reset,e)),i(r.find(".fileinput-remove:not([disabled])"),"click",t.proxy(e.clear,e)),i(r.find(".fileinput-cancel"),"click",t.proxy(e.cancel,e)),e.isUploadable&&e.dropZoneEnabled&&e.showPreview&&e.initDragDrop(),e.isUploadable||i(a,"submit",t.proxy(e.submitForm,e)),i(e.$container.find(".fileinput-upload"),"click",function(i){var s,o=t(this),n=!o.hasClass("disabled")&&B(o.attr("disabled"));return e.isUploadable?(i.preventDefault(),void(n&&e.upload())):void(n&&"submit"!==o.attr("type")&&(s=o.closest("form"),s.length&&s.trigger("submit"),i.preventDefault()))})},submitForm:function(){var t=this,e=t.$element,i=e.get(0).files;return i&&t.minFileCount>0&&t.getFileCount(i.length)<t.minFileCount?(t.noFilesError({}),!1):!t.abort({})},abort:function(e){var i,s=this;return s.ajaxAborted&&"object"==typeof s.ajaxAborted&&void 0!==s.ajaxAborted.message?(i=t.extend(s.getOutData(),e),i.abortData=s.ajaxAborted.data||{},i.abortMessage=s.ajaxAborted.message,s.cancel(),s.setProgress(100),s.showUploadError(s.ajaxAborted.message,i,"filecustomerror"),!0):!1},noFilesError:function(t){var e=this,i=e.minFileCount>1?e.filePlural:e.fileSingle,s=e.msgFilesTooLess.replace("{n}",e.minFileCount).replace("{files}",i),o=e.$errorContainer;e.addError(s),e.isError=!0,e.updateFileDetails(0),o.fadeIn(800),e.raise("fileerror",[t]),e.clearFileInput(),l(e.$container,"has-error")},setProgress:function(t,e){var i=this,s=Math.min(t,100),o=100>s?i.progressTemplate:i.progressCompleteTemplate;e=e||i.$progress,B(o)||e.html(o.replace(/\{percent\}/g,s))},upload:function(){var e,i,s,o=this,n=o.getFileStack().length,a={},r=!t.isEmptyObject(o.getExtraData());if(o.minFileCount>0&&o.getFileCount(n)<o.minFileCount)return void o.noFilesError(a);if(o.isUploadable&&!o.isDisabled&&(0!==n||r)){if(o.resetUpload(),o.$progress.removeClass("hide"),o.uploadCount=0,o.uploadStatus={},o.lock(),o.setProgress(2),0===n&&r)return void o.uploadExtraOnly();if(s=o.filestack.length,o.hasInitData=!1,o.uploadAsync&&o.showPreview)for(i=o.getOutData(),o.raise("filebatchpreupload",[i]),o.fileBatchCompleted=!1,o.uploadCache={content:[],config:[],tags:[],append:!0},e=0;s>e;e+=1)void 0!==o.filestack[e]&&o.uploadSingle(e,o.filestack,!0);else o.uploadBatch()}},lock:function(){var t=this;t.resetErrors(),t.disable(),t.showRemove&&l(t.$container.find(".fileinput-remove"),"hide"),t.showCancel&&t.$container.find(".fileinput-cancel").removeClass("hide"),t.raise("filelock",[t.filestack,t.getExtraData()])},unlock:function(t){var e=this;void 0===t&&(t=!0),e.enable(),e.showCancel&&l(e.$container.find(".fileinput-cancel"),"hide"),e.showRemove&&e.$container.find(".fileinput-remove").removeClass("hide"),t&&e.resetFileStack(),e.raise("fileunlock",[e.filestack,e.getExtraData()])},resetFileStack:function(){var e=this,i=0,s=[];e.getThumbs().each(function(){var o=t(this),n=o.attr("data-fileindex"),a=e.filestack[n];-1!==n&&(void 0!==a?(s[i]=a,o.attr({id:e.previewInitId+"-"+i,"data-fileindex":i}),i+=1):o.attr({id:"uploaded-"+q(),"data-fileindex":"-1"}))}),e.filestack=s},destroy:function(){var t=this,e=t.$container;e.find(".file-drop-zone").off(),t.$element.insertBefore(e).off(".fileinput").removeData(),e.off().remove()},refresh:function(e){var i=this,s=i.$element;e=e?t.extend(i.options,e):i.options,i.destroy(),s.fileinput(e),s.val()&&s.trigger("change.fileinput")},initDragDrop:function(){var e=this,s=e.$container.find(".file-drop-zone"),o="dragenter.fileinput dragover.fileinput drop.fileinput";i(s,"dragenter.fileinput dragover.fileinput",function(i){var s=t.inArray("Files",i.originalEvent.dataTransfer.types)>-1;return i.stopPropagation(),i.preventDefault(),e.isDisabled||!s?(i.originalEvent.dataTransfer.effectAllowed="none",void(i.originalEvent.dataTransfer.dropEffect="none")):void l(t(this),"highlighted")},!0),i(s,"dragleave",function(i){i.stopPropagation(),i.preventDefault(),e.isDisabled||t(this).removeClass("highlighted")}),i(s,"drop",function(i){i.preventDefault(),e.isDisabled||B(i.originalEvent.dataTransfer.files)||(e.change(i,"dragdrop"),t(this).removeClass("highlighted"))}),i(t(document),o,function(t){t.stopPropagation(),t.preventDefault()},!0)},setFileDropZoneTitle:function(){var t=this,e=t.$container.find(".file-drop-zone");e.find("."+t.dropZoneTitleClass).remove(),t.isUploadable&&t.showPreview&&0!==e.length&&!(t.getFileStack().length>0)&&t.dropZoneEnabled&&(0===e.find(".file-preview-frame").length&&e.prepend('<div class="'+t.dropZoneTitleClass+'">'+t.dropZoneTitle+"</div>"),t.$container.removeClass("file-input-new"),l(t.$container,"file-input-ajax-new"))},initFileActions:function(){var e=this;e.$preview.find(".kv-file-remove").each(function(){var o,n,a,r,l=t(this),d=l.closest(".file-preview-frame"),c=d.attr("id"),h=d.attr("data-fileindex");i(l,"click",function(i){return r=e.raise("filepreremove",[c,h]),r!==!1&&e.validateMinCount()?(o=d.hasClass("file-preview-error"),e.cleanMemory(d),void d.fadeOut("slow",function(){e.filestack[h]=void 0,e.clearObjects(d),d.remove(),c&&o&&e.$errorContainer.find('li[data-file-id="'+c+'"]').fadeOut("fast",function(){t(this).remove(),e.$errorContainer.find("li").length||e.$preview.find(".file-preview-frame.file-preview-error").length||e.resetErrors()});var i=e.getFileStack(!0),r=i.length,l=s.count(e.id),p=e.showPreview&&e.$preview.find(".file-preview-frame").length;e.clearFileInput(),0!==r||0!==l||p?(n=l+r,a=n>1?e.getMsgSelected(n):i[0]?i[0].name:"",e.setCaption(a)):e.reset(),e.raise("fileremoved",[c,h])})):!1})}),e.$preview.find(".kv-file-upload").each(function(){var s=t(this);i(s,"click",function(){var t=s.closest(".file-preview-frame"),i=t.attr("data-fileindex");t.hasClass("file-preview-error")||e.uploadSingle(i,e.filestack,!1)})})},getMsgSelected:function(t){var e=this,i=1===t?e.fileSingle:e.filePlural;return e.msgSelected.replace("{n}",t).replace("{files}",i)},renderThumbProgress:function(){return'<div class="file-thumb-progress hide">'+this.progressTemplate.replace(/\{percent\}/g,"0")+"</div>"},renderFileFooter:function(t,e){var i,s,o=this,n=o.fileActionSettings,a=o.getLayoutTemplate("footer");return o.progressTemplate,o.isUploadable?(i=a.replace(/\{actions\}/g,o.renderFileActions(!0,!0,!1,!1,!1)),s=i.replace(/\{caption\}/g,t).replace(/\{width\}/g,e).replace(/\{progress\}/g,o.renderThumbProgress()).replace(/\{indicator\}/g,n.indicatorNew).replace(/\{indicatorTitle\}/g,n.indicatorNewTitle)):s=a.replace(/\{actions\}/g,"").replace(/\{caption\}/g,t).replace(/\{progress\}/g,"").replace(/\{width\}/g,e).replace(/\{indicator\}/g,"").replace(/\{indicatorTitle\}/g,""),s=Q(s,o.previewThumbTags)},renderFileActions:function(t,e,i,s,o){if(!t&&!e)return"";var n=this,a=s===!1?"":' data-url="'+s+'"',r=o===!1?"":' data-key="'+o+'"',l=n.getLayoutTemplate("actionDelete"),d="",c=n.getLayoutTemplate("actions"),h=n.otherActionButtons.replace(/\{dataKey\}/g,r),p=n.fileActionSettings,u=i?p.removeClass+" disabled":p.removeClass;return l=l.replace(/\{removeClass\}/g,u).replace(/\{removeIcon\}/g,p.removeIcon).replace(/\{removeTitle\}/g,p.removeTitle).replace(/\{dataUrl\}/g,a).replace(/\{dataKey\}/g,r),t&&(d=n.getLayoutTemplate("actionUpload").replace(/\{uploadClass\}/g,p.uploadClass).replace(/\{uploadIcon\}/g,p.uploadIcon).replace(/\{uploadTitle\}/g,p.uploadTitle)),c.replace(/\{delete\}/g,l).replace(/\{upload\}/g,d).replace(/\{other\}/g,h)},setThumbStatus:function(t,e){var i=this,s="indicator"+e,o=s+"Title",n="file-preview-"+e.toLowerCase(),a=t.find(".file-upload-indicator"),r=i.fileActionSettings;t.removeClass("file-preview-success file-preview-error file-preview-loading"),"Error"===e&&(t.find(".kv-file-upload").attr("disabled",!0),l(t,"btn disabled")),a.html(r[s]),a.attr("title",r[o]),t.addClass(n)},clearPreview:function(){var t=this,e=t.$preview.find(t.showUploadedThumbs?".file-preview-frame:not(.file-preview-success)":".file-preview-frame");e.remove(),t.$preview.find(".file-preview-frame").length&&t.showPreview||t.resetUpload()},initPreview:function(t){var e,i=this,o=i.initialCaption||"";return s.count(i.id)?(e=s.out(i.id),o=t&&i.initialCaption?i.initialCaption:e.caption,i.$preview.html(e.content),i.setCaption(o),void(B(e.content)||i.$container.removeClass("file-input-new"))):(i.clearPreview(),void(t?i.setCaption(o):i.initCaption()))},initPreviewDeletes:function(){var e=this,o=e.deleteExtraData||{},n=function(){var t=e.isUploadable?s.count(e.id):e.$element.get(0).files.length;0!==e.$preview.find(".kv-file-remove").length||t||(e.reset(),e.initialCaption="")};e.$preview.find(".kv-file-remove").each(function(){var a=t(this),r=a.data("url")||e.deleteUrl,d=a.data("key");if(!B(r)&&void 0!==d){var c,h,p,u,f=a.closest(".file-preview-frame"),m=s.data[e.id],g=f.data("fileindex");g=parseInt(g.replace("init_","")),p=B(m.config)&&B(m.config[g])?null:m.config[g],u=B(p)||B(p.extra)?o:p.extra,"function"==typeof u&&(u=u()),h={id:a.attr("id"),key:d,extra:u},c=t.extend({url:r,type:"POST",dataType:"json",data:t.extend({key:d},u),beforeSend:function(t){e.ajaxAborted=!1,e.raise("filepredelete",[d,t,u]),e.ajaxAborted?t.abort():(l(f,"file-uploading"),l(a,"disabled"))},success:function(t,i,o){var r,l;return B(t)||B(t.error)?(s.unset(e.id,g),r=s.count(e.id),l=r>0?e.getMsgSelected(r):"",e.raise("filedeleted",[d,o,u]),e.setCaption(l),f.removeClass("file-uploading").addClass("file-deleted"),void f.fadeOut("slow",function(){e.clearObjects(f),f.remove(),n(),r||0!==e.getFileStack().length||(e.setCaption(""),e.reset())})):(h.jqXHR=o,h.response=t,e.showError(t.error,h,"filedeleteerror"),f.removeClass("file-uploading"),a.removeClass("disabled"),void n())},error:function(t,i,s){var o=e.parseError(t,s);h.jqXHR=t,h.response={},e.showError(o,h,"filedeleteerror"),f.removeClass("file-uploading"),n()}},e.ajaxDeleteSettings),i(a,"click",function(){return e.validateMinCount()?void t.ajax(c):!1})}})},clearObjects:function(e){e.find("video audio").each(function(){this.pause(),t(this).remove()}),e.find("img object div").each(function(){t(this).remove()})},clearFileInput:function(){var e,i,s,o=this,n=o.$element;B(n.val())||(o.isIE9||o.isIE10?(e=n.closest("form"),i=t(document.createElement("form")),s=t(document.createElement("div")),n.before(s),e.length?e.after(i):s.after(i),i.append(n).trigger("reset"),s.before(n).remove(),i.remove()):n.val(""),o.fileInputCleared=!0)},resetUpload:function(){var t=this;t.uploadCache={content:[],config:[],tags:[],append:!0},t.uploadCount=0,t.uploadStatus={},t.$btnUpload.removeAttr("disabled"),t.setProgress(0),l(t.$progress,"hide"),t.resetErrors(!1),t.ajaxAborted=!1,t.ajaxRequests=[]},cancel:function(){var e,i=this,s=i.ajaxRequests,o=s.length;if(o>0)for(e=0;o>e;e+=1)i.cancelling=!0,s[e].abort();i.getThumbs().each(function(){var e=t(this),s=e.attr("data-fileindex");e.removeClass("file-uploading"),void 0!==i.filestack[s]&&(e.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),e.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),i.unlock()})},cleanMemory:function(t){var e=t.is("img")?t.attr("src"):t.find("source").attr("src");Z.revokeObjectURL(e)},hasInitialPreview:function(){var t=this;return!t.overwriteInitial&&s.count(t.id)},clear:function(){var e,i=this;i.$btnUpload.removeAttr("disabled"),i.getThumbs().find("video,audio,img").each(function(){i.cleanMemory(t(this))}),i.resetUpload(),i.filestack=[],i.clearFileInput(),i.resetErrors(!0),i.raise("fileclear"),i.hasInitialPreview()?(i.showFileIcon(),i.resetPreview(),i.initPreviewDeletes(),i.$container.removeClass("file-input-new")):(i.getThumbs().each(function(){i.clearObjects(t(this))}),i.isUploadable&&(s.data[i.id]={}),i.$preview.html(""),e=!i.overwriteInitial&&i.initialCaption.length>0?i.initialCaption:"",i.setCaption(e),i.$caption.attr("title",""),l(i.$container,"file-input-new")),0===i.$container.find(".file-preview-frame").length&&(i.initCaption()||i.$captionContainer.find(".kv-caption-icon").hide()),i.hideFileIcon(),i.raise("filecleared"),i.$captionContainer.focus(),i.setFileDropZoneTitle()},resetPreview:function(){var t,e,i=this;s.count(i.id)?(t=s.out(i.id),i.$preview.html(t.content),e=i.initialCaption?i.initialCaption:t.caption,i.setCaption(e)):(i.clearPreview(),i.initCaption())},resetPreviewThumbs:function(t){var e,i=this;return t?(i.clearPreview(),void(i.filestack=[])):void(i.hasInitialPreview()?(e=s.out(i.id),i.$preview.html(e.content),i.setCaption(e.caption),i.initPreviewDeletes()):i.clearPreview())},reset:function(){var t=this;t.resetPreview(),t.$container.find(".fileinput-filename").text(""),t.raise("filereset"),l(t.$container,"file-input-new"),(t.$preview.find(".file-preview-frame").length||t.isUploadable&&t.dropZoneEnabled)&&t.$container.removeClass("file-input-new"),t.setFileDropZoneTitle(),t.filestack=[],t.formdata={}},disable:function(){var t=this;t.isDisabled=!0,t.raise("filedisabled"),t.$element.attr("disabled","disabled"),t.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),t.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),t.initDragDrop()},enable:function(){var t=this;t.isDisabled=!1,t.raise("fileenabled"),t.$element.removeAttr("disabled"),t.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),t.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),t.initDragDrop()},getThumbs:function(t){return t=t||"",this.$preview.find(".file-preview-frame:not(.file-preview-initial)"+t)},getExtraData:function(t,e){var i=this,s=i.uploadExtraData;return"function"==typeof i.uploadExtraData&&(s=i.uploadExtraData(t,e)),s},uploadExtra:function(e,i){var s=this,o=s.getExtraData(e,i);0!==o.length&&t.each(o,function(t,e){s.formdata.append(t,e)})},setAsyncUploadStatus:function(e,i,s){var o=this,n=0;o.setProgress(i,t("#"+e).find(".file-thumb-progress")),o.uploadStatus[e]=i,t.each(o.uploadStatus,function(t,e){n+=e}),o.setProgress(Math.ceil(n/s))},initXhr:function(t,e,i){var s=this;return t.upload&&t.upload.addEventListener("progress",function(t){var o=0,n=t.loaded||t.position,a=t.total;t.lengthComputable&&(o=Math.ceil(n/a*100)),e?s.setAsyncUploadStatus(e,o,i):s.setProgress(Math.ceil(o))},!1),t},ajaxSubmit:function(e,i,s,o,n,a){var r,l=this;l.raise("filepreajax",[n,a]),l.uploadExtra(n,a),r=t.extend({xhr:function(){var e=t.ajaxSettings.xhr();return l.initXhr(e,n,l.getFileStack().length)},url:l.uploadUrl,type:"POST",dataType:"json",data:l.formdata,cache:!1,processData:!1,contentType:!1,beforeSend:e,success:i,complete:s,error:o},l.ajaxSettings),l.ajaxRequests.push(t.ajax(r))},initUploadSuccess:function(e,i,o){var n,a,r,l,d,c,h,p=this;"object"!=typeof e||t.isEmptyObject(e)||void 0!==e.initialPreview&&e.initialPreview.length>0&&(p.hasInitData=!0,d=e.initialPreview||[],c=e.initialPreviewConfig||[],h=e.initialPreviewThumbTags||[],n=void 0===e.append||e.append?!0:!1,p.overwriteInitial=!1,void 0===i||o?o?(p.uploadCache.content.push(d[0]),p.uploadCache.config.push(c[0]),p.uploadCache.tags.push(h[0]),p.uploadCache.append=n):(s.set(p.id,d,c,h,n),p.initPreview(),p.initPreviewDeletes()):(r=s.add(p.id,d,c[0],h[0],n),a=s.get(p.id,r,!1),l=t(a).hide(),i.after(l).fadeOut("slow",function(){l.fadeIn("slow").css("display:inline-block"),p.initPreviewDeletes(),p.clearFileInput(),i.remove()})))},initSuccessThumbs:function(){var e=this;e.getThumbs(".file-preview-success").each(function(){var s=t(this),o=s.find(".kv-file-remove");o.removeAttr("disabled"),i(o,"click",function(){var t=e.raise("filesuccessremove",[s.attr("id"),s.data("fileindex")]);e.cleanMemory(s),t!==!1&&s.fadeOut("slow",function(){s.remove(),e.$preview.find(".file-preview-frame").length||e.reset()})})})},uploadSingle:function(e,i,o){var n,a,r,d,c,h,p,u=this,f=u.getFileStack().length,m=new FormData,g=u.previewInitId+"-"+e,v=t("#"+g+":not(.file-preview-initial)"),b=v.find(".kv-file-upload"),y=v.find(".kv-file-remove"),w=u.filestack.length>0||!t.isEmptyObject(u.uploadExtraData),x={id:g,index:e};u.formdata=m,t("#"+g).find(".file-thumb-progress").removeClass("hide"),0===f||!w||b.hasClass("disabled")||u.abort(x)||(a=function(){var t=u.getThumbs(".file-uploading");t.length>0||u.fileBatchCompleted||(u.fileBatchCompleted=!0,setTimeout(function(){s.set(u.id,u.uploadCache.content,u.uploadCache.config,u.uploadCache.tags,u.uploadCache.append),u.hasInitData&&(u.initPreview(),u.initPreviewDeletes()),u.unlock(),u.clearFileInput(),u.raise("filebatchuploadcomplete",[u.filestack,u.getExtraData()]),u.uploadCount=0,u.uploadStatus={},u.setProgress(100)},100))},r=function(){b.removeAttr("disabled"),y.removeAttr("disabled"),v.removeClass("file-uploading")},d=function(i){n=u.getOutData(i),v.hasClass("file-preview-success")||(u.setThumbStatus(v,"Loading"),l(v,"file-uploading")),b.attr("disabled",!0),y.attr("disabled",!0),o||u.lock(),u.raise("filepreupload",[n,g,e]),x=t.extend(x,n),u.abort(x)&&(i.abort(),u.setProgress(100))},c=function(i,s,a){n=u.getOutData(a,i),x=t.extend(x,n),setTimeout(function(){B(i)||B(i.error)?(u.setThumbStatus(v,"Success"),b.hide(),u.filestack[e]=void 0,u.raise("fileuploaded",[n,g,e]),u.initUploadSuccess(i,v,o),o||u.resetFileStack()):(u.setThumbStatus(v,"Error"),u.showUploadError(i.error,x))},100)},h=function(){setTimeout(function(){r(),o?a():u.unlock(!1),u.initSuccessThumbs()},100)},p=function(s,n,a){var r=u.parseError(s,a,o?i[e].name:null);u.uploadStatus[g]=100,u.setThumbStatus(v,"Error"),x=t.extend(x,u.getOutData(s)),u.showUploadError(r,x)},m.append(u.uploadFileAttr,i[e]),m.append("file_id",e),u.ajaxSubmit(d,c,h,p,g,e))},uploadBatch:function(){var e,i,s,o,n,a=this,r=a.filestack,d=r.length,c={},h=a.filestack.length>0||!t.isEmptyObject(a.uploadExtraData);a.formdata=new FormData,0!==d&&h&&!a.abort(c)&&(e=function(){t.each(r,function(t){a.filestack[t]=void 0}),a.clearFileInput()},i=function(e){a.lock();var i=a.getOutData(e);a.showPreview&&a.getThumbs().each(function(){var e=t(this),i=e.find(".kv-file-upload"),s=e.find(".kv-file-remove");e.hasClass("file-preview-success")||(a.setThumbStatus(e,"Loading"),l(e,"file-uploading")),i.attr("disabled",!0),s.attr("disabled",!0)}),a.raise("filebatchpreupload",[i]),a.abort(i)&&(e.abort(),a.setProgress(100))},s=function(i,s,o){var n=a.getOutData(o,i),r=a.getThumbs(),l=0,d=B(i)||B(i.errorkeys)?[]:i.errorkeys;B(i)||B(i.error)?(a.raise("filebatchuploadsuccess",[n]),e(),a.showPreview?(r.each(function(){var e=t(this),i=e.find(".kv-file-upload");e.find(".kv-file-upload").hide(),a.setThumbStatus(e,"Success"),e.removeClass("file-uploading"),i.removeAttr("disabled")}),a.initUploadSuccess(i)):a.reset()):(a.showPreview&&(r.each(function(){var e=t(this),i=e.find(".kv-file-remove"),s=e.find(".kv-file-upload");return e.removeClass("file-uploading"),s.removeAttr("disabled"),i.removeAttr("disabled"),0===d.length?void a.setThumbStatus(e,"Error"):(-1!==t.inArray(l,d)?a.setThumbStatus(e,"Error"):(e.find(".kv-file-upload").hide(),a.setThumbStatus(e,"Success"),a.filestack[l]=void 0),void l++)}),a.initUploadSuccess(i)),a.showUploadError(i.error,n,"filebatchuploaderror"))},o=function(){a.setProgress(100),a.unlock(),a.initSuccessThumbs(),a.clearFileInput(),a.raise("filebatchuploadcomplete",[a.filestack,a.getExtraData()])},n=function(e,i,s){var o=a.getOutData(e),n=a.parseError(e,s);a.showUploadError(n,o,"filebatchuploaderror"),a.uploadFileCount=d-1,a.showPreview&&(a.getThumbs().each(function(){var e=t(this),i=e.attr("data-fileindex");e.removeClass("file-uploading"),void 0!==a.filestack[i]&&a.setThumbStatus(e,"Error")}),a.getThumbs().removeClass("file-uploading"),a.getThumbs(" .kv-file-upload").removeAttr("disabled"),a.getThumbs(" .kv-file-delete").removeAttr("disabled"))},t.each(r,function(t,e){B(r[t])||a.formdata.append(a.uploadFileAttr,e)}),a.ajaxSubmit(i,s,o,n))},uploadExtraOnly:function(){var t,e,i,s,o=this,n={};o.formdata=new FormData,o.abort(n)||(t=function(t){o.lock();var e=o.getOutData(t);o.raise("filebatchpreupload",[e]),o.setProgress(50),n.data=e,n.xhr=t,o.abort(n)&&(t.abort(),o.setProgress(100))},e=function(t,e,i){var s=o.getOutData(i,t);B(t)||B(t.error)?(o.raise("filebatchuploadsuccess",[s]),o.clearFileInput(),o.initUploadSuccess(t)):o.showUploadError(t.error,s,"filebatchuploaderror")},i=function(){o.setProgress(100),o.unlock(),o.clearFileInput(),o.raise("filebatchuploadcomplete",[o.filestack,o.getExtraData()])},s=function(t,e,i){var s=o.getOutData(t),a=o.parseError(t,i);n.data=s,o.showUploadError(a,s,"filebatchuploaderror")},o.ajaxSubmit(t,e,i,s))},hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.find(".kv-caption-icon").hide()},showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},addError:function(t){var e=this,i=e.$errorContainer;t&&i.length&&(i.html(e.errorCloseButton+t),i.find(".kv-error-close").off("click").on("click",function(){i.fadeOut("slow")}))},resetErrors:function(t){var e=this,i=e.$errorContainer;e.isError=!1,e.$container.removeClass("has-error"),i.html(""),t?i.fadeOut("slow"):i.hide()},showFolderError:function(t){var e=this,i=e.$errorContainer;t&&(e.addError(e.msgFoldersNotAllowed.replace(/\{n\}/g,t)),i.fadeIn(800),l(e.$container,"has-error"),e.raise("filefoldererror",[t]))},showUploadError:function(t,e,i){var s=this,o=s.$errorContainer,n=i||"fileuploaderror",a=e&&e.id?'<li data-file-id="'+e.id+'">'+t+"</li>":"<li>"+t+"</li>";return 0===o.find("ul").length?s.addError("<ul>"+a+"</ul>"):o.find("ul").append(a),o.fadeIn(800),s.raise(n,[e]),s.$container.removeClass("file-input-new"),l(s.$container,"has-error"),!0},showError:function(t,e,i){var s=this,o=s.$errorContainer,n=i||"fileerror";return e=e||{},e.reader=s.reader,s.addError(t),o.fadeIn(800),s.raise(n,[e]),s.isUploadable||s.clearFileInput(),s.$container.removeClass("file-input-new"),l(s.$container,"has-error"),s.$btnUpload.attr("disabled",!0),!0},errorHandler:function(t,e){var i=this,s=t.target.error;switch(s.code){case s.NOT_FOUND_ERR:i.showError(i.msgFileNotFound.replace("{name}",e));break;case s.SECURITY_ERR:i.showError(i.msgFileSecured.replace("{name}",e));break;case s.NOT_READABLE_ERR:i.showError(i.msgFileNotReadable.replace("{name}",e));break;case s.ABORT_ERR:i.showError(i.msgFilePreviewAborted.replace("{name}",e));break;default:i.showError(i.msgFilePreviewError.replace("{name}",e))}},parseFileType:function(t){var e,i,s,o,n=this;for(o=0;o<L.length;o+=1)if(s=L[o],e=Y(s,n.fileTypeSettings)?n.fileTypeSettings[s]:N[s],i=e(t.type,t.name)?s:"",!B(i))return i;return"other"},previewDefault:function(e,i,s){if(this.showPreview){var o=this,n=Z.createObjectURL(e),a="",r=e?e.name:"",l=o.previewSettings.other||R.other,d=o.renderFileFooter(e.name,l.width),c=i.slice(i.lastIndexOf("-")+1),h=o.parseFilePreviewIcon(o.getPreviewTemplate("other"),r);s===!0&&(a=" btn disabled",o.isUploadable||(d+='<div class="file-other-error" title="'+o.fileActionSettings.indicatorErrorTitle+'">'+o.fileActionSettings.indicatorError+"</div>")),o.$preview.append("\n"+h.replace(/\{previewId\}/g,i).replace(/\{frameClass\}/g,a).replace(/\{fileindex\}/g,c).replace(/\{caption\}/g,o.slug(e.name)).replace(/\{width\}/g,l.width).replace(/\{height\}/g,l.height).replace(/\{type\}/g,e.type).replace(/\{data\}/g,n).replace(/\{footer\}/g,d)),s===!0&&o.isUploadable&&o.setThumbStatus(t("#"+i),"Error")}},previewFile:function(t,e,i,s,o){if(this.showPreview){var n,a,r,l=this,d=l.parseFileType(e),c=e?e.name:"",h=l.slug(c),p=l.allowedPreviewTypes,u=l.allowedPreviewMimeTypes,f=l.getPreviewTemplate(d),m=p&&p.indexOf(d)>=0,g=Y(d,l.previewSettings)?l.previewSettings[d]:R[d],v=u&&-1!==u.indexOf(e.type),b=l.renderFileFooter(h,g.width),y="",w=s.slice(s.lastIndexOf("-")+1);m||v?(f=l.parseFilePreviewIcon(f,c.split(".").pop()),"text"===d?(a=V(i.target.result),r="text-"+q(),n=f.replace(/\{zoom\}/g,l.getLayoutTemplate("zoom")),y=l.getLayoutTemplate("modal").replace("{id}",r).replace(/\{title\}/g,h).replace(/\{body\}/g,a).replace(/\{heading\}/g,l.msgZoomModalHeading),n=n.replace(/\{previewId\}/g,s).replace(/\{caption\}/g,h).replace(/\{width\}/g,g.width).replace(/\{height\}/g,g.height).replace(/\{frameClass\}/g,"").replace(/\{zoomInd\}/g,l.zoomIndicator).replace(/\{footer\}/g,b).replace(/\{fileindex\}/g,w).replace(/\{type\}/g,e.type).replace(/\{zoomTitle\}/g,l.msgZoomTitle).replace(/\{dialog\}/g,"$('#"+r+"').modal('show')").replace(/\{data\}/g,a)+y):n=f.replace(/\{previewId\}/g,s).replace(/\{caption\}/g,h).replace(/\{frameClass\}/g,"").replace(/\{type\}/g,e.type).replace(/\{fileindex\}/g,w).replace(/\{width\}/g,g.width).replace(/\{height\}/g,g.height).replace(/\{footer\}/g,b).replace(/\{data\}/g,o),l.$preview.append("\n"+n),l.validateImage(t,s,h)):l.previewDefault(e,s)}},slugDefault:function(t){return B(t)?"":t.split(/(\\|\/)/g).pop().replace(/[^\w\u00C0-\u017F\-.\\\/ ]+/g,"")},getFileStack:function(t){var e=this;return e.filestack.filter(function(e){return t?void 0!==e:void 0!==e&&null!==e})},readFiles:function(e){this.reader=new FileReader;var i,s=this,o=s.$element,n=s.$preview,a=s.reader,r=s.$previewContainer,l=s.$previewStatus,d=s.msgLoading,c=s.msgProgress,h=s.previewInitId,p=e.length,u=s.fileTypeSettings,f=s.filestack.length,m=function(o,n,a,r){var l=t.extend(s.getOutData({},{},e),{id:a,index:r}),d={id:a,index:r,file:n,files:e};return s.previewDefault(n,a,!0),s.isUploadable&&s.filestack.push(void 0),setTimeout(i(r+1),100),s.initFileActions(),s.isUploadable?s.showUploadError(o,l):s.showError(o,d)};i=function(t){if(B(o.attr("multiple"))&&(p=1),t>=p)return s.isUploadable&&s.filestack.length>0?s.raise("filebatchselected",[s.getFileStack()]):s.raise("filebatchselected",[e]),r.removeClass("loading"),void l.html("");var g,v,b,y,w,x,_=f+t,k=h+"-"+_,C=e[t],T=s.slug(C.name),$=(C.size||0)/1e3,D="",S=Z.createObjectURL(C),E=0,M=s.allowedFileTypes,I=B(M)?"":M.join(", "),P=s.allowedFileExtensions,O=B(P)?"":P.join(", ");if(B(P)||(D=new RegExp("\\.("+P.join("|")+")$","i")),$=$.toFixed(2),s.maxFileSize>0&&$>s.maxFileSize)return y=s.msgSizeTooLarge.replace("{name}",T).replace("{size}",$).replace("{maxSize}",s.maxFileSize),void(s.isError=m(y,C,k,t));if(!B(M)&&H(M)){for(b=0;b<M.length;b+=1)w=M[b],v=u[w],x=void 0!==v&&v(C.type,T),E+=B(x)?0:x.length;if(0===E)return y=s.msgInvalidFileType.replace("{name}",T).replace("{types}",I),void(s.isError=m(y,C,k,t))}return 0!==E||B(P)||!H(P)||B(D)||(x=T.match(D),E+=B(x)?0:x.length,0!==E)?s.showPreview?(n.length>0&&void 0!==FileReader?(l.html(d.replace("{index}",t+1).replace("{files}",p)),r.addClass("loading"),a.onerror=function(t){s.errorHandler(t,T)},a.onload=function(e){s.previewFile(t,C,e,k,S),s.initFileActions()},a.onloadend=function(){y=c.replace("{index}",t+1).replace("{files}",p).replace("{percent}",50).replace("{name}",T),setTimeout(function(){l.html(y),s.updateFileDetails(p),i(t+1)},100),s.raise("fileloaded",[C,k,t,a])},a.onprogress=function(e){if(e.lengthComputable){var i=e.loaded/e.total*100,s=Math.ceil(i);y=c.replace("{index}",t+1).replace("{files}",p).replace("{percent}",s).replace("{name}",T),setTimeout(function(){l.html(y)},100)}},g=Y("text",u)?u.text:N.text,g(C.type,T)?a.readAsText(C,s.textEncoding):a.readAsArrayBuffer(C)):(s.previewDefault(C,k),setTimeout(function(){i(t+1),s.updateFileDetails(p)},100),s.raise("fileloaded",[C,k,t,a])),void s.filestack.push(C)):(s.filestack.push(C),setTimeout(i(t+1),100),void s.raise("fileloaded",[C,k,t,a])):(y=s.msgInvalidFileExtension.replace("{name}",T).replace("{extensions}",O),void(s.isError=m(y,C,k,t)))},i(0),s.updateFileDetails(p,!1)},updateFileDetails:function(t){var e=this,i=e.$element,o=e.getFileStack(),n=i.val()||o.length&&o[0].name||"",a=e.slug(n),r=e.isUploadable?o.length:t,l=s.count(e.id)+r,d=r>1?e.getMsgSelected(l):a;e.isError?(e.$previewContainer.removeClass("loading"),e.$previewStatus.html(""),e.$captionContainer.find(".kv-caption-icon").hide()):e.showFileIcon(),e.setCaption(d,e.isError),e.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&e.raise("fileselect",[t,a]),s.count(e.id)&&e.initPreviewDeletes()},validateMinCount:function(){var t=this,e=t.isUploadable?t.getFileStack().length:t.$element.get(0).files.length;return t.validateInitialCount&&t.minFileCount>0&&t.getFileCount(e-1)<t.minFileCount?(t.noFilesError({}),
!1):!0},getFileCount:function(t){var e=this,i=0;return e.validateInitialCount&&!e.overwriteInitial&&(i=s.count(e.id),t+=i),t},change:function(e){var i=this,o=i.$element;if(!i.isUploadable&&B(o.val())&&i.fileInputCleared)return void(i.fileInputCleared=!1);i.fileInputCleared=!1;var n,a,r,l,d,c,h=arguments.length>1,p=h?e.originalEvent.dataTransfer.files:o.get(0).files,u=B(o.attr("multiple")),f=0,m=0,g=i.filestack.length,v=i.isUploadable,b=u&&g>0,y=function(e,s,o,n){var a=t.extend(i.getOutData({},{},p),{id:o,index:n}),r={id:o,index:n,file:s,files:p};return i.isUploadable?i.showUploadError(e,a):i.showError(e,r)};if(i.reader=null,i.resetUpload(),i.hideFileIcon(),i.isUploadable&&i.$container.find(".file-drop-zone ."+i.dropZoneTitleClass).remove(),h)for(n=[];p[f];)l=p[f],l.type||l.size%4096!==0?n.push(l):m++,f++;else n=void 0===e.target.files?e.target&&e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]:e.target.files;if(B(n)||0===n.length)return v||i.clear(),i.showFolderError(m),void i.raise("fileselectnone");if(i.resetErrors(),c=n.length,r=i.isUploadable?i.getFileStack().length+c:c,r=i.getFileCount(r),i.maxFileCount>0&&r>i.maxFileCount){if(!i.autoReplace||c>i.maxFileCount)return d=i.autoReplace&&c>i.maxFileCount?c:r,a=i.msgFilesTooMany.replace("{m}",i.maxFileCount).replace("{n}",d),i.isError=y(a,null,null,null),i.$captionContainer.find(".kv-caption-icon").hide(),i.setCaption("",!0),void i.$container.removeClass("file-input-new file-input-ajax-new");r>i.maxFileCount&&i.resetPreviewThumbs(v)}else!v||b?(i.resetPreviewThumbs(!1),b&&(i.filestack=[])):!v||0!==g||s.count(i.id)&&!i.overwriteInitial||i.resetPreviewThumbs(!0);i.isPreviewable?i.readFiles(n):i.updateFileDetails(1),i.showFolderError(m)},validateImage:function(t,e,s){var o,n,a,r=this,l=r.$preview,d=l.find("#"+e),c=d.find("img");s=s||"Untitled",c.length&&i(c,"load",function(){n=d.width(),a=l.width(),n>a&&(c.css("width","100%"),d.css("width","97%")),o={ind:t,id:e},r.checkDimensions(t,"Small",c,d,s,"Width",o),r.checkDimensions(t,"Small",c,d,s,"Height",o),r.checkDimensions(t,"Large",c,d,s,"Width",o),r.checkDimensions(t,"Large",c,d,s,"Height",o),r.raise("fileimageloaded",[e]),Z.revokeObjectURL(c.attr("src"))})},checkDimensions:function(t,e,i,s,o,n,a){var r,l,d,c,h=this,p="Small"===e?"min":"max",u=h[p+"Image"+n];!B(u)&&i.length&&(d=i[0],l="Width"===n?d.naturalWidth||d.width:d.naturalHeight||d.height,c="Small"===e?l>=u:u>=l,c||(r=h["msgImage"+n+e].replace("{name}",o).replace("{size}",u),h.showUploadError(r,a),h.setThumbStatus(s,"Error"),h.filestack[t]=null))},initCaption:function(){var t=this,e=t.initialCaption||"";return t.overwriteInitial||B(e)?(t.$caption.html(""),!1):(t.setCaption(e),!0)},setCaption:function(e,i){var s,o,n=this;if(i)s=t("<div>"+n.msgValidationError+"</div>").text(),o='<span class="'+n.msgValidationErrorClass+'">'+n.msgValidationErrorIcon+s+"</span>";else{if(B(e)||0===n.$caption.length)return;s=t("<div>"+e+"</div>").text(),o=n.getLayoutTemplate("icon")+s}n.$caption.html(o),n.$caption.attr("title",s),n.$captionContainer.find(".file-caption-ellipsis").attr("title",s)},initBrowse:function(t){var e=this;e.$btnFile=t.find(".btn-file"),e.$btnFile.append(e.$element)},createContainer:function(){var e=this,i=t(document.createElement("div")).attr({"class":"file-input file-input-new"}).html(e.renderMain());return e.$element.before(i),e.initBrowse(i),i},refreshContainer:function(){var t=this,e=t.$container;e.before(t.$element),e.html(t.renderMain()),t.initBrowse(e)},renderMain:function(){var t=this,e=t.isUploadable&&t.dropZoneEnabled?" file-drop-zone":"",i=t.showPreview?t.getLayoutTemplate("preview").replace(/\{class\}/g,t.previewClass).replace(/\{dropClass\}/g,e):"",s=t.isDisabled?t.captionClass+" file-caption-disabled":t.captionClass,o=t.captionTemplate.replace(/\{class\}/g,s+" kv-fileinput-caption");return t.mainTemplate.replace(/\{class\}/g,t.mainClass).replace(/\{preview\}/g,i).replace(/\{caption\}/g,o).replace(/\{upload\}/g,t.renderButton("upload")).replace(/\{remove\}/g,t.renderButton("remove")).replace(/\{cancel\}/g,t.renderButton("cancel")).replace(/\{browse\}/g,t.renderButton("browse"))},renderButton:function(t){var e=this,i=e.getLayoutTemplate("btnDefault"),s=e[t+"Class"],o=e[t+"Title"],n=e[t+"Icon"],a=e[t+"Label"],r=e.isDisabled?" disabled":"",l="button";switch(t){case"remove":if(!e.showRemove)return"";break;case"cancel":if(!e.showCancel)return"";s+=" hide";break;case"upload":if(!e.showUpload)return"";e.isUploadable&&!e.isDisabled?i=e.getLayoutTemplate("btnLink").replace("{href}",e.uploadUrl):l="submit";break;case"browse":i=e.getLayoutTemplate("btnBrowse");break;default:return""}return s+="browse"===t?" btn-file":" fileinput-"+t+" fileinput-"+t+"-button",i.replace("{type}",l).replace("{css}",s).replace("{title}",o).replace("{status}",r).replace("{icon}",n).replace("{label}",a)}},t.fn.fileinput=function(i){if(n()||e(9)){var s=Array.apply(null,arguments),o=[];switch(s.shift(),this.each(function(){var e,n=t(this),a=n.data("fileinput"),r="object"==typeof i&&i,l=r.language||n.data("language")||"en";a||(e=t.extend({},t.fn.fileinput.defaults),"en"===l||B(t.fn.fileinputLocales[l])||(e=t.extend(e,t.fn.fileinputLocales[l])),a=new X(this,t.extend(e,r,n.data())),n.data("fileinput",a)),"string"==typeof i&&o.push(a[i].apply(a,s))}),o.length){case 0:return this;case 1:return o[0];default:return o}}},t.fn.fileinput.defaults={language:"en",showCaption:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showUploadedThumbs:!0,autoReplace:!1,mainClass:"",previewClass:"",captionClass:"",mainTemplate:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,layoutTemplates:j,previewTemplates:U,allowedPreviewTypes:L,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,customLayoutTags:{},customPreviewTags:{},previewSettings:R,fileTypeSettings:N,previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-icon-4x",previewFileIconSettings:{},previewFileExtSettings:{},browseIcon:'<i class="glyphicon glyphicon-folder-open"></i> &nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i> ',removeClass:"btn btn-default",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i> ',cancelClass:"btn btn-default",uploadIcon:'<i class="glyphicon glyphicon-upload"></i> ',uploadClass:"btn btn-default",uploadUrl:null,uploadAsync:!0,uploadExtraData:{},minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,maxFileSize:0,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-success progress-bar-striped active",progressClass:"progress-bar progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar progress-bar-success",previewFileType:"image",zoomIndicator:'<i class="glyphicon glyphicon-zoom-in"></i>',elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<span class="close kv-error-close">&times;</span>',slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0},t.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgZoomTitle:"View details",msgZoomModalHeading:"Detailed Preview",msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgUploadAborted:"The file upload was aborted",msgValidationError:"File Upload Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',dropZoneTitle:"Drag & drop files here &hellip;"},t.extend(t.fn.fileinput.defaults,t.fn.fileinputLocales.en),t.fn.fileinput.Constructor=X,t(document).ready(function(){var e=t("input.file[type=file]");e.length&&e.fileinput()})}(window.jQuery),!function(){var t,e,i,s,o,n={}.hasOwnProperty,a=function(t,e){function i(){this.constructor=t}for(var s in e)n.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};s=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,s,o,n,a;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),children:0,disabled:t.disabled}),n=t.childNodes,a=[],s=0,o=n.length;o>s;s++)i=n[s],a.push(this.add_option(i,e,t.disabled));return a},t.prototype.add_option=function(t,e,i){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t.prototype.escapeExpression=function(t){var e,i;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}(),s.select_to_array=function(t){var e,i,o,n,a;for(i=new s,a=t.childNodes,o=0,n=a.length;n>o;o++)e=a[o],i.add_node(e);return i.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},t.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.results_option_build=function(t){var e,i,s,o,n;for(e="",n=this.results_data,s=0,o=n.length;o>s;s++)i=n[s],e+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.style.cssText=t.style,i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.search_text,this.outerHTML(i)):""},t.prototype.result_add_group=function(t){var e;return(t.search_match||t.group_match)&&t.active_options>0?(e=document.createElement("li"),e.className="group-result",e.innerHTML=t.search_text,this.outerHTML(e)):""},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},t.prototype.reset_single_select_options=function(){var t,e,i,s,o;for(s=this.results_data,o=[],e=0,i=s.length;i>e;e++)t=s[e],t.selected?o.push(t.selected=!1):o.push(void 0);return o},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,i,s,o,n,a,r,l,d,c,h,p;for(this.no_results_clear(),o=0,a=this.get_search_text(),t=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=this.search_contains?"":"^",i=new RegExp(s+t,"i"),d=new RegExp(t,"i"),p=this.results_data,c=0,h=p.length;h>c;c++)e=p[c],e.search_match=!1,n=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(n=this.results_data[e.group_array_index],0===n.active_options&&n.search_match&&(o+=1),n.active_options+=1),(!e.group||this.group_search)&&(e.search_text=e.group?e.label:e.html,e.search_match=this.search_string_match(e.search_text,i),e.search_match&&!e.group&&(o+=1),e.search_match?(a.length&&(r=e.search_text.search(d),l=e.search_text.substr(0,r+a.length)+"</em>"+e.search_text.substr(r+a.length),e.search_text=l.substr(0,r)+"<em>"+l.substr(r)),null!=n&&(n.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),1>o&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.search_string_match=function(t,e){var i,s,o,n;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(s=t.replace(/\[|\]/g,"").split(" "),s.length))for(o=0,n=s.length;n>o;o++)if(i=s[o],e.test(i))return!0},t.prototype.choices_count=function(){var t,e,i,s;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,s=this.form_field.options,e=0,i=s.length;i>e;e++)t=s[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.clipboard_event_checker=function(){var t=this;return setTimeout(function(){return t.results_search()},50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return this.is_multiple&&!this.display_selected_options&&t.selected?!1:!this.display_disabled_options&&t.disabled?!1:t.empty?!1:!0},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){return this.touch_started?this.search_results_mouseup(t):void 0},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!0:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!0:!0},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(s){return e.browser_is_supported()?this.each(function(){var e,o;e=t(this),o=e.data("chosen"),"destroy"===s&&o?o.destroy():o||e.data("chosen",new i(this,s))}):this}}),i=function(e){function i(){return o=i.__super__.constructor.apply(this,arguments)}return a(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var e,i;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},i.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e;return t.originalEvent&&(e=-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){var i;return i=t(e.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=s.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,i,s,o,n;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),n=this.search_results.scrollTop(),o=s+n,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=o)return this.search_results.scrollTop(e-s>0?e-s:0);if(n>i)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(){var t;return this.form_field.tabIndex?(t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t):void 0},i.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(e),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},i.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(e){var i,s,o=this;return i=t("<li />",{"class":"search-choice"}).html("<span>"+e.html+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(s=t("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index}),s.bind("click.chosen",function(t){return o.choice_destroy_link_click(t)}),i.append(s)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){return this.result_deselect(t[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i;return this.result_highlight?(e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),i=this.results_data[e[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],this.form_field.options[e.options_index].disabled?!1:(e.selected=!1,
this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},i.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;return e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t?this.result_do_highlight(t):void 0},i.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,i,s,o,n,a,r,l,d;if(this.is_multiple){for(s=0,r=0,n="position:absolute; left: -1000px; top: -1000px; display:none;",a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,d=a.length;d>l;l++)o=a[l],n+=o+":"+this.search_field.css(o)+";";return e=t("<div />",{style:n}),e.text(this.search_field.val()),t("body").append(e),r=e.width()+25,e.remove(),i=this.container.outerWidth(),r>i-10&&(r=i-10),this.search_field.css({width:r+"px"})}},i}(e)}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=!1,i=!1,s=0,o=2e3,n=0,a=["webkit","ms","moz","o"],r=window.requestAnimationFrame||!1,l=window.cancelAnimationFrame||!1;if(!r)for(var d in a){var c=a[d];if(r=window[c+"RequestAnimationFrame"]){l=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"];break}}var h=window.MutationObserver||window.WebKitMutationObserver||!1,p={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var t=document.getElementsByTagName("script"),t=t.length?t[t.length-1].src.split("?")[0]:"";return 0<t.split("/").length?t.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1},u=!1,f=function(){if(u)return u;var t=document.createElement("DIV"),e=t.style,i=navigator.userAgent,s=navigator.platform,o={haspointerlock:"pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document};o.isopera="opera"in window,o.isopera12=o.isopera&&"getUserMedia"in navigator,o.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),o.isie="all"in document&&"attachEvent"in t&&!o.isopera,o.isieold=o.isie&&!("msInterpolationMode"in e),o.isie7=o.isie&&!o.isieold&&(!("documentMode"in document)||7==document.documentMode),o.isie8=o.isie&&"documentMode"in document&&8==document.documentMode,o.isie9=o.isie&&"performance"in window&&9==document.documentMode,o.isie10=o.isie&&"performance"in window&&10==document.documentMode,o.isie11="msRequestFullscreen"in t&&11<=document.documentMode,o.isieedge12=navigator.userAgent.match(/Edge\/12\./),o.isieedge="msOverflowStyle"in t,o.ismodernie=o.isie11||o.isieedge,o.isie9mobile=/iemobile.9/i.test(i),o.isie9mobile&&(o.isie9=!1),o.isie7mobile=!o.isie9mobile&&o.isie7&&/iemobile/i.test(i),o.ismozilla="MozAppearance"in e,o.iswebkit="WebkitAppearance"in e,o.ischrome="chrome"in window,o.ischrome38=o.ischrome&&"touchAction"in e,o.ischrome22=!o.ischrome38&&o.ischrome&&o.haspointerlock,o.ischrome26=!o.ischrome38&&o.ischrome&&"transition"in e,o.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,o.hasw3ctouch=(window.PointerEvent||!1)&&(0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints),o.hasmstouch=!o.hasw3ctouch&&(window.MSPointerEvent||!1),o.ismac=/^mac$/i.test(s),o.isios=o.cantouch&&/iphone|ipad|ipod/i.test(s),o.isios4=o.isios&&!("seal"in Object),o.isios7=o.isios&&"webkitHidden"in document,o.isios8=o.isios&&"hidden"in document,o.isandroid=/android/i.test(i),o.haseventlistener="addEventListener"in t,o.trstyle=!1,o.hastransform=!1,o.hastranslate3d=!1,o.transitionstyle=!1,o.hastransition=!1,o.transitionend=!1,s=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(i=0;i<s.length;i++)if(void 0!==e[s[i]]){o.trstyle=s[i];break}o.hastransform=!!o.trstyle,o.hastransform&&(e[o.trstyle]="translate3d(1px,2px,3px)",o.hastranslate3d=/translate3d/.test(e[o.trstyle])),o.transitionstyle=!1,o.prefixstyle="",o.transitionend=!1;for(var s="transition webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(" "),n=" -webkit- -ms- -moz- -o- -o -khtml-".split(" "),a="transitionend webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd".split(" "),i=0;i<s.length;i++)if(s[i]in e){o.transitionstyle=s[i],o.prefixstyle=n[i],o.transitionend=a[i];break}o.ischrome26&&(o.prefixstyle=n[1]),o.hastransition=o.transitionstyle;t:{for(i=["grab","-webkit-grab","-moz-grab"],(o.ischrome&&!o.ischrome38||o.isie)&&(i=[]),s=0;s<i.length;s++)if(n=i[s],e.cursor=n,e.cursor==n){e=n;break t}e="url(//patriciaportfolio.googlecode.com/files/openhand.cur),n-resize"}return o.cursorgrabvalue=e,o.hasmousecapture="setCapture"in t,o.hasMutationObserver=!1!==h,u=o},m=function(a,d){function c(){var t=y.doc.css(_.trstyle);return t&&"matrix"==t.substr(0,6)?t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function u(){var t=y.win;if("zIndex"in t)return t.zIndex();for(;0<t.length&&9!=t[0].nodeType;){var e=t.css("zIndex");if(!isNaN(e)&&0!=e)return parseInt(e);t=t.parent()}return!1}function m(t,e,i){return e=t.css(e),t=parseFloat(e),isNaN(t)?(t=$[e]||0,i=3==t?i?y.win.outerHeight()-y.win.innerHeight():y.win.outerWidth()-y.win.innerWidth():1,y.isie8&&t&&(t+=1),i?t:0):t}function v(t,e,i,s){y._bind(t,e,function(s){s=s?s:window.event;var o={original:s,target:s.target||s.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==s.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return s.preventDefault?s.preventDefault():s.returnValue=!1,!1},stopImmediatePropagation:function(){s.stopImmediatePropagation?s.stopImmediatePropagation():s.cancelBubble=!0}};return"mousewheel"==e?(s.wheelDeltaX&&(o.deltaX=-.025*s.wheelDeltaX),s.wheelDeltaY&&(o.deltaY=-.025*s.wheelDeltaY),o.deltaY||o.deltaX||(o.deltaY=-.025*s.wheelDelta)):o.deltaY=s.detail,i.call(t,o)},s)}function b(t,e,i){var s,o;if(0==t.deltaMode?(s=-Math.floor(y.opt.mousescrollstep/54*t.deltaX),o=-Math.floor(y.opt.mousescrollstep/54*t.deltaY)):1==t.deltaMode&&(s=-Math.floor(t.deltaX*y.opt.mousescrollstep),o=-Math.floor(t.deltaY*y.opt.mousescrollstep)),e&&y.opt.oneaxismousemode&&0==s&&o&&(s=o,o=0,i&&(0>s?y.getScrollLeft()>=y.page.maxw:0>=y.getScrollLeft())&&(o=s,s=0)),y.isrtlmode&&(s=-s),s&&(y.scrollmom&&y.scrollmom.stop(),y.lastdeltax+=s,y.debounced("mousewheelx",function(){var t=y.lastdeltax;y.lastdeltax=0,y.rail.drag||y.doScrollLeftBy(t)},15)),o){if(y.opt.nativeparentscrolling&&i&&!y.ispage&&!y.zoomactive)if(0>o){if(y.getScrollTop()>=y.page.maxh)return!0}else if(0>=y.getScrollTop())return!0;y.scrollmom&&y.scrollmom.stop(),y.lastdeltay+=o,y.synched("mousewheely",function(){var t=y.lastdeltay;y.lastdeltay=0,y.rail.drag||y.doScrollBy(t)},15)}return t.stopImmediatePropagation(),t.preventDefault()}var y=this;if(this.version="3.6.8",this.name="nicescroll",this.me=d,this.opt={doc:t("body"),win:!1},t.extend(this.opt,p),this.opt.snapbackspeed=80,a)for(var w in y.opt)void 0!==a[w]&&(y.opt[w]=a[w]);if(y.opt.disablemutationobserver&&(h=!1),this.iddoc=(this.doc=y.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(y.opt.win?y.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==y.opt.win,this.win=y.opt.win||(this.ispage?t(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?t(window):this.win,this.body=t("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=y.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==this.opt.rtlmode){w=this.win[0]==window?this.body:this.win;var x=w.css("writing-mode")||w.css("-webkit-writing-mode")||w.css("-ms-writing-mode")||w.css("-moz-writing-mode");"horizontal-tb"==x||"lr-tb"==x||""==x?(this.isrtlmode="rtl"==w.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==x||"tb"==x||"tb-rl"==x||"rl-tb"==x,this.isvertical="vertical-rl"==x||"tb"==x||"tb-rl"==x)}else this.isrtlmode=!0===this.opt.rtlmode,this.isvertical=!1;this.observerbody=this.observerremover=this.observer=this.scrollmom=this.scrollrunning=!1;do this.id="ascrail"+o++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=this.railslocked=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=y.opt.overflowx,this.overflowy=y.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=f();var _=t.extend({},this.detected);this.ishwscroll=(this.canhwscroll=_.hastransform&&y.opt.hwacceleration)&&y.haswrapper,this.hasreversehr=this.isrtlmode?this.isvertical?!(_.iswebkit||_.isie||_.isie11):!(_.iswebkit||_.isie&&!_.isie10&&!_.isie11):!1,this.istouchcapable=!1,_.cantouch||!_.hasw3ctouch&&!_.hasmstouch?!_.cantouch||_.isios||_.isandroid||!_.iswebkit&&!_.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,y.opt.enablemouselockapi||(_.hasmousecapture=!1,_.haspointerlock=!1),this.debounced=function(t,e,i){y&&(y.delaylist[t]||(e.call(y),y.delaylist[t]={h:r(function(){y.delaylist[t].fn.call(y),y.delaylist[t]=!1},i)}),y.delaylist[t].fn=e)};var k=!1;this.synched=function(t,e){return y.synclist[t]=e,function(){k||(r(function(){if(y){k=!1;for(var t in y.synclist){var e=y.synclist[t];e&&e.call(y),y.synclist[t]=!1}}}),k=!0)}(),t},this.unsynched=function(t){y.synclist[t]&&(y.synclist[t]=!1)},this.css=function(t,e){for(var i in e)y.saved.css.push([t,i,t.css(i)]),t.css(i,e[i])},this.scrollTop=function(t){return void 0===t?y.getScrollTop():y.setScrollTop(t)},this.scrollLeft=function(t){return void 0===t?y.getScrollLeft():y.setScrollLeft(t)};var C=function(t,e,i,s,o,n,a){this.st=t,this.ed=e,this.spd=i,this.p1=s||0,this.p2=o||1,this.p3=n||0,this.p4=a||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st};if(C.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var t=1-((new Date).getTime()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return 0>t?this.ed:this.st+Math.round(this.df*e)},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},_.hastranslate3d&&_.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(t){if(!t){if(t=c())return 16==t.length?-t[13]:-t[5];if(y.timerscroll&&y.timerscroll.bz)return y.timerscroll.bz.getNow()}return y.doc.translate.y},this.getScrollLeft=function(t){if(!t){if(t=c())return 16==t.length?-t[12]:-t[4];if(y.timerscroll&&y.timerscroll.bh)return y.timerscroll.bh.getNow()}return y.doc.translate.x},this.notifyScrollEvent=function(t){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),e.niceevent=!0,t.dispatchEvent(e)};var T=this.isrtlmode?1:-1;_.hastranslate3d&&y.opt.enabletranslate3d?(this.setScrollTop=function(t,e){y.doc.translate.y=t,y.doc.translate.ty=-1*t+"px",y.doc.css(_.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),e||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(t,e){y.doc.translate.x=t,y.doc.translate.tx=t*T+"px",y.doc.css(_.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),e||y.notifyScrollEvent(y.win[0])}):(this.setScrollTop=function(t,e){y.doc.translate.y=t,y.doc.translate.ty=-1*t+"px",y.doc.css(_.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),e||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(t,e){y.doc.translate.x=t,y.doc.translate.tx=t*T+"px",y.doc.css(_.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),e||y.notifyScrollEvent(y.win[0])})}else this.getScrollTop=function(){return y.docscroll.scrollTop()},this.setScrollTop=function(t){return setTimeout(function(){y&&y.docscroll.scrollTop(t)},1)},this.getScrollLeft=function(){return y.hasreversehr?y.detected.ismozilla?y.page.maxw-Math.abs(y.docscroll.scrollLeft()):y.page.maxw-y.docscroll.scrollLeft():y.docscroll.scrollLeft()},this.setScrollLeft=function(t){return setTimeout(function(){return y?(y.hasreversehr&&(t=y.detected.ismozilla?-(y.page.maxw-t):y.page.maxw-t),y.docscroll.scrollLeft(t)):void 0},1)};this.getTarget=function(t){return t?t.target?t.target:t.srcElement?t.srcElement:!1:!1},this.hasParent=function(t,e){if(!t)return!1;for(var i=t.target||t.srcElement||t||!1;i&&i.id!=e;)i=i.parentNode||!1;return!1!==i};var $={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(y.isfixed){var t=y.win.offset(),e=y.getDocumentScrollOffset();return t.top-=e.top,t.left-=e.left,t}return t=y.win.offset(),y.viewport?(e=y.viewport.offset(),{top:t.top-e.top,left:t.left-e.left}):t},this.updateScrollBar=function(t){var e,i,s;if(y.ishwscroll)y.rail.css({height:y.win.innerHeight()-(y.opt.railpadding.top+y.opt.railpadding.bottom)}),y.railh&&y.railh.css({width:y.win.innerWidth()-(y.opt.railpadding.left+y.opt.railpadding.right)});else{var o=y.getOffset();e=o.top,i=o.left-(y.opt.railpadding.left+y.opt.railpadding.right),e+=m(y.win,"border-top-width",!0),i+=y.rail.align?y.win.outerWidth()-m(y.win,"border-right-width")-y.rail.width:m(y.win,"border-left-width"),(s=y.opt.railoffset)&&(s.top&&(e+=s.top),s.left&&(i+=s.left)),y.railslocked||y.rail.css({top:e,left:i,height:(t?t.h:y.win.innerHeight())-(y.opt.railpadding.top+y.opt.railpadding.bottom)}),y.zoom&&y.zoom.css({top:e+1,left:1==y.rail.align?i-20:i+y.rail.width+4}),y.railh&&!y.railslocked&&(e=o.top,i=o.left,(s=y.opt.railhoffset)&&(s.top&&(e+=s.top),s.left&&(i+=s.left)),t=y.railh.align?e+m(y.win,"border-top-width",!0)+y.win.innerHeight()-y.railh.height:e+m(y.win,"border-top-width",!0),i+=m(y.win,"border-left-width"),y.railh.css({top:t-(y.opt.railpadding.top+y.opt.railpadding.bottom),left:i,width:y.railh.width}))}},this.doRailClick=function(t,e,i){var s;y.railslocked||(y.cancelEvent(t),e?(e=i?y.doScrollLeft:y.doScrollTop,s=i?(t.pageX-y.railh.offset().left-y.cursorwidth/2)*y.scrollratio.x:(t.pageY-y.rail.offset().top-y.cursorheight/2)*y.scrollratio.y,e(s)):(e=i?y.doScrollLeftBy:y.doScrollBy,s=i?y.scroll.x:y.scroll.y,t=i?t.pageX-y.railh.offset().left:t.pageY-y.rail.offset().top,i=i?y.view.w:y.view.h,e(s>=t?i:-i)))},y.hasanimationframe=r,y.hascancelanimationframe=l,y.hasanimationframe?y.hascancelanimationframe||(l=function(){y.cancelAnimationFrame=!0}):(r=function(t){return setTimeout(t,15-Math.floor(+new Date/1e3)%16)},l=clearTimeout),this.init=function(){if(y.saved.css=[],_.isie7mobile||_.isoperamini)return!0;_.hasmstouch&&y.css(y.ispage?t("html"):y.win,{_touchaction:"none"});var o=_.ismodernie||_.isie10?{"-ms-overflow-style":"none"}:{"overflow-y":"hidden"};if(y.zindex="auto",y.zindex=y.ispage||"auto"!=y.opt.zindex?y.opt.zindex:u()||"auto",!y.ispage&&"auto"!=y.zindex&&y.zindex>n&&(n=y.zindex),y.isie&&0==y.zindex&&"auto"==y.opt.zindex&&(y.zindex="auto"),!y.ispage||!_.cantouch&&!_.isieold&&!_.isie9mobile){var a=y.docscroll;y.ispage&&(a=y.haswrapper?y.win:y.doc),_.isie9mobile||y.css(a,o),y.ispage&&_.isie7&&("BODY"==y.doc[0].nodeName?y.css(t("html"),{"overflow-y":"hidden"}):"HTML"==y.doc[0].nodeName&&y.css(t("body"),o)),!_.isios||y.ispage||y.haswrapper||y.css(t("body"),{"-webkit-overflow-scrolling":"touch"});var r=t(document.createElement("div"));r.css({position:"relative",top:0,"float":"right",width:y.opt.cursorwidth,height:0,"background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),r.hborder=parseFloat(r.outerHeight()-r.innerHeight()),r.addClass("nicescroll-cursors"),y.cursor=r;var l=t(document.createElement("div"));l.attr("id",y.id),l.addClass("nicescroll-rails nicescroll-rails-vr");var d,c,p,f=["left","right","top","bottom"];for(p in f)c=f[p],(d=y.opt.railpadding[c])?l.css("padding-"+c,d+"px"):y.opt.railpadding[c]=0;l.append(r),l.width=Math.max(parseFloat(y.opt.cursorwidth),r.outerWidth()),l.css({width:l.width+"px",zIndex:y.zindex,background:y.opt.background,cursor:"default"}),l.visibility=!0,l.scrollable=!0,l.align="left"==y.opt.railalign?0:1,y.rail=l,r=y.rail.drag=!1,!y.opt.boxzoom||y.ispage||_.isieold||(r=document.createElement("div"),y.bind(r,"click",y.doZoom),y.bind(r,"mouseenter",function(){y.zoom.css("opacity",y.opt.cursoropacitymax)}),y.bind(r,"mouseleave",function(){y.zoom.css("opacity",y.opt.cursoropacitymin)}),y.zoom=t(r),y.zoom.css({cursor:"pointer",zIndex:y.zindex,backgroundImage:"url("+y.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),y.opt.dblclickzoom&&y.bind(y.win,"dblclick",y.doZoom),_.cantouch&&y.opt.gesturezoom&&(y.ongesturezoom=function(t){return 1.5<t.scale&&y.doZoomIn(t),.8>t.scale&&y.doZoomOut(t),y.cancelEvent(t)},y.bind(y.win,"gestureend",y.ongesturezoom))),y.railh=!1;var m;if(y.opt.horizrailenabled&&(y.css(a,{overflowX:"hidden"}),r=t(document.createElement("div")),r.css({position:"absolute",top:0,height:y.opt.cursorwidth,width:0,backgroundColor:y.opt.cursorcolor,border:y.opt.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),_.isieold&&r.css("overflow","hidden"),r.wborder=parseFloat(r.outerWidth()-r.innerWidth()),r.addClass("nicescroll-cursors"),y.cursorh=r,m=t(document.createElement("div")),m.attr("id",y.id+"-hr"),m.addClass("nicescroll-rails nicescroll-rails-hr"),m.height=Math.max(parseFloat(y.opt.cursorwidth),r.outerHeight()),m.css({height:m.height+"px",zIndex:y.zindex,background:y.opt.background}),m.append(r),m.visibility=!0,m.scrollable=!0,m.align="top"==y.opt.railvalign?0:1,y.railh=m,y.railh.drag=!1),y.ispage?(l.css({position:"fixed",top:0,height:"100%"}),l.align?l.css({right:0}):l.css({left:0}),y.body.append(l),y.railh&&(m.css({position:"fixed",left:0,width:"100%"}),m.align?m.css({bottom:0}):m.css({top:0}),y.body.append(m))):(y.ishwscroll?("static"==y.win.css("position")&&y.css(y.win,{position:"relative"}),a="HTML"==y.win[0].nodeName?y.body:y.win,t(a).scrollTop(0).scrollLeft(0),y.zoom&&(y.zoom.css({position:"absolute",top:1,right:0,"margin-right":l.width+4}),a.append(y.zoom)),l.css({position:"absolute",top:0}),l.align?l.css({right:0}):l.css({left:0}),a.append(l),m&&(m.css({position:"absolute",left:0,bottom:0}),m.align?m.css({bottom:0}):m.css({top:0}),a.append(m))):(y.isfixed="fixed"==y.win.css("position"),a=y.isfixed?"fixed":"absolute",y.isfixed||(y.viewport=y.getViewport(y.win[0])),y.viewport&&(y.body=y.viewport,0==/fixed|absolute/.test(y.viewport.css("position"))&&y.css(y.viewport,{position:"relative"})),l.css({position:a}),y.zoom&&y.zoom.css({position:a}),y.updateScrollBar(),y.body.append(l),y.zoom&&y.body.append(y.zoom),y.railh&&(m.css({position:a}),y.body.append(m))),_.isios&&y.css(y.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),_.isie&&y.opt.disableoutline&&y.win.attr("hideFocus","true"),_.iswebkit&&y.opt.disableoutline&&y.win.css("outline","none")),!1===y.opt.autohidemode?(y.autohidedom=!1,y.rail.css({opacity:y.opt.cursoropacitymax}),y.railh&&y.railh.css({opacity:y.opt.cursoropacitymax})):!0===y.opt.autohidemode||"leave"===y.opt.autohidemode?(y.autohidedom=t().add(y.rail),_.isie8&&(y.autohidedom=y.autohidedom.add(y.cursor)),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh)),y.railh&&_.isie8&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"scroll"==y.opt.autohidemode?(y.autohidedom=t().add(y.rail),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh))):"cursor"==y.opt.autohidemode?(y.autohidedom=t().add(y.cursor),y.railh&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"hidden"==y.opt.autohidemode&&(y.autohidedom=!1,y.hide(),y.railslocked=!1),_.isie9mobile)y.scrollmom=new g(y),y.onmangotouch=function(){var t=y.getScrollTop(),e=y.getScrollLeft();if(t==y.scrollmom.lastscrolly&&e==y.scrollmom.lastscrollx)return!0;var i=t-y.mangotouch.sy,s=e-y.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(s,2)+Math.pow(i,2)))){var o=0>i?-1:1,n=0>s?-1:1,a=+new Date;y.mangotouch.lazy&&clearTimeout(y.mangotouch.lazy),80<a-y.mangotouch.tm||y.mangotouch.dry!=o||y.mangotouch.drx!=n?(y.scrollmom.stop(),y.scrollmom.reset(e,t),y.mangotouch.sy=t,y.mangotouch.ly=t,y.mangotouch.sx=e,y.mangotouch.lx=e,y.mangotouch.dry=o,y.mangotouch.drx=n,y.mangotouch.tm=a):(y.scrollmom.stop(),y.scrollmom.update(y.mangotouch.sx-s,y.mangotouch.sy-i),y.mangotouch.tm=a,i=Math.max(Math.abs(y.mangotouch.ly-t),Math.abs(y.mangotouch.lx-e)),y.mangotouch.ly=t,y.mangotouch.lx=e,i>2&&(y.mangotouch.lazy=setTimeout(function(){y.mangotouch.lazy=!1,y.mangotouch.dry=0,y.mangotouch.drx=0,y.mangotouch.tm=0,y.scrollmom.doMomentum(30)},100)))}},l=y.getScrollTop(),m=y.getScrollLeft(),y.mangotouch={sy:l,ly:l,dry:0,sx:m,lx:m,drx:0,lazy:!1,tm:0},y.bind(y.docscroll,"scroll",y.onmangotouch);else{if(_.cantouch||y.istouchcapable||y.opt.touchbehavior||_.hasmstouch){y.scrollmom=new g(y),y.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(y.hasmoving=!1,!y.railslocked){var i;if(_.hasmstouch)for(i=e.target?e.target:!1;i;){var s=t(i).getNiceScroll();if(0<s.length&&s[0].me==y.me)break;if(0<s.length)return!1;if("DIV"==i.nodeName&&i.id==y.id)break;i=i.parentNode?i.parentNode:!1}if(y.cancelScroll(),(i=y.getTarget(e))&&/INPUT/i.test(i.nodeName)&&/range/i.test(i.type))return y.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),y.forcescreen&&(s=e,e={original:e.original?e.original:e},e.clientX=s.screenX,e.clientY=s.screenY),y.rail.drag={x:e.clientX,y:e.clientY,sx:y.scroll.x,sy:y.scroll.y,st:y.getScrollTop(),sl:y.getScrollLeft(),pt:2,dl:!1},y.ispage||!y.opt.directionlockdeadzone)y.rail.drag.dl="f";else{var s=t(window).width(),o=t(window).height(),o=Math.max(0,Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)-o),s=Math.max(0,Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)-s);y.rail.drag.ck=!y.rail.scrollable&&y.railh.scrollable?o>0?"v":!1:y.rail.scrollable&&!y.railh.scrollable&&s>0?"h":!1,y.rail.drag.ck||(y.rail.drag.dl="f")}if(y.opt.touchbehavior&&y.isiframe&&_.isie&&(s=y.win.position(),y.rail.drag.x+=s.left,y.rail.drag.y+=s.top),y.hasmoving=!1,y.lastmouseup=!1,y.scrollmom.reset(e.clientX,e.clientY),!_.cantouch&&!this.istouchcapable&&!e.pointerType){if(!i||!/INPUT|SELECT|TEXTAREA/i.test(i.nodeName))return!y.ispage&&_.hasmousecapture&&i.setCapture(),y.opt.touchbehavior?(i.onclick&&!i._onclick&&(i._onclick=i.onclick,i.onclick=function(t){return y.hasmoving?!1:void i._onclick.call(this,t)}),y.cancelEvent(e)):y.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(t(i).attr("type"))&&(pc={tg:i,click:!1},y.preventclick=pc)}}},y.ontouchend=function(t){if(!y.rail.drag)return!0;if(2==y.rail.drag.pt){if(t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(y.scrollmom.doMomentum(),y.rail.drag=!1,y.hasmoving&&(y.lastmouseup=!0,y.hideCursor(),_.hasmousecapture&&document.releaseCapture(),!_.cantouch))return y.cancelEvent(t)}else if(1==y.rail.drag.pt)return y.onmouseup(t)};var v=y.opt.touchbehavior&&y.isiframe&&!_.hasmousecapture;y.ontouchmove=function(e,i){if(!y.rail.drag||e.targetTouches&&y.opt.preventmultitouchscrolling&&1<e.targetTouches.length||e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(2==y.rail.drag.pt){if(_.cantouch&&_.isios&&void 0===e.original)return!0;if(y.hasmoving=!0,y.preventclick&&!y.preventclick.click&&(y.preventclick.click=y.preventclick.tg.onclick||!1,y.preventclick.tg.onclick=y.onpreventclick),e=t.extend({original:e},e),"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),y.forcescreen){var s=e;e={original:e.original?e.original:e},e.clientX=s.screenX,e.clientY=s.screenY}var o,s=o=0;v&&!i&&(o=y.win.position(),s=-o.left,o=-o.top);var n=e.clientY+o;o=n-y.rail.drag.y;var a=e.clientX+s,r=a-y.rail.drag.x,l=y.rail.drag.st-o;y.ishwscroll&&y.opt.bouncescroll?0>l?l=Math.round(l/2):l>y.page.maxh&&(l=y.page.maxh+Math.round((l-y.page.maxh)/2)):(0>l&&(n=l=0),l>y.page.maxh&&(l=y.page.maxh,n=0));var d;if(y.railh&&y.railh.scrollable&&(d=y.isrtlmode?r-y.rail.drag.sl:y.rail.drag.sl-r,y.ishwscroll&&y.opt.bouncescroll?0>d?d=Math.round(d/2):d>y.page.maxw&&(d=y.page.maxw+Math.round((d-y.page.maxw)/2)):(0>d&&(a=d=0),d>y.page.maxw&&(d=y.page.maxw,a=0))),s=!1,y.rail.drag.dl)s=!0,"v"==y.rail.drag.dl?d=y.rail.drag.sl:"h"==y.rail.drag.dl&&(l=y.rail.drag.st);else{o=Math.abs(o);var r=Math.abs(r),c=y.opt.directionlockdeadzone;if("v"==y.rail.drag.ck){if(o>c&&.3*o>=r)return y.rail.drag=!1,!0;r>c&&(y.rail.drag.dl="f",t("body").scrollTop(t("body").scrollTop()))}else if("h"==y.rail.drag.ck){if(r>c&&.3*r>=o)return y.rail.drag=!1,!0;o>c&&(y.rail.drag.dl="f",t("body").scrollLeft(t("body").scrollLeft()))}}if(y.synched("touchmove",function(){y.rail.drag&&2==y.rail.drag.pt&&(y.prepareTransition&&y.prepareTransition(0),y.rail.scrollable&&y.setScrollTop(l),y.scrollmom.update(a,n),y.railh&&y.railh.scrollable?(y.setScrollLeft(d),y.showCursor(l,d)):y.showCursor(l),_.isie10&&document.selection.clear())}),_.ischrome&&y.istouchcapable&&(s=!1),s)return y.cancelEvent(e)}else if(1==y.rail.drag.pt)return y.onmousemove(e)}}if(y.onmousedown=function(t,e){if(!y.rail.drag||1==y.rail.drag.pt){if(y.railslocked)return y.cancelEvent(t);y.cancelScroll(),y.rail.drag={x:t.clientX,y:t.clientY,sx:y.scroll.x,sy:y.scroll.y,pt:1,hr:!!e};var i=y.getTarget(t);return!y.ispage&&_.hasmousecapture&&i.setCapture(),y.isiframe&&!_.hasmousecapture&&(y.saved.csspointerevents=y.doc.css("pointer-events"),y.css(y.doc,{"pointer-events":"none"})),y.hasmoving=!1,y.cancelEvent(t)}},y.onmouseup=function(t){return y.rail.drag?1!=y.rail.drag.pt?!0:(_.hasmousecapture&&document.releaseCapture(),y.isiframe&&!_.hasmousecapture&&y.doc.css("pointer-events",y.saved.csspointerevents),y.rail.drag=!1,y.hasmoving&&y.triggerScrollEnd(),y.cancelEvent(t)):void 0},y.onmousemove=function(t){if(y.rail.drag){if(1==y.rail.drag.pt){if(_.ischrome&&0==t.which)return y.onmouseup(t);if(y.cursorfreezed=!0,y.hasmoving=!0,y.rail.drag.hr){y.scroll.x=y.rail.drag.sx+(t.clientX-y.rail.drag.x),0>y.scroll.x&&(y.scroll.x=0);var e=y.scrollvaluemaxw;y.scroll.x>e&&(y.scroll.x=e)}else y.scroll.y=y.rail.drag.sy+(t.clientY-y.rail.drag.y),0>y.scroll.y&&(y.scroll.y=0),e=y.scrollvaluemax,y.scroll.y>e&&(y.scroll.y=e);return y.synched("mousemove",function(){y.rail.drag&&1==y.rail.drag.pt&&(y.showCursor(),y.rail.drag.hr?y.hasreversehr?y.doScrollLeft(y.scrollvaluemaxw-Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollLeft(Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollTop(Math.round(y.scroll.y*y.scrollratio.y),y.opt.cursordragspeed))}),y.cancelEvent(t)}}else y.checkarea=0},_.cantouch||y.opt.touchbehavior)y.onpreventclick=function(t){return y.preventclick?(y.preventclick.tg.onclick=y.preventclick.click,y.preventclick=!1,y.cancelEvent(t)):void 0},y.bind(y.win,"mousedown",y.ontouchstart),y.onclick=_.isios?!1:function(t){return y.lastmouseup?(y.lastmouseup=!1,y.cancelEvent(t)):!0},y.opt.grabcursorenabled&&_.cursorgrabvalue&&(y.css(y.ispage?y.doc:y.win,{cursor:_.cursorgrabvalue}),y.css(y.rail,{cursor:_.cursorgrabvalue}));else{var b=function(t){if(y.selectiondrag){if(t){var e=y.win.outerHeight();t=t.pageY-y.selectiondrag.top,t>0&&e>t&&(t=0),t>=e&&(t-=e),y.selectiondrag.df=t}0!=y.selectiondrag.df&&(y.doScrollBy(2*-Math.floor(y.selectiondrag.df/6)),y.debounced("doselectionscroll",function(){b()},50))}};y.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},y.onselectionstart=function(t){y.ispage||(y.selectiondrag=y.win.offset())},y.onselectionend=function(t){y.selectiondrag=!1},y.onselectiondrag=function(t){
y.selectiondrag&&y.hasTextSelected()&&y.debounced("selectionscroll",function(){b(t)},250)}}_.hasw3ctouch?(y.css(y.rail,{"touch-action":"none"}),y.css(y.cursor,{"touch-action":"none"}),y.bind(y.win,"pointerdown",y.ontouchstart),y.bind(document,"pointerup",y.ontouchend),y.bind(document,"pointermove",y.ontouchmove)):_.hasmstouch?(y.css(y.rail,{"-ms-touch-action":"none"}),y.css(y.cursor,{"-ms-touch-action":"none"}),y.bind(y.win,"MSPointerDown",y.ontouchstart),y.bind(document,"MSPointerUp",y.ontouchend),y.bind(document,"MSPointerMove",y.ontouchmove),y.bind(y.cursor,"MSGestureHold",function(t){t.preventDefault()}),y.bind(y.cursor,"contextmenu",function(t){t.preventDefault()})):this.istouchcapable&&(y.bind(y.win,"touchstart",y.ontouchstart),y.bind(document,"touchend",y.ontouchend),y.bind(document,"touchcancel",y.ontouchend),y.bind(document,"touchmove",y.ontouchmove)),(y.opt.cursordragontouch||!_.cantouch&&!y.opt.touchbehavior)&&(y.rail.css({cursor:"default"}),y.railh&&y.railh.css({cursor:"default"}),y.jqbind(y.rail,"mouseenter",function(){return y.ispage||y.win.is(":visible")?(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0)):!1}),y.jqbind(y.rail,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.rail,"click",function(t){y.doRailClick(t,!1,!1)}),y.bind(y.rail,"dblclick",function(t){y.doRailClick(t,!0,!1)}),y.bind(y.cursor,"click",function(t){y.cancelEvent(t)}),y.bind(y.cursor,"dblclick",function(t){y.cancelEvent(t)})),y.railh&&(y.jqbind(y.railh,"mouseenter",function(){return y.ispage||y.win.is(":visible")?(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0)):!1}),y.jqbind(y.railh,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.railh,"click",function(t){y.doRailClick(t,!1,!0)}),y.bind(y.railh,"dblclick",function(t){y.doRailClick(t,!0,!0)}),y.bind(y.cursorh,"click",function(t){y.cancelEvent(t)}),y.bind(y.cursorh,"dblclick",function(t){y.cancelEvent(t)})))),_.cantouch||y.opt.touchbehavior?(y.bind(_.hasmousecapture?y.win:document,"mouseup",y.ontouchend),y.bind(document,"mousemove",y.ontouchmove),y.onclick&&y.bind(document,"click",y.onclick),y.opt.cursordragontouch?(y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.cursorh&&y.bind(y.cursorh,"mousedown",function(t){y.onmousedown(t,!0)}),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onmouseup)):(y.bind(y.rail,"mousedown",function(t){t.preventDefault()}),y.railh&&y.bind(y.railh,"mousedown",function(t){t.preventDefault()}))):(y.bind(_.hasmousecapture?y.win:document,"mouseup",y.onmouseup),y.bind(document,"mousemove",y.onmousemove),y.onclick&&y.bind(document,"click",y.onclick),y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.railh&&(y.bind(y.cursorh,"mousedown",function(t){y.onmousedown(t,!0)}),y.bind(y.cursorh,"mouseup",y.onmouseup)),!y.ispage&&y.opt.enablescrollonselection&&(y.bind(y.win[0],"mousedown",y.onselectionstart),y.bind(document,"mouseup",y.onselectionend),y.bind(y.cursor,"mouseup",y.onselectionend),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onselectionend),y.bind(document,"mousemove",y.onselectiondrag)),y.zoom&&(y.jqbind(y.zoom,"mouseenter",function(){y.canshowonmouseevent&&y.showCursor(),y.rail.active=!0}),y.jqbind(y.zoom,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}))),y.opt.enablemousewheel&&(y.isiframe||y.mousewheel(_.isie&&y.ispage?document:y.win,y.onmousewheel),y.mousewheel(y.rail,y.onmousewheel),y.railh&&y.mousewheel(y.railh,y.onmousewheelhr)),y.ispage||_.cantouch||/HTML|^BODY/.test(y.win[0].nodeName)||(y.win.attr("tabindex")||y.win.attr({tabindex:s++}),y.jqbind(y.win,"focus",function(t){e=y.getTarget(t).id||!0,y.hasfocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"blur",function(t){e=!1,y.hasfocus=!1}),y.jqbind(y.win,"mouseenter",function(t){i=y.getTarget(t).id||!0,y.hasmousefocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"mouseleave",function(){i=!1,y.hasmousefocus=!1,y.rail.drag||y.hideCursor()}))}if(y.onkeypress=function(s){if(y.railslocked&&0==y.page.maxh)return!0;s=s?s:window.e;var o=y.getTarget(s);if(o&&/INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)&&(!o.getAttribute("type")&&!o.type||!/submit|button|cancel/i.tp)||t(o).attr("contenteditable"))return!0;if(y.hasfocus||y.hasmousefocus&&!e||y.ispage&&!e&&!i){if(o=s.keyCode,y.railslocked&&27!=o)return y.cancelEvent(s);var n=s.ctrlKey||!1,a=s.shiftKey||!1,r=!1;switch(o){case 38:case 63233:y.doScrollBy(72),r=!0;break;case 40:case 63235:y.doScrollBy(-72),r=!0;break;case 37:case 63232:y.railh&&(n?y.doScrollLeft(0):y.doScrollLeftBy(72),r=!0);break;case 39:case 63234:y.railh&&(n?y.doScrollLeft(y.page.maxw):y.doScrollLeftBy(-72),r=!0);break;case 33:case 63276:y.doScrollBy(y.view.h),r=!0;break;case 34:case 63277:y.doScrollBy(-y.view.h),r=!0;break;case 36:case 63273:y.railh&&n?y.doScrollPos(0,0):y.doScrollTo(0),r=!0;break;case 35:case 63275:y.railh&&n?y.doScrollPos(y.page.maxw,y.page.maxh):y.doScrollTo(y.page.maxh),r=!0;break;case 32:y.opt.spacebarenabled&&(a?y.doScrollBy(y.view.h):y.doScrollBy(-y.view.h),r=!0);break;case 27:y.zoomactive&&(y.doZoom(),r=!0)}if(r)return y.cancelEvent(s)}},y.opt.enablekeyboard&&y.bind(document,_.isopera&&!_.isopera12?"keypress":"keydown",y.onkeypress),y.bind(document,"keydown",function(t){t.ctrlKey&&(y.wheelprevented=!0)}),y.bind(document,"keyup",function(t){t.ctrlKey||(y.wheelprevented=!1)}),y.bind(window,"blur",function(t){y.wheelprevented=!1}),y.bind(window,"resize",y.lazyResize),y.bind(window,"orientationchange",y.lazyResize),y.bind(window,"load",y.lazyResize),_.ischrome&&!y.ispage&&!y.haswrapper){var w=y.win.attr("style"),l=parseFloat(y.win.css("width"))+1;y.win.css("width",l),y.synched("chromefix",function(){y.win.attr("style",w)})}y.onAttributeChange=function(t){y.lazyResize(y.isieold?250:30)},y.isie11||!1===h||(y.observerbody=new h(function(e){return e.forEach(function(e){return"attributes"==e.type?t("body").hasClass("modal-open")&&t("body").hasClass("modal-dialog")&&!t.contains(t(".modal-dialog")[0],y.doc[0])?y.hide():y.show():void 0}),document.body.scrollHeight!=y.page.maxh?y.lazyResize(30):void 0}),y.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),y.ispage||y.haswrapper||(!1!==h?(y.observer=new h(function(t){t.forEach(y.onAttributeChange)}),y.observer.observe(y.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),y.observerremover=new h(function(t){t.forEach(function(t){if(0<t.removedNodes.length)for(var e in t.removedNodes)if(y&&t.removedNodes[e]==y.win[0])return y.remove()})}),y.observerremover.observe(y.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(y.bind(y.win,_.isie&&!_.isie9?"propertychange":"DOMAttrModified",y.onAttributeChange),_.isie9&&y.win[0].attachEvent("onpropertychange",y.onAttributeChange),y.bind(y.win,"DOMNodeRemoved",function(t){t.target==y.win[0]&&y.remove()}))),!y.ispage&&y.opt.boxzoom&&y.bind(window,"resize",y.resizeZoom),y.istextarea&&(y.bind(y.win,"keydown",y.lazyResize),y.bind(y.win,"mouseup",y.lazyResize)),y.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var x=function(){y.iframexd=!1;var e;try{e="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(i){y.iframexd=!0,e=!1}if(y.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(y.forcescreen=!0,y.isiframe&&(y.iframe={doc:t(e),html:y.doc.contents().find("html")[0],body:y.doc.contents().find("body")[0]},y.getContentSize=function(){return{w:Math.max(y.iframe.html.scrollWidth,y.iframe.body.scrollWidth),h:Math.max(y.iframe.html.scrollHeight,y.iframe.body.scrollHeight)}},y.docscroll=t(y.iframe.body)),!_.isios&&y.opt.iframeautoresize&&!y.isiframe){y.win.scrollTop(0),y.doc.height("");var s=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);y.doc.height(s)}y.lazyResize(30),_.isie7&&y.css(t(y.iframe.html),o),y.css(t(y.iframe.body),o),_.isios&&y.haswrapper&&y.css(t(e.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?y.bind(this.contentWindow,"scroll",y.onscroll):y.bind(e,"scroll",y.onscroll),y.opt.enablemousewheel&&y.mousewheel(e,y.onmousewheel),y.opt.enablekeyboard&&y.bind(e,_.isopera?"keypress":"keydown",y.onkeypress),(_.cantouch||y.opt.touchbehavior)&&(y.bind(e,"mousedown",y.ontouchstart),y.bind(e,"mousemove",function(t){return y.ontouchmove(t,!0)}),y.opt.grabcursorenabled&&_.cursorgrabvalue&&y.css(t(e.body),{cursor:_.cursorgrabvalue})),y.bind(e,"mouseup",y.ontouchend),y.zoom&&(y.opt.dblclickzoom&&y.bind(e,"dblclick",y.doZoom),y.ongesturezoom&&y.bind(e,"gestureend",y.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){x.call(y.doc[0],!1)},500),y.bind(this.doc,"load",x)}},this.showCursor=function(t,e){if(y.cursortimeout&&(clearTimeout(y.cursortimeout),y.cursortimeout=0),y.rail){if(y.autohidedom&&(y.autohidedom.stop().css({opacity:y.opt.cursoropacitymax}),y.cursoractive=!0),y.rail.drag&&1==y.rail.drag.pt||(void 0!==t&&!1!==t&&(y.scroll.y=Math.round(1*t/y.scrollratio.y)),void 0!==e&&(y.scroll.x=Math.round(1*e/y.scrollratio.x))),y.cursor.css({height:y.cursorheight,top:y.scroll.y}),y.cursorh){var i=y.hasreversehr?y.scrollvaluemaxw-y.scroll.x:y.scroll.x;!y.rail.align&&y.rail.visibility?y.cursorh.css({width:y.cursorwidth,left:i+y.rail.width}):y.cursorh.css({width:y.cursorwidth,left:i}),y.cursoractive=!0}y.zoom&&y.zoom.stop().css({opacity:y.opt.cursoropacitymax})}},this.hideCursor=function(t){y.cursortimeout||!y.rail||!y.autohidedom||y.hasmousefocus&&"leave"==y.opt.autohidemode||(y.cursortimeout=setTimeout(function(){y.rail.active&&y.showonmouseevent||(y.autohidedom.stop().animate({opacity:y.opt.cursoropacitymin}),y.zoom&&y.zoom.stop().animate({opacity:y.opt.cursoropacitymin}),y.cursoractive=!1),y.cursortimeout=0},t||y.opt.hidecursordelay))},this.noticeCursor=function(t,e,i){y.showCursor(e,i),y.rail.active||y.hideCursor(t)},this.getContentSize=y.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:y.haswrapper?function(){return{w:y.doc.outerWidth()+parseInt(y.win.css("paddingLeft"))+parseInt(y.win.css("paddingRight")),h:y.doc.outerHeight()+parseInt(y.win.css("paddingTop"))+parseInt(y.win.css("paddingBottom"))}}:function(){return{w:y.docscroll[0].scrollWidth,h:y.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!y||!y.win)return!1;if(!y.haswrapper&&!y.ispage){if("none"==y.win.css("display"))return y.visibility&&y.hideRail().hideRailHr(),!1;y.hidden||y.visibility||y.showRail().showRailHr()}var i=y.page.maxh,s=y.page.maxw,o=y.view.h,n=y.view.w;if(y.view={w:y.ispage?y.win.width():parseInt(y.win[0].clientWidth),h:y.ispage?y.win.height():parseInt(y.win[0].clientHeight)},y.page=e?e:y.getContentSize(),y.page.maxh=Math.max(0,y.page.h-y.view.h),y.page.maxw=Math.max(0,y.page.w-y.view.w),y.page.maxh==i&&y.page.maxw==s&&y.view.w==n&&y.view.h==o){if(y.ispage)return y;if(i=y.win.offset(),y.lastposition&&(s=y.lastposition,s.top==i.top&&s.left==i.left))return y;y.lastposition=i}return 0==y.page.maxh?(y.hideRail(),y.scrollvaluemax=0,y.scroll.y=0,y.scrollratio.y=0,y.cursorheight=0,y.setScrollTop(0),y.rail&&(y.rail.scrollable=!1)):(y.page.maxh-=y.opt.railpadding.top+y.opt.railpadding.bottom,y.rail.scrollable=!0),0==y.page.maxw?(y.hideRailHr(),y.scrollvaluemaxw=0,y.scroll.x=0,y.scrollratio.x=0,y.cursorwidth=0,y.setScrollLeft(0),y.railh&&(y.railh.scrollable=!1)):(y.page.maxw-=y.opt.railpadding.left+y.opt.railpadding.right,y.railh&&(y.railh.scrollable=y.opt.horizrailenabled)),y.railslocked=y.locked||0==y.page.maxh&&0==y.page.maxw,y.railslocked?(y.ispage||y.updateScrollBar(y.view),!1):(y.hidden||y.visibility?!y.railh||y.hidden||y.railh.visibility||y.showRailHr():y.showRail().showRailHr(),y.istextarea&&y.win.css("resize")&&"none"!=y.win.css("resize")&&(y.view.h-=20),y.cursorheight=Math.min(y.view.h,Math.round(y.view.h/y.page.h*y.view.h)),y.cursorheight=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorheight),y.cursorwidth=Math.min(y.view.w,Math.round(y.view.w/y.page.w*y.view.w)),y.cursorwidth=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorwidth),y.scrollvaluemax=y.view.h-y.cursorheight-y.cursor.hborder-(y.opt.railpadding.top+y.opt.railpadding.bottom),y.railh&&(y.railh.width=0<y.page.maxh?y.view.w-y.rail.width:y.view.w,y.scrollvaluemaxw=y.railh.width-y.cursorwidth-y.cursorh.wborder-(y.opt.railpadding.left+y.opt.railpadding.right)),y.ispage||y.updateScrollBar(y.view),y.scrollratio={x:y.page.maxw/y.scrollvaluemaxw,y:y.page.maxh/y.scrollvaluemax},y.getScrollTop()>y.page.maxh?y.doScrollTop(y.page.maxh):(y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x)),y.cursoractive&&y.noticeCursor()),y.scroll.y&&0==y.getScrollTop()&&y.doScrollTo(Math.floor(y.scroll.y*y.scrollratio.y)),y)},this.resize=y.onResize,this.hlazyresize=0,this.lazyResize=function(t){return y.haswrapper||y.hide(),y.hlazyresize&&clearTimeout(y.hlazyresize),y.hlazyresize=setTimeout(function(){y&&y.show().resize()},240),y},this.jqbind=function(e,i,s){y.events.push({e:e,n:i,f:s,q:!0}),t(e).bind(i,s)},this.mousewheel=function(t,e,i){if(t="jquery"in t?t[0]:t,"onwheel"in document.createElement("div"))y._bind(t,"wheel",e,i||!1);else{var s=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";v(t,s,e,i||!1),"DOMMouseScroll"==s&&v(t,"MozMousePixelScroll",e,i||!1)}},_.haseventlistener?(this.bind=function(t,e,i,s){y._bind("jquery"in t?t[0]:t,e,i,s||!1)},this._bind=function(t,e,i,s){y.events.push({e:t,n:e,f:i,b:s,q:!1}),t.addEventListener(e,i,s||!1)},this.cancelEvent=function(t){return t?(t=t.original?t.original:t,t.cancelable&&t.preventDefault(),t.stopPropagation(),t.preventManipulation&&t.preventManipulation(),!1):!1},this.stopPropagation=function(t){return t?(t=t.original?t.original:t,t.stopPropagation(),!1):!1},this._unbind=function(t,e,i,s){t.removeEventListener(e,i,s)}):(this.bind=function(t,e,i,s){var o="jquery"in t?t[0]:t;y._bind(o,e,function(t){return(t=t||window.event||!1)&&t.srcElement&&(t.target=t.srcElement),"pageY"in t||(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop),!1===i.call(o,t)||!1===s?y.cancelEvent(t):!0})},this._bind=function(t,e,i,s){y.events.push({e:t,n:e,f:i,b:s,q:!1}),t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},this.cancelEvent=function(t){return(t=window.event||!1)?(t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1):!1},this.stopPropagation=function(t){return(t=window.event||!1)?(t.cancelBubble=!0,!1):!1},this._unbind=function(t,e,i,s){t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=!1}),this.unbindAll=function(){for(var t=0;t<y.events.length;t++){var e=y.events[t];e.q?e.e.unbind(e.n,e.f):y._unbind(e.e,e.n,e.f,e.b)}},this.showRail=function(){return 0==y.page.maxh||!y.ispage&&"none"==y.win.css("display")||(y.visibility=!0,y.rail.visibility=!0,y.rail.css("display","block")),y},this.showRailHr=function(){return y.railh?(0==y.page.maxw||!y.ispage&&"none"==y.win.css("display")||(y.railh.visibility=!0,y.railh.css("display","block")),y):y},this.hideRail=function(){return y.visibility=!1,y.rail.visibility=!1,y.rail.css("display","none"),y},this.hideRailHr=function(){return y.railh?(y.railh.visibility=!1,y.railh.css("display","none"),y):y},this.show=function(){return y.hidden=!1,y.railslocked=!1,y.showRail().showRailHr()},this.hide=function(){return y.hidden=!0,y.railslocked=!0,y.hideRail().hideRailHr()},this.toggle=function(){return y.hidden?y.show():y.hide()},this.remove=function(){y.stop(),y.cursortimeout&&clearTimeout(y.cursortimeout);for(var e in y.delaylist)y.delaylist[e]&&l(y.delaylist[e].h);for(y.doZoomOut(),y.unbindAll(),_.isie9&&y.win[0].detachEvent("onpropertychange",y.onAttributeChange),!1!==y.observer&&y.observer.disconnect(),!1!==y.observerremover&&y.observerremover.disconnect(),!1!==y.observerbody&&y.observerbody.disconnect(),y.events=null,y.cursor&&y.cursor.remove(),y.cursorh&&y.cursorh.remove(),y.rail&&y.rail.remove(),y.railh&&y.railh.remove(),y.zoom&&y.zoom.remove(),e=0;e<y.saved.css.length;e++){var i=y.saved.css[e];i[0].css(i[1],void 0===i[2]?"":i[2])}y.saved=!1,y.me.data("__nicescroll","");var s=t.nicescroll;s.each(function(t){if(this&&this.id===y.id){delete s[t];for(var e=++t;e<s.length;e++,t++)s[t]=s[e];s.length--,s.length&&delete s[s.length]}});for(var o in y)y[o]=null,delete y[o];y=null},this.scrollstart=function(t){return this.onscrollstart=t,y},this.scrollend=function(t){return this.onscrollend=t,y},this.scrollcancel=function(t){return this.onscrollcancel=t,y},this.zoomin=function(t){return this.onzoomin=t,y},this.zoomout=function(t){return this.onzoomout=t,y},this.isScrollable=function(e){if(e=e.target?e.target:e,"OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=t(e),i=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(i))return e.clientHeight!=e.scrollHeight;e=e.parentNode?e.parentNode:!1}return!1},this.getViewport=function(e){for(e=e&&e.parentNode?e.parentNode:!1;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=t(e);if(/fixed|absolute/.test(i.css("position")))return i;var s=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(s)&&e.clientHeight!=e.scrollHeight||0<i.getNiceScroll().length)return i;e=e.parentNode?e.parentNode:!1}return!1},this.triggerScrollEnd=function(){if(y.onscrollend){var t=y.getScrollLeft(),e=y.getScrollTop();y.onscrollend.call(y,{type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}})}},this.onmousewheel=function(t){if(!y.wheelprevented){if(y.railslocked)return y.debounced("checkunlock",y.resize,250),!0;if(y.rail.drag)return y.cancelEvent(t);if("auto"==y.opt.oneaxismousemode&&0!=t.deltaX&&(y.opt.oneaxismousemode=!1),y.opt.oneaxismousemode&&0==t.deltaX&&!y.rail.scrollable)return y.railh&&y.railh.scrollable?y.onmousewheelhr(t):!0;var e=+new Date,i=!1;return y.opt.preservenativescrolling&&y.checkarea+600<e&&(y.nativescrollingarea=y.isScrollable(t),i=!0),y.checkarea=e,y.nativescrollingarea?!0:((t=b(t,!1,i))&&(y.checkarea=0),t)}},this.onmousewheelhr=function(t){if(!y.wheelprevented){if(y.railslocked||!y.railh.scrollable)return!0;if(y.rail.drag)return y.cancelEvent(t);var e=+new Date,i=!1;return y.opt.preservenativescrolling&&y.checkarea+600<e&&(y.nativescrollingarea=y.isScrollable(t),i=!0),y.checkarea=e,y.nativescrollingarea?!0:y.railslocked?y.cancelEvent(t):b(t,!0,i)}},this.stop=function(){return y.cancelScroll(),y.scrollmon&&y.scrollmon.stop(),y.cursorfreezed=!1,y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.noticeCursor(),y},this.getTransitionSpeed=function(t){return t=Math.min(Math.round(10*y.opt.scrollspeed),Math.round(t/20*y.opt.scrollspeed)),t>20?t:0},y.opt.smoothscroll?y.ishwscroll&&_.hastransition&&y.opt.usetransition&&y.opt.smoothscroll?(this.prepareTransition=function(t,e){var i=e?t>20?t:0:y.getTransitionSpeed(t),s=i?_.prefixstyle+"transform "+i+"ms ease-out":"";return y.lasttransitionstyle&&y.lasttransitionstyle==s||(y.lasttransitionstyle=s,y.doc.css(_.transitionstyle,s)),i},this.doScrollLeft=function(t,e){var i=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var s=y.getScrollTop(),o=y.getScrollLeft();return(0>(y.newscrolly-s)*(e-s)||0>(y.newscrollx-o)*(t-o))&&y.cancelScroll(),0==y.opt.bouncescroll&&(0>e?e=0:e>y.page.maxh&&(e=y.page.maxh),0>t?t=0:t>y.page.maxw&&(t=y.page.maxw)),y.scrollrunning&&t==y.newscrollx&&e==y.newscrolly?!1:(y.newscrolly=e,y.newscrollx=t,y.newscrollspeed=i||!1,y.timer?!1:void(y.timer=setTimeout(function(){var i=y.getScrollTop(),s=y.getScrollLeft(),o=Math.round(Math.sqrt(Math.pow(t-s,2)+Math.pow(e-i,2))),o=y.newscrollspeed&&1<y.newscrollspeed?y.newscrollspeed:y.getTransitionSpeed(o);y.newscrollspeed&&1>=y.newscrollspeed&&(o*=y.newscrollspeed),y.prepareTransition(o,!0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),o>0&&(!y.scrollrunning&&y.onscrollstart&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:s,y:i},request:{x:t,y:e},end:{x:y.newscrollx,y:y.newscrolly},speed:o}),_.transitionend?y.scrollendtrapped||(y.scrollendtrapped=!0,y.bind(y.doc,_.transitionend,y.onScrollTransitionEnd,!1)):(y.scrollendtrapped&&clearTimeout(y.scrollendtrapped),y.scrollendtrapped=setTimeout(y.onScrollTransitionEnd,o)),y.timerscroll={bz:new C(i,y.newscrolly,o,0,0,.58,1),bh:new C(s,y.newscrollx,o,0,0,.58,1)},y.cursorfreezed||(y.timerscroll.tm=setInterval(function(){y.showCursor(y.getScrollTop(),y.getScrollLeft())},60))),y.synched("doScroll-set",function(){y.timer=0,y.scrollendtrapped&&(y.scrollrunning=!0),y.setScrollTop(y.newscrolly),y.setScrollLeft(y.newscrollx),y.scrollendtrapped||y.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!y.scrollendtrapped)return!0;var t=y.getScrollTop(),e=y.getScrollLeft();return y.scrollrunning=!1,_.transitionend||clearTimeout(_.transitionend),y.scrollendtrapped=!1,y._unbind(y.doc[0],_.transitionend,y.onScrollTransitionEnd),y.prepareTransition(0),y.setScrollTop(t),y.railh&&y.setScrollLeft(e),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1,y.cursorfreezed=!1,y.showCursor(t,e),y},this.onScrollTransitionEnd=function(){y.scrollendtrapped&&y._unbind(y.doc[0],_.transitionend,y.onScrollTransitionEnd),y.scrollendtrapped=!1,y.prepareTransition(0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1;var t=y.getScrollTop(),e=y.getScrollLeft();return y.setScrollTop(t),y.railh&&y.setScrollLeft(e),y.noticeCursor(!1,t,e),y.cursorfreezed=!1,0>t?t=0:t>y.page.maxh&&(t=y.page.maxh),0>e?e=0:e>y.page.maxw&&(e=y.page.maxw),t!=y.newscrolly||e!=y.newscrollx?y.doScrollPos(e,t,y.opt.snapbackspeed):(y.onscrollend&&y.scrollrunning&&y.triggerScrollEnd(),void(y.scrollrunning=!1))}):(this.doScrollLeft=function(t,e){var i=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){function s(){if(y.cancelAnimationFrame)return!0;if(y.scrollrunning=!0,h=1-h)return y.timer=r(s)||1;var t,e,i=0,o=e=y.getScrollTop();y.dst.ay?(o=y.bzscroll?y.dst.py+y.bzscroll.getNow()*y.dst.ay:y.newscrolly,t=o-e,(0>t&&o<y.newscrolly||t>0&&o>y.newscrolly)&&(o=y.newscrolly),y.setScrollTop(o),o==y.newscrolly&&(i=1)):i=1,e=t=y.getScrollLeft(),y.dst.ax?(e=y.bzscroll?y.dst.px+y.bzscroll.getNow()*y.dst.ax:y.newscrollx,t=e-t,(0>t&&e<y.newscrollx||t>0&&e>y.newscrollx)&&(e=y.newscrollx),y.setScrollLeft(e),e==y.newscrollx&&(i+=1)):i+=1,2==i?(y.timer=0,y.cursorfreezed=!1,y.bzscroll=!1,y.scrollrunning=!1,0>o?o=0:o>y.page.maxh&&(o=Math.max(0,y.page.maxh)),0>e?e=0:e>y.page.maxw&&(e=y.page.maxw),e!=y.newscrollx||o!=y.newscrolly?y.doScrollPos(e,o):y.onscrollend&&y.triggerScrollEnd()):y.timer=r(s)||1}if(e=void 0===e||!1===e?y.getScrollTop(!0):e,y.timer&&y.newscrolly==e&&y.newscrollx==t)return!0;y.timer&&l(y.timer),y.timer=0;var o=y.getScrollTop(),n=y.getScrollLeft();(0>(y.newscrolly-o)*(e-o)||0>(y.newscrollx-n)*(t-n))&&y.cancelScroll(),y.newscrolly=e,y.newscrollx=t,y.bouncescroll&&y.rail.visibility||(0>y.newscrolly?y.newscrolly=0:y.newscrolly>y.page.maxh&&(y.newscrolly=y.page.maxh)),y.bouncescroll&&y.railh.visibility||(0>y.newscrollx?y.newscrollx=0:y.newscrollx>y.page.maxw&&(y.newscrollx=y.page.maxw)),y.dst={},y.dst.x=t-n,y.dst.y=e-o,y.dst.px=n,y.dst.py=o;var a=Math.round(Math.sqrt(Math.pow(y.dst.x,2)+Math.pow(y.dst.y,2)));y.dst.ax=y.dst.x/a,y.dst.ay=y.dst.y/a;var d=0,c=a;if(0==y.dst.x?(d=o,c=e,y.dst.ay=1,y.dst.py=0):0==y.dst.y&&(d=n,c=t,y.dst.ax=1,y.dst.px=0),a=y.getTransitionSpeed(a),i&&1>=i&&(a*=i),y.bzscroll=a>0?y.bzscroll?y.bzscroll.update(c,a):new C(d,c,a,0,1,0,1):!1,!y.timer){(o==y.page.maxh&&e>=y.page.maxh||n==y.page.maxw&&t>=y.page.maxw)&&y.checkContentSize();var h=1;y.cancelAnimationFrame=!1,y.timer=1,y.onscrollstart&&!y.scrollrunning&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:n,y:o},request:{x:t,y:e},end:{x:y.newscrollx,y:y.newscrolly},speed:a}),s(),(o==y.page.maxh&&e>=o||n==y.page.maxw&&t>=n)&&y.checkContentSize(),y.noticeCursor()}},this.cancelScroll=function(){return y.timer&&l(y.timer),y.timer=0,y.bzscroll=!1,y.scrollrunning=!1,y}):(this.doScrollLeft=function(t,e){var i=y.getScrollTop();y.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=y.getScrollLeft();y.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var s=t>y.page.maxw?y.page.maxw:t;0>s&&(s=0);var o=e>y.page.maxh?y.page.maxh:e;0>o&&(o=0),y.synched("scroll",function(){y.setScrollTop(o),y.setScrollLeft(s)})},this.cancelScroll=function(){}),this.doScrollBy=function(t,e){var i=0,i=e?Math.floor((y.scroll.y-t)*y.scrollratio.y):(y.timer?y.newscrolly:y.getScrollTop(!0))-t;if(y.bouncescroll){var s=Math.round(y.view.h/2);-s>i?i=-s:i>y.page.maxh+s&&(i=y.page.maxh+s)}return y.cursorfreezed=!1,s=y.getScrollTop(!0),0>i&&0>=s?y.noticeCursor():i>y.page.maxh&&s>=y.page.maxh?(y.checkContentSize(),y.noticeCursor()):void y.doScrollTop(i)},this.doScrollLeftBy=function(t,e){var i=0,i=e?Math.floor((y.scroll.x-t)*y.scrollratio.x):(y.timer?y.newscrollx:y.getScrollLeft(!0))-t;if(y.bouncescroll){var s=Math.round(y.view.w/2);-s>i?i=-s:i>y.page.maxw+s&&(i=y.page.maxw+s)}return y.cursorfreezed=!1,s=y.getScrollLeft(!0),0>i&&0>=s||i>y.page.maxw&&s>=y.page.maxw?y.noticeCursor():void y.doScrollLeft(i)},this.doScrollTo=function(t,e){y.cursorfreezed=!1,y.doScrollTop(t)},this.checkContentSize=function(){var t=y.getContentSize();t.h==y.page.h&&t.w==y.page.w||y.resize(!1,t)},y.onscroll=function(t){y.rail.drag||y.cursorfreezed||y.synched("scroll",function(){y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.railh&&(y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x))),y.noticeCursor()})},y.bind(y.docscroll,"scroll",y.onscroll),this.doZoomIn=function(e){if(!y.zoomactive){y.zoomactive=!0,y.zoomrestore={style:{}};var i,s="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),o=y.win[0].style;for(i in s){var a=s[i];y.zoomrestore.style[a]=void 0!==o[a]?o[a]:""}return y.zoomrestore.style.width=y.win.css("width"),y.zoomrestore.style.height=y.win.css("height"),y.zoomrestore.padding={w:y.win.outerWidth()-y.win.width(),h:y.win.outerHeight()-y.win.height()},_.isios4&&(y.zoomrestore.scrollTop=t(window).scrollTop(),t(window).scrollTop(0)),y.win.css({position:_.isios4?"absolute":"fixed",top:0,left:0,zIndex:n+100,margin:0}),s=y.win.css("backgroundColor"),(""==s||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))&&y.win.css("backgroundColor","#fff"),y.rail.css({zIndex:n+101}),y.zoom.css({zIndex:n+102}),y.zoom.css("backgroundPosition","0px -18px"),y.resizeZoom(),y.onzoomin&&y.onzoomin.call(y),y.cancelEvent(e)}},this.doZoomOut=function(e){return y.zoomactive?(y.zoomactive=!1,y.win.css("margin",""),y.win.css(y.zoomrestore.style),_.isios4&&t(window).scrollTop(y.zoomrestore.scrollTop),y.rail.css({"z-index":y.zindex}),y.zoom.css({"z-index":y.zindex}),y.zoomrestore=!1,y.zoom.css("backgroundPosition","0px 0px"),y.onResize(),y.onzoomout&&y.onzoomout.call(y),y.cancelEvent(e)):void 0},this.doZoom=function(t){return y.zoomactive?y.doZoomOut(t):y.doZoomIn(t)},this.resizeZoom=function(){if(y.zoomactive){var e=y.getScrollTop();y.win.css({width:t(window).width()-y.zoomrestore.padding.w+"px",height:t(window).height()-y.zoomrestore.padding.h+"px"}),y.onResize(),y.setScrollTop(Math.min(y.page.maxh,e))}},this.init(),t.nicescroll.push(this)},g=function(t){var e=this;this.nc=t,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(t,i){e.stop();var s=e.time();e.steptime=0,e.lasttime=s,e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=i,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,i){var s=e.time();e.steptime=s-e.lasttime,e.lasttime=s;var s=i-e.lasty,o=t-e.lastx,n=e.nc.getScrollTop(),a=e.nc.getScrollLeft(),n=n+s,a=a+o;e.snapx=0>a||a>e.nc.page.maxw,e.snapy=0>n||n>e.nc.page.maxh,e.speedx=o,e.speedy=s,e.lastx=t,e.lasty=i},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,i){var s=!1;0>i?(i=0,s=!0):i>e.nc.page.maxh&&(i=e.nc.page.maxh,s=!0),0>t?(t=0,s=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,s=!0),s?e.nc.doScrollPos(t,i,e.nc.opt.snapbackspeed):e.nc.triggerScrollEnd()},this.doMomentum=function(t){var i=e.time(),s=t?i+t:e.lasttime;t=e.nc.getScrollLeft();var o=e.nc.getScrollTop(),n=e.nc.page.maxh,a=e.nc.page.maxw;if(e.speedx=a>0?Math.min(60,e.speedx):0,e.speedy=n>0?Math.min(60,e.speedy):0,s=s&&60>=i-s,(0>o||o>n||0>t||t>a)&&(s=!1),t=e.speedx&&s?e.speedx:!1,e.speedy&&s&&e.speedy||t){var r=Math.max(16,e.steptime);r>50&&(t=r/50,e.speedx*=t,e.speedy*=t,r=50),e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var l=e.lastscrollx,d=e.lastscrolly,c=function(){var t=600<e.time()-i?.04:.02;e.speedx&&(l=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=l,0>l||l>a)&&(t=.1),e.speedy&&(d=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),e.lastscrolly=d,0>d||d>n)&&(t=.1),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",function(){e.speedx&&(e.nc.getScrollLeft(),e.chkx=l,e.nc.setScrollLeft(l)),e.speedy&&(e.nc.getScrollTop(),e.chky=d,e.nc.setScrollTop(d)),e.timer||(e.nc.hideCursor(),e.doSnapy(l,d))}),1>e.demulxy?e.timer=setTimeout(c,r):(e.stop(),e.nc.hideCursor(),e.doSnapy(l,d))};c()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},v=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(e,i,s){return(i=t.data(e,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollTop():v.call(e)},set:function(e,i){var s=t.data(e,"__nicescroll")||!1;return s&&s.ishwscroll?s.setScrollTop(parseInt(i)):v.call(e,i),this}},t.fn.scrollTop=function(e){if(void 0===e){var i=this[0]?t.data(this[0],"__nicescroll")||!1:!1;return i&&i.ishwscroll?i.getScrollTop():v.call(this)}return this.each(function(){var i=t.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollTop(parseInt(e)):v.call(t(this),e)})};var b=t.fn.scrollLeft;t.cssHooks.pageXOffset={get:function(e,i,s){return(i=t.data(e,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollLeft():b.call(e)},set:function(e,i){var s=t.data(e,"__nicescroll")||!1;return s&&s.ishwscroll?s.setScrollLeft(parseInt(i)):b.call(e,i),this}},t.fn.scrollLeft=function(e){if(void 0===e){var i=this[0]?t.data(this[0],"__nicescroll")||!1:!1;return i&&i.ishwscroll?i.getScrollLeft():b.call(this)}return this.each(function(){var i=t.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollLeft(parseInt(e)):b.call(t(this),e)})};var y=function(e){var i=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return t.each(i,e),i},this.push=function(t){i[i.length]=t,i.length++},this.eq=function(t){return i[t]},e)for(var s=0;s<e.length;s++){var o=t.data(e[s],"__nicescroll")||!1;o&&(this[this.length]=o,this.length++)}return this};!function(t,e,i){for(var s=0;s<e.length;s++)i(t,e[s])}(y.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(e){return void 0===e?new y(this):this[e]&&t.data(this[e],"__nicescroll")||!1},t.expr[":"].nicescroll=function(e){return void 0!==t.data(e,"__nicescroll")},t.fn.niceScroll=function(e,i){void 0!==i||"object"!=typeof e||"jquery"in e||(i=e,e=!1),i=t.extend({},i);var s=new y;void 0===i&&(i={}),e&&(i.doc=t(e),i.win=t(this));
var o=!("doc"in i);return o||"win"in i||(i.win=t(this)),this.each(function(){var e=t(this).data("__nicescroll")||!1;e||(i.doc=o?t(this):i.doc,e=new m(i,t(this)),t(this).data("__nicescroll",e)),s.push(e)}),1==s.length?s[0]:s},window.NiceScroll={getjQuery:function(){return t}},t.nicescroll||(t.nicescroll=new y,t.nicescroll.options=p)}),!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(t){"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e});var e={init:function(e){return this.options=t.extend({},t.noty.defaults,e),this.options.layout=this.options.custom?t.noty.layouts.inline:t.noty.layouts[this.options.layout],t.noty.themes[this.options.theme]?this.options.theme=t.noty.themes[this.options.theme]:this.options.themeClassName=this.options.theme,this.options=t.extend({},this.options,this.options.layout.options),this.options.id="noty_"+(new Date).getTime()*Math.floor(1e6*Math.random()),this._build(),this},_build:function(){var e=t('<div class="noty_bar noty_type_'+this.options.type+'"></div>').attr("id",this.options.id);if(e.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=null!==this.options.layout.parent.object?t(this.options.layout.parent.object).css(this.options.layout.parent.css).append(e):e,this.options.themeClassName&&this.$bar.addClass(this.options.themeClassName).addClass("noty_container_type_"+this.options.type),this.options.buttons){this.options.closeWith=[],this.options.timeout=!1;var i=t("<div/>").addClass("noty_buttons");null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append(i):this.$bar.append(i);var s=this;t.each(this.options.buttons,function(e,i){var o=t("<button/>").addClass(i.addClass?i.addClass:"gray").html(i.text).attr("id",i.id?i.id:"button-"+e).attr("title",i.title).appendTo(s.$bar.find(".noty_buttons")).on("click",function(e){t.isFunction(i.onClick)&&i.onClick.call(o,s,e)})})}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),t.noty.store[this.options.id]=this},show:function(){var e=this;return e.options.custom?e.options.custom.find(e.options.layout.container.selector).append(e.$bar):t(e.options.layout.container.selector).append(e.$bar),e.options.theme&&e.options.theme.style&&e.options.theme.style.apply(e),"function"===t.type(e.options.layout.css)?this.options.layout.css.apply(e.$bar):e.$bar.css(this.options.layout.css||{}),e.$bar.addClass(e.options.layout.addClass),e.options.layout.container.style.apply(t(e.options.layout.container.selector),[e.options.within]),e.showing=!0,e.options.theme&&e.options.theme.style&&e.options.theme.callback.onShow.apply(this),t.inArray("click",e.options.closeWith)>-1&&e.$bar.css("cursor","pointer").one("click",function(t){e.stopPropagation(t),e.options.callback.onCloseClick&&e.options.callback.onCloseClick.apply(e),e.close()}),t.inArray("hover",e.options.closeWith)>-1&&e.$bar.one("mouseenter",function(){e.close()}),t.inArray("button",e.options.closeWith)>-1&&e.$closeButton.one("click",function(t){e.stopPropagation(t),e.close()}),-1==t.inArray("button",e.options.closeWith)&&e.$closeButton.remove(),e.options.callback.onShow&&e.options.callback.onShow.apply(e),"string"==typeof e.options.animation.open?(e.$bar.css("height",e.$bar.innerHeight()),e.$bar.on("click",function(t){e.wasClicked=!0}),e.$bar.show().addClass(e.options.animation.open).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.options.callback.afterShow&&e.options.callback.afterShow.apply(e),e.showing=!1,e.shown=!0,e.hasOwnProperty("wasClicked")&&(e.$bar.off("click",function(t){e.wasClicked=!0}),e.close())})):e.$bar.animate(e.options.animation.open,e.options.animation.speed,e.options.animation.easing,function(){e.options.callback.afterShow&&e.options.callback.afterShow.apply(e),e.showing=!1,e.shown=!0}),e.options.timeout&&e.$bar.delay(e.options.timeout).promise().done(function(){e.close()}),this},close:function(){if(!(this.closed||this.$bar&&this.$bar.hasClass("i-am-closing-now"))){var e=this;if(this.showing)return void e.$bar.queue(function(){e.close.apply(e)});if(!this.shown&&!this.showing){var i=[];return t.each(t.noty.queue,function(t,s){s.options.id!=e.options.id&&i.push(s)}),void(t.noty.queue=i)}e.$bar.addClass("i-am-closing-now"),e.options.callback.onClose&&e.options.callback.onClose.apply(e),"string"==typeof e.options.animation.close?e.$bar.addClass(e.options.animation.close).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.options.callback.afterClose&&e.options.callback.afterClose.apply(e),e.closeCleanUp()}):e.$bar.clearQueue().stop().animate(e.options.animation.close,e.options.animation.speed,e.options.animation.easing,function(){e.options.callback.afterClose&&e.options.callback.afterClose.apply(e)}).promise().done(function(){e.closeCleanUp()})}},closeCleanUp:function(){var e=this;e.options.modal&&(t.notyRenderer.setModalCount(-1),0==t.notyRenderer.getModalCount()&&t(".noty_modal").fadeOut(e.options.animation.fadeSpeed,function(){t(this).remove()})),t.notyRenderer.setLayoutCountFor(e,-1),0==t.notyRenderer.getLayoutCountFor(e)&&t(e.options.layout.container.selector).remove(),"undefined"!=typeof e.$bar&&null!==e.$bar&&("string"==typeof e.options.animation.close?(e.$bar.css("transition","all 100ms ease").css("border",0).css("margin",0).height(0),e.$bar.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.$bar.remove(),e.$bar=null,e.closed=!0,e.options.theme.callback&&e.options.theme.callback.onClose&&e.options.theme.callback.onClose.apply(e)})):(e.$bar.remove(),e.$bar=null,e.closed=!0)),delete t.noty.store[e.options.id],e.options.theme.callback&&e.options.theme.callback.onClose&&e.options.theme.callback.onClose.apply(e),e.options.dismissQueue||(t.noty.ontap=!0,t.notyRenderer.render()),e.options.maxVisible>0&&e.options.dismissQueue&&t.notyRenderer.render()},setText:function(t){return this.closed||(this.options.text=t,this.$bar.find(".noty_text").html(t)),this},setType:function(t){return this.closed||(this.options.type=t,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(t){if(!this.closed){var e=this;this.options.timeout=t,e.$bar.delay(e.options.timeout).promise().done(function(){e.close()})}return this},stopPropagation:function(t){t=t||window.event,"undefined"!=typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},closed:!1,showing:!1,shown:!1};t.notyRenderer={},t.notyRenderer.init=function(i){var s=Object.create(e).init(i);return s.options.killer&&t.noty.closeAll(),s.options.force?t.noty.queue.unshift(s):t.noty.queue.push(s),t.notyRenderer.render(),"object"==t.noty.returns?s:s.options.id},t.notyRenderer.render=function(){var e=t.noty.queue[0];"object"===t.type(e)?e.options.dismissQueue?e.options.maxVisible>0?t(e.options.layout.container.selector+" > li").length<e.options.maxVisible&&t.notyRenderer.show(t.noty.queue.shift()):t.notyRenderer.show(t.noty.queue.shift()):t.noty.ontap&&(t.notyRenderer.show(t.noty.queue.shift()),t.noty.ontap=!1):t.noty.ontap=!0},t.notyRenderer.show=function(e){e.options.modal&&(t.notyRenderer.createModalFor(e),t.notyRenderer.setModalCount(1)),e.options.custom?0==e.options.custom.find(e.options.layout.container.selector).length?e.options.custom.append(t(e.options.layout.container.object).addClass("i-am-new")):e.options.custom.find(e.options.layout.container.selector).removeClass("i-am-new"):0==t(e.options.layout.container.selector).length?t("body").append(t(e.options.layout.container.object).addClass("i-am-new")):t(e.options.layout.container.selector).removeClass("i-am-new"),t.notyRenderer.setLayoutCountFor(e,1),e.show()},t.notyRenderer.createModalFor=function(e){if(0==t(".noty_modal").length){var i=t("<div/>").addClass("noty_modal").addClass(e.options.theme).data("noty_modal_count",0);e.options.theme.modal&&e.options.theme.modal.css&&i.css(e.options.theme.modal.css),i.prependTo(t("body")).fadeIn(e.options.animation.fadeSpeed),t.inArray("backdrop",e.options.closeWith)>-1&&i.on("click",function(e){t.noty.closeAll()})}},t.notyRenderer.getLayoutCountFor=function(e){return t(e.options.layout.container.selector).data("noty_layout_count")||0},t.notyRenderer.setLayoutCountFor=function(e,i){return t(e.options.layout.container.selector).data("noty_layout_count",t.notyRenderer.getLayoutCountFor(e)+i)},t.notyRenderer.getModalCount=function(){return t(".noty_modal").data("noty_modal_count")||0},t.notyRenderer.setModalCount=function(e){return t(".noty_modal").data("noty_modal_count",t.notyRenderer.getModalCount()+e)},t.fn.noty=function(e){return e.custom=t(this),t.notyRenderer.init(e)},t.noty={},t.noty.queue=[],t.noty.ontap=!0,t.noty.layouts={},t.noty.themes={},t.noty.returns="object",t.noty.store={},t.noty.get=function(e){return t.noty.store.hasOwnProperty(e)?t.noty.store[e]:!1},t.noty.close=function(e){return t.noty.get(e)?t.noty.get(e).close():!1},t.noty.setText=function(e,i){return t.noty.get(e)?t.noty.get(e).setText(i):!1},t.noty.setType=function(e,i){return t.noty.get(e)?t.noty.get(e).setType(i):!1},t.noty.clearQueue=function(){t.noty.queue=[]},t.noty.closeAll=function(){t.noty.clearQueue(),t.each(t.noty.store,function(t,e){e.close()})};var i=window.alert;return t.noty.consumeAlert=function(e){window.alert=function(i){e?e.text=i:e={text:i},t.notyRenderer.init(e)}},t.noty.stopConsumeAlert=function(){window.alert=i},t.noty.defaults={layout:"top",theme:"defaultTheme",type:"alert",text:"",dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500,fadeSpeed:"fast"},timeout:!1,force:!1,modal:!1,maxVisible:5,killer:!1,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:!1},t(window).on("resize",function(){t.each(t.noty.layouts,function(e,i){i.container.style.apply(t(i.container.selector))})}),window.noty=function(e){return t.notyRenderer.init(e)},t.noty.layouts.bottom={name:"bottom",options:{},container:{object:'<ul id="noty_bottom_layout_container" />',selector:"ul#noty_bottom_layout_container",style:function(){t(this).css({bottom:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},t.noty.layouts.bottomCenter={name:"bottomCenter",options:{},container:{object:'<ul id="noty_bottomCenter_layout_container" />',selector:"ul#noty_bottomCenter_layout_container",style:function(){t(this).css({bottom:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),t(this).css({left:(t(window).width()-t(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.bottomLeft={name:"bottomLeft",options:{},container:{object:'<ul id="noty_bottomLeft_layout_container" />',selector:"ul#noty_bottomLeft_layout_container",style:function(){t(this).css({bottom:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.bottomRight={name:"bottomRight",options:{},container:{object:'<ul id="noty_bottomRight_layout_container" />',selector:"ul#noty_bottomRight_layout_container",style:function(){t(this).css({bottom:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.center={name:"center",options:{},container:{object:'<ul id="noty_center_layout_container" />',selector:"ul#noty_center_layout_container",style:function(){t(this).css({position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var e=t(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");t("body").append(e),e.find(".i-am-closing-now").remove(),e.find("li").css("display","block");var i=e.height();e.remove(),t(this).hasClass("i-am-new")?t(this).css({left:(t(window).width()-t(this).outerWidth(!1))/2+"px",top:(t(window).height()-i)/2+"px"}):t(this).animate({left:(t(window).width()-t(this).outerWidth(!1))/2+"px",top:(t(window).height()-i)/2+"px"},500)}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.centerLeft={name:"centerLeft",options:{},container:{object:'<ul id="noty_centerLeft_layout_container" />',selector:"ul#noty_centerLeft_layout_container",style:function(){t(this).css({left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var e=t(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");t("body").append(e),e.find(".i-am-closing-now").remove(),e.find("li").css("display","block");var i=e.height();e.remove(),t(this).hasClass("i-am-new")?t(this).css({top:(t(window).height()-i)/2+"px"}):t(this).animate({top:(t(window).height()-i)/2+"px"},500),window.innerWidth<600&&t(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.centerRight={name:"centerRight",options:{},container:{object:'<ul id="noty_centerRight_layout_container" />',selector:"ul#noty_centerRight_layout_container",style:function(){t(this).css({right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var e=t(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");t("body").append(e),e.find(".i-am-closing-now").remove(),e.find("li").css("display","block");var i=e.height();e.remove(),t(this).hasClass("i-am-new")?t(this).css({top:(t(window).height()-i)/2+"px"}):t(this).animate({top:(t(window).height()-i)/2+"px"},500),window.innerWidth<600&&t(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.inline={name:"inline",options:{},container:{object:'<ul class="noty_inline_layout_container" />',selector:"ul.noty_inline_layout_container",style:function(){t(this).css({width:"100%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},t.noty.layouts.top={name:"top",options:{},container:{object:'<ul id="noty_top_layout_container" />',selector:"ul#noty_top_layout_container",style:function(){t(this).css({top:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""},t.noty.layouts.topCenter={name:"topCenter",options:{},container:{object:'<ul id="noty_topCenter_layout_container" />',selector:"ul#noty_topCenter_layout_container",style:function(){t(this).css({top:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),t(this).css({left:(t(window).width()-t(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.topLeft={name:"topLeft",options:{},container:{object:'<ul id="noty_topLeft_layout_container" />',selector:"ul#noty_topLeft_layout_container",style:function(){t(this).css({top:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.layouts.topRight={name:"topRight",options:{},container:{object:'<ul id="noty_topRight_layout_container" />',selector:"ul#noty_topRight_layout_container",style:function(){t(this).css({top:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&t(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""},t.noty.themes.bootstrapTheme={name:"bootstrapTheme",modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){var e=this.options.layout.container.selector;switch(t(e).addClass("list-group"),this.$closeButton.append('<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>'),this.$closeButton.addClass("close"),this.$bar.addClass("list-group-item").css("padding","0px"),this.options.type){case"alert":case"notification":this.$bar.addClass("list-group-item-info");break;case"warning":this.$bar.addClass("list-group-item-warning");break;case"error":this.$bar.addClass("list-group-item-danger");break;case"information":this.$bar.addClass("list-group-item-info");break;case"success":this.$bar.addClass("list-group-item-success")}this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"})},callback:{onShow:function(){},onClose:function(){}}},t.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){if(this.options.dismissQueue){var e=this.options.layout.container.selector+" "+this.options.layout.parent.selector;switch(this.options.layout.name){case"top":t(e).css({borderRadius:"0px 0px 0px 0px"}),t(e).last().css({borderRadius:"0px 0px 5px 5px"});break;case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomLeft":case"bottomRight":case"center":case"centerLeft":case"centerRight":case"inline":t(e).css({borderRadius:"0px 0px 0px 0px"}),t(e).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"}),t(e).last().css({"border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"});break;case"bottom":t(e).css({borderRadius:"0px 0px 0px 0px"}),t(e).first().css({borderRadius:"5px 5px 0px 0px"})}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAQAAAClM0ndAAAAhklEQVR4AdXO0QrCMBBE0bttkk38/w8WRERpdyjzVOc+HxhIHqJGMQcFFkpYRQotLLSw0IJ5aBdovruMYDA/kT8plF9ZKLFQcgF18hDj1SbQOMlCA4kao0iiXmah7qBWPdxpohsgVZyj7e5I9KcID+EhiDI5gxBYKLBQYKHAQoGFAoEks/YEGHYKB7hFxf0AAAAASUVORK5CYII=') repeat-x scroll left top #fff"}),this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){t(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){t(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case"top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){t.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){t.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}},t.noty.themes.relax={name:"relax",helpers:{},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",margin:"4px 0",borderRadius:"2px"}),this.$message.css({fontSize:"14px",lineHeight:"16px",textAlign:"center",padding:"10px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.on({mouseenter:function(){t(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){t(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case"top":this.$bar.css({borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",borderTop:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",borderBottom:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#dedede",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"#FF8181",borderColor:"#e25353",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#78C5E7",borderColor:"#3badd6",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"#BCF5BC",borderColor:"#7cdd77",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){},onClose:function(){}}},window.noty}),!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):t.Tipped=e(jQuery)}(this,function($){function degrees(t){return 180*t/Math.PI}function radian(t){return t*Math.PI/180}function sec(t){return 1/Math.cos(t)}function sfcc(t){return String.fromCharCode.apply(String,t.replace(" ","").split(","))}function deepExtend(t,e){for(var i in e)e[i]&&e[i].constructor&&e[i].constructor===Object?(t[i]=$.extend({},t[i])||{},deepExtend(t[i],e[i])):t[i]=e[i];return t}function Spin(){return this.initialize.apply(this,_slice.call(arguments))}function Visible(){return this.initialize.apply(this,_slice.call(arguments))}function Skin(){this.initialize.apply(this,_slice.call(arguments))}function Stem(){this.initialize.apply(this,_slice.call(arguments))}function Tooltip(){this.initialize.apply(this,_slice.call(arguments))}function Collection(){this.initialize.apply(this,_slice.call(arguments))}var Tipped={};$.extend(Tipped,{version:"4.5.7"}),Tipped.Skins={base:{afterUpdate:!1,ajax:{},cache:!0,container:!1,containment:{selector:"viewport",padding:5},close:!1,detach:!0,fadeIn:200,fadeOut:200,showDelay:75,hideDelay:25,hideAfter:!1,hideOn:{element:"mouseleave"},hideOthers:!1,position:"top",inline:!1,offset:{x:0,y:0},onHide:!1,onShow:!1,padding:!0,radius:!0,shadow:!0,showOn:{element:"mousemove"},size:"medium",spinner:!0,stem:!0,target:"element",voila:!0},reset:{ajax:!1,hideOn:{element:"mouseleave",tooltip:"mouseleave"},showOn:{element:"mouseenter",tooltip:"mouseenter"}}},$.each("dark".split(" "),function(t,e){Tipped.Skins[e]={}});var Browser=function(t){function e(e){var i=new RegExp(e+"([\\d.]+)").exec(t);return i?parseFloat(i[1]):!0}return{IE:!(!window.attachEvent||-1!==t.indexOf("Opera"))&&e("MSIE "),Opera:t.indexOf("Opera")>-1&&(!!window.opera&&opera.version&&parseFloat(opera.version())||7.55),WebKit:t.indexOf("AppleWebKit/")>-1&&e("AppleWebKit/"),Gecko:t.indexOf("Gecko")>-1&&-1===t.indexOf("KHTML")&&e("rv:"),MobileSafari:!!t.match(/Apple.*Mobile.*Safari/),Chrome:t.indexOf("Chrome")>-1&&e("Chrome/"),ChromeMobile:t.indexOf("CrMo")>-1&&e("CrMo/"),Android:t.indexOf("Android")>-1&&e("Android "),IEMobile:t.indexOf("IEMobile")>-1&&e("IEMobile/")}}(navigator.userAgent),Support=function(){function t(t){return i(t,"prefix")}function e(t,e){for(var i in t)if(void 0!==s.style[t[i]])return"prefix"==e?t[i]:!0;return!1}function i(t,i){var s=t.charAt(0).toUpperCase()+t.substr(1),n=(t+" "+o.join(s+" ")+s).split(" ");return e(n,i)}var s=document.createElement("div"),o="Webkit Moz O ms Khtml".split(" ");return{css:{animation:i("animation"),transform:i("transform"),prefixed:t},shadow:i("boxShadow")&&i("pointerEvents"),touch:function(){try{return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}catch(t){return!1}}()}}(),_slice=Array.prototype.slice,_={wrap:function(t,e){var i=t;return function(){var t=[$.proxy(i,this)].concat(_slice.call(arguments));return e.apply(this,t)}},isElement:function(t){return t&&1==t.nodeType},isText:function(t){return t&&3==t.nodeType},isDocumentFragment:function(t){return t&&11==t.nodeType},delay:function(t,e){var i=_slice.call(arguments,2);return setTimeout(function(){return t.apply(t,i)},e)},defer:function(t){return _.delay.apply(this,[t,1].concat(_slice.call(arguments,1)))},pointer:function(t){return{x:t.pageX,y:t.pageY}},element:{isAttached:function(){function t(t){for(var e=t;e&&e.parentNode;)e=e.parentNode;return e}return function(e){var i=t(e);return!(!i||!i.body)}}()}},getUID=function(){var t=0,e="_tipped-uid-";return function(i){for(i=i||e,t++;document.getElementById(i+t);)t++;return i+t}}(),Position={positions:["topleft","topmiddle","topright","righttop","rightmiddle","rightbottom","bottomright","bottommiddle","bottomleft","leftbottom","leftmiddle","lefttop"],regex:{toOrientation:/^(top|left|bottom|right)(top|left|bottom|right|middle|center)$/,horizontal:/^(top|bottom)/,isCenter:/(middle|center)/,side:/^(top|bottom|left|right)/},toDimension:function(){var t={top:"height",left:"width",bottom:"height",right:"width"};return function(e){return t[e]}}(),isCenter:function(t){return!!t.toLowerCase().match(this.regex.isCenter)},isCorner:function(t){return!this.isCenter(t)},getOrientation:function(t){return t.toLowerCase().match(this.regex.horizontal)?"horizontal":"vertical"},getSide:function(t){var e=null,i=t.toLowerCase().match(this.regex.side);return i&&i[1]&&(e=i[1]),e},split:function(t){return t.toLowerCase().match(this.regex.toOrientation)},_flip:{top:"bottom",bottom:"top",left:"right",right:"left"},flip:function(t,e){var i=this.split(t);return e?this.inverseCornerPlane(this.flip(this.inverseCornerPlane(t))):this._flip[i[1]]+i[2]},inverseCornerPlane:function(t){if(Position.isCorner(t)){var e=this.split(t);return e[2]+e[1]}return t},adjustOffsetBasedOnPosition:function(t,e,i){var s=$.extend({},t),o={horizontal:"x",vertical:"y"},n={x:"y",y:"x"},a={top:{right:"x"},bottom:{left:"x"},left:{bottom:"y"},right:{top:"y"}},r=Position.getOrientation(e);if(r==Position.getOrientation(i)){if(Position.getSide(e)!=Position.getSide(i)){var l=n[o[r]];s[l]*=-1}}else{var d=s.x;s.x=s.y,s.y=d;var c=a[Position.getSide(e)][Position.getSide(i)];c&&(s[c]*=-1),s[o[Position.getOrientation(i)]]=0}return s},getBoxFromPoints:function(t,e,i,s){var o=Math.min(t,i),n=Math.max(t,i),a=Math.min(e,s),r=Math.max(e,s);return{left:o,top:a,width:Math.max(n-o,0),height:Math.max(r-a,0)}},isPointWithinBox:function(t,e,i,s,o,n){var a=this.getBoxFromPoints(i,s,o,n);return t>=a.left&&t<=a.left+a.width&&e>=a.top&&e<=a.top+a.height},isPointWithinBoxLayout:function(t,e,i){return this.isPointWithinBox(t,e,i.position.left,i.position.top,i.position.left+i.dimensions.width,i.position.top+i.dimensions.height)},getDistance:function(t,e,i,s){return Math.sqrt(Math.pow(Math.abs(i-t),2)+Math.pow(Math.abs(s-e),2))},intersectsLine:function(){var t=function(t,e,i,s,o,n){var a=(n-e)*(i-t)-(s-e)*(o-t);return a>0?!0:0>a?!1:!0};return function(e,i,s,o,n,a,r,l,d){if(!d)return t(e,i,n,a,r,l)!=t(s,o,n,a,r,l)&&t(e,i,s,o,n,a)!=t(e,i,s,o,r,l);var c,h,p,u;c=s-e,h=o-i,p=r-n,u=l-a;var f,m;if(f=(-h*(e-n)+c*(i-a))/(-p*h+c*u),m=(p*(i-a)-u*(e-n))/(-p*h+c*u),f>=0&&1>=f&&m>=0&&1>=m){var g=e+m*c,v=i+m*h;return{x:g,y:v}}return!1}}()},Bounds={viewport:function(){var t;return t=Browser.MobileSafari||Browser.Android&&Browser.Gecko?{width:window.innerWidth,height:window.innerHeight}:{height:$(window).height(),width:$(window).width()}}},Mouse={_buffer:{pageX:0,pageY:0},_dimensions:{width:30,height:30},_shift:{x:2,y:10},getPosition:function(t){var e=this.getActualPosition(t);return{left:e.left-Math.round(.5*this._dimensions.width)+this._shift.x,top:e.top-Math.round(.5*this._dimensions.height)+this._shift.y}},getActualPosition:function(t){var e=t&&"number"==$.type(t.pageX)?t:this._buffer;
return{left:e.pageX,top:e.pageY}},getDimensions:function(){return this._dimensions}},Color=function(){function t(t){return("0"+parseInt(t).toString(16)).slice(-2)}function e(e){return e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+))?\)$/),"#"+t(e[1])+t(e[2])+t(e[3])}var i={_default:"#000000",aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};return{toRGB:function(t){if(/^rgba?\(/.test(t))return e(t);i[t]&&(t=i[t]);var s=t.replace("#","");return/^(?:[0-9a-fA-F]{3}){1,2}$/.test(s)||i._default,3==s.length&&(s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)),"#"+s}}}();Spin.supported=Support.css.transform&&Support.css.animation,$.extend(Spin.prototype,{initialize:function(){this.options=$.extend({},arguments[0]||{}),this.build(),this.start()},build:function(){var t=2*(this.options.length+this.options.radius),e={height:t,width:t};this.element=$("<div>").addClass("tpd-spin").css(e),this.element.append(this._rotate=$("<div>").addClass("tpd-spin-rotate")),this.element.css({"margin-left":-.5*e.width,"margin-top":-.5*e.height});for(var i=this.options.lines,s=0;i>s;s++){var o,n;this._rotate.append(o=$("<div>").addClass("tpd-spin-frame").append(n=$("<div>").addClass("tpd-spin-line"))),n.css({"background-color":this.options.color,width:this.options.width,height:this.options.length,"margin-left":-.5*this.options.width,"border-radius":Math.round(.5*this.options.width)}),o.css({opacity:(1/i*(s+1)).toFixed(2)});var a={};a[Support.css.prefixed("transform")]="rotate("+360/i*(s+1)+"deg)",o.css(a)}},start:function(){var t={};t[Support.css.prefixed("animation")]="tpd-spin 1s infinite steps("+this.options.lines+")",this._rotate.css(t)},stop:function(){var t={};t[Support.css.prefixed("animation")]="none",this._rotate.css(t),this.element.detach()}}),$.extend(Visible.prototype,{initialize:function(t){return t="array"==$.type(t)?t:[t],this.elements=t,this._restore=[],$.each(t,$.proxy(function(t,e){var i=$(e).is(":visible");i||$(e).show(),this._restore.push({element:e,visible:i})},this)),this},restore:function(){$.each(this._restore,function(t,e){e.visible||$(e.element).show()}),this._restore=null}});var AjaxCache=function(){var t=[];return{get:function(e){for(var i=null,s=0;s<t.length;s++)t[s]&&t[s].url==e.url&&(t[s].type||"GET").toUpperCase()==(e.type||"GET").toUpperCase()&&$.param(t[s].data||{})==$.param(e.data||{})&&(i=t[s]);return i},set:function(e,i,s){var o=this.get(e);o||(o=$.extend({callbacks:{}},e),t.push(o)),o.callbacks[i]=s},remove:function(e){for(var i=0;i<t.length;i++)t[i]&&t[i].url==e&&delete t[i]},clear:function(){t=[]}}}(),Voila=function(t){function e(i,s,o){if(!(this instanceof e))return new e(i,s,o);var n=t.type(arguments[1]),a="object"===n?arguments[1]:{},r="function"===n?arguments[1]:"function"===t.type(arguments[2])?arguments[2]:!1;return this.options=t.extend({method:"onload"},a),this.deferred=new jQuery.Deferred,r&&this.always(r),this._processed=0,this.images=[],this._add(i),this}t.extend(e.prototype,{_add:function(e){var s="string"==t.type(e)?t(e):e instanceof jQuery||e.length>0?e:[e];t.each(s,t.proxy(function(e,s){var o=t(),n=t(s);o=n.is("img")?o.add(n):o.add(n.find("img")),o.each(t.proxy(function(e,s){this.images.push(new i(s,t.proxy(function(t){this._progress(t)},this),t.proxy(function(t){this._progress(t)},this),this.options))},this))},this)),this.images.length<1&&setTimeout(t.proxy(function(){this._resolve()},this))},abort:function(){this._progress=this._notify=this._reject=this._resolve=function(){},t.each(this.images,function(t,e){e.abort()}),this.images=[]},_progress:function(t){this._processed++,t.isLoaded||(this._broken=!0),this._notify(t),this._processed==this.images.length&&this[this._broken?"_reject":"_resolve"]()},_notify:function(t){this.deferred.notify(this,t)},_reject:function(){this.deferred.reject(this)},_resolve:function(){this.deferred.resolve(this)},always:function(t){return this.deferred.always(t),this},done:function(t){return this.deferred.done(t),this},fail:function(t){return this.deferred.fail(t),this},progress:function(t){return this.deferred.progress(t),this}});var i=function(t){var e=function(){return this.initialize.apply(this,Array.prototype.slice.call(arguments))};t.extend(e.prototype,{initialize:function(){this.options=t.extend({test:function(){},success:function(){},timeout:function(){},callAt:!1,intervals:[[0,0],[1e3,10],[2e3,50],[4e3,100],[2e4,500]]},arguments[0]||{}),this._test=this.options.test,this._success=this.options.success,this._timeout=this.options.timeout,this._ipos=0,this._time=0,this._delay=this.options.intervals[this._ipos][1],this._callTimeouts=[],this.poll(),this._createCallsAt()},poll:function(){this._polling=setTimeout(t.proxy(function(){if(this._test())return void this.success();if(this._time+=this._delay,this._time>=this.options.intervals[this._ipos][0]){if(!this.options.intervals[this._ipos+1])return void("function"==t.type(this._timeout)&&this._timeout());this._ipos++,this._delay=this.options.intervals[this._ipos][1]}this.poll()},this),this._delay)},success:function(){this.abort(),this._success()},_createCallsAt:function(){this.options.callAt&&t.each(this.options.callAt,t.proxy(function(e,i){var s=i[0],o=i[1],n=setTimeout(t.proxy(function(){o()},this),s);this._callTimeouts.push(n)},this))},_stopCallTimeouts:function(){t.each(this._callTimeouts,function(t,e){clearTimeout(e)}),this._callTimeouts=[]},abort:function(){this._stopCallTimeouts(),this._polling&&(clearTimeout(this._polling),this._polling=null)}});var i=function(){return this.initialize.apply(this,Array.prototype.slice.call(arguments))};return t.extend(i.prototype,{supports:{naturalWidth:function(){return"naturalWidth"in new Image}()},initialize:function(e,i,s){return this.img=t(e)[0],this.successCallback=i,this.errorCallback=s,this.isLoaded=!1,this.options=t.extend({method:"onload",pollFallbackAfter:1e3},arguments[3]||{}),"onload"!=this.options.method&&this.supports.naturalWidth?void this.poll():void this.load()},poll:function(){this._poll=new e({test:t.proxy(function(){return this.img.naturalWidth>0},this),success:t.proxy(function(){this.success()},this),timeout:t.proxy(function(){this.error()},this),callAt:[[this.options.pollFallbackAfter,t.proxy(function(){this.load()},this)]]})},load:function(){this._loading=setTimeout(t.proxy(function(){var e=new Image;this._onloadImage=e,e.onload=t.proxy(function(){e.onload=function(){},this.supports.naturalWidth||(this.img.naturalWidth=e.width,this.img.naturalHeight=e.height,e.naturalWidth=e.width,e.naturalHeight=e.height),this.success()},this),e.onerror=t.proxy(this.error,this),e.src=this.img.src},this))},success:function(){this._calledSuccess||(this._calledSuccess=!0,this.abort(),this.waitForRender(t.proxy(function(){this.isLoaded=!0,this.successCallback(this)},this)))},error:function(){this._calledError||(this._calledError=!0,this.abort(),this._errorRenderTimeout=setTimeout(t.proxy(function(){this.errorCallback&&this.errorCallback(this)},this)))},abort:function(){this.stopLoading(),this.stopPolling(),this.stopWaitingForRender()},stopPolling:function(){this._poll&&(this._poll.abort(),this._poll=null)},stopLoading:function(){this._loading&&(clearTimeout(this._loading),this._loading=null),this._onloadImage&&(this._onloadImage.onload=function(){},this._onloadImage.onerror=function(){})},waitForRender:function(t){this._renderTimeout=setTimeout(t)},stopWaitingForRender:function(){this._renderTimeout&&(clearTimeout(this._renderTimeout),this._renderTimeout=null),this._errorRenderTimeout&&(clearTimeout(this._errorRenderTimeout),this._errorRenderTimeout=null)}}),i}(jQuery);return e}(jQuery);Tipped.Behaviors={hide:{showOn:{element:"mouseenter",tooltip:!1},hideOn:{element:"mouseleave",tooltip:"mouseenter"}},mouse:{showOn:{element:"mouseenter",tooltip:!1},hideOn:{element:"mouseleave",tooltip:"mouseenter"},target:"mouse",showDelay:100,fadeIn:0,hideDelay:0,fadeOut:0},sticky:{showOn:{element:"mouseenter",tooltip:"mouseenter"},hideOn:{element:"mouseleave",tooltip:"mouseleave"},showDelay:150,target:"mouse",fixed:!0}};var Options={create:function(){function t(e){return o=Tipped.Skins.base,n=deepExtend($.extend({},o),Tipped.Skins.reset),t=s,s(e)}function e(t){return t.match(/^(top|left|bottom|right)$/)&&(t+="middle"),t.replace("center","middle").replace(" ",""),t}function i(t){var e,i;return e=t.behavior&&(i=Tipped.Behaviors[t.behavior])?deepExtend($.extend({},i),t):t}function s(t){var s=t.skin?t.skin:Tooltips.options.defaultSkin,a=$.extend({},Tipped.Skins[s]||{});a.skin||(a.skin=Tooltips.options.defaultSkin||"dark");var r=deepExtend($.extend({},n),i(a)),l=deepExtend($.extend({},r),i(t));l[sfcc("115,107,105,110")]=sfcc("100,97,114,107"),l.ajax&&(n.ajax||{},o.ajax,"boolean"==$.type(l.ajax)&&(l.ajax={}),l.ajax=!1);var d,c=c=l.position&&l.position.target||"string"==$.type(l.position)&&l.position||n.position&&n.position.target||"string"==$.type(n.position)&&n.position||o.position&&o.position.target||o.position;c=e(c);var h=l.position&&l.position.tooltip||n.position&&n.position.tooltip||o.position&&o.position.tooltip||Tooltips.Position.getInversedPosition(c);if(h=e(h),l.position?"string"==$.type(l.position)?(l.position=e(l.position),d={target:l.position,tooltip:Tooltips.Position.getTooltipPositionFromTarget(l.position)}):(d={tooltip:h,target:c},l.position.tooltip&&(d.tooltip=e(l.position.tooltip)),l.position.target&&(d.target=e(l.position.target))):d={tooltip:h,target:c},Position.isCorner(d.target)&&Position.getOrientation(d.target)!=Position.getOrientation(d.tooltip)&&(d.target=Position.inverseCornerPlane(d.target)),"mouse"==l.target){var p=Position.getOrientation(d.target);d.target="horizontal"==p?d.target.replace(/(left|right)/,"middle"):d.target.replace(/(top|bottom)/,"middle")}l.position=d;var u;if("mouse"==l.target?(u=$.extend({},o.offset),$.extend(u,Tipped.Skins.reset.offset||{}),u=Position.adjustOffsetBasedOnPosition(o.offset,o.position,d.target,!0),t.offset&&(u=$.extend(u,t.offset||{}))):u={x:l.offset.x,y:l.offset.y},l.offset=u,l.hideOn&&"click-outside"==l.hideOn&&(l.hideOnClickOutside=!0,l.hideOn=!1,l.fadeOut=0),l.showOn){var f=l.showOn;"string"==$.type(f)&&(f={element:f}),l.showOn=f}if(l.hideOn){var m=l.hideOn;"string"==$.type(m)&&(m={element:m}),l.hideOn=m}return l.inline&&"string"!=$.type(l.inline)&&(l.inline=!1),Browser.IE&&Browser.IE<9&&$.extend(l,{fadeIn:0,fadeOut:0,hideDelay:0}),l.spinner&&(Spin.supported?"boolean"==$.type(l.spinner)&&(l.spinner=n.spinner||o.spinner||{}):l.spinner=!1),l.container||(l.container=document.body),l.containment&&"string"==$.type(l.containment)&&(l.containment={selector:l.containment,padding:n.containment&&n.containment.padding||o.padding&&o.containment.padding}),l.shadow&&(l.shadow=Support.shadow),l}var o,n;return t}()};$.extend(Skin.prototype,{initialize:function(t){this.tooltip=t,this.element=t._skin;var e=this.tooltip.options;this.tooltip._tooltip[(e.shadow?"remove":"add")+"Class"]("tpd-no-shadow")[(e.radius?"remove":"add")+"Class"]("tpd-no-radius")[(e.stem?"remove":"add")+"Class"]("tpd-no-stem");var i,s,o,n,a=Support.css.prefixed("borderTopLeftRadius");this.element.append(i=$("<div>").addClass("tpd-frames").append($("<div>").addClass("tpd-frame").append($("<div>").addClass("tpd-backgrounds").append(s=$("<div>").addClass("tpd-background").append(o=$("<div>").addClass("tpd-background-content")))))).append(n=$("<div>").addClass("tpd-spinner")),s.css({width:999,height:999,zoom:1}),this._css={border:parseFloat(s.css("border-top-width")),radius:parseFloat(a?s.css(a):0),padding:parseFloat(t._content.css("padding-top")),borderColor:s.css("border-top-color"),backgroundColor:o.css("background-color"),backgroundOpacity:o.css("opacity"),spinner:{dimensions:{width:n.innerWidth(),height:n.innerHeight()}}},n.remove(),i.remove(),this._side=Position.getSide(t.options.position.tooltip)||"top",this._vars={}},destroy:function(){this.frames&&($.each("top right bottom left".split(" "),$.proxy(function(t,e){this["stem_"+e]&&this["stem_"+e].destroy()},this)),this.frames.remove(),this.frames=null)},build:function(){this.frames||(this.element.append(this.frames=$("<div>").addClass("tpd-frames")),$.each("top right bottom left".split(" "),$.proxy(function(t,e){this.insertFrame(e)},this)),this._spinner||this.tooltip._tooltip.append(this._spinner=$("<div>").addClass("tpd-spinner").hide().append($("<div>").addClass("tpd-spinner-spin"))))},_frame:function(){var t,e=$("<div>").addClass("tpd-frame").append(t=$("<div>").addClass("tpd-backgrounds").append($("<div>").addClass("tpd-background-shadow"))).append($("<div>").addClass("tpd-shift-stem").append($("<div>").addClass("tpd-shift-stem-side tpd-shift-stem-side-before")).append($("<div>").addClass("tpd-stem")).append($("<div>").addClass("tpd-shift-stem-side tpd-shift-stem-side-after")));return $.each("top right bottom left".split(" "),$.proxy(function(e,i){t.append($("<div>").addClass("tpd-background-box tpd-background-box-"+i).append($("<div>").addClass("tpd-background-box-shift").append($("<div>").addClass("tpd-background-box-shift-further").append($("<div>").addClass("tpd-background").append($("<div>").addClass("tpd-background-title")).append($("<div>").addClass("tpd-background-content"))).append($("<div>").addClass("tpd-background tpd-background-loading")).append($("<div>").addClass("tpd-background-border-hack").hide()))))},this)),e}(),_getFrame:function(t){var e=this._frame.clone();e.addClass("tpd-frame-"+t),e.find(".tpd-background-shadow").css({"border-radius":this._css.radius}),this.tooltip.options.stem&&e.find(".tpd-stem").attr("data-stem-position",t);var i=Math.max(this._css.radius-this._css.border,0);e.find(".tpd-background-title").css({"border-top-left-radius":i,"border-top-right-radius":i}),e.find(".tpd-background-content").css({"border-bottom-left-radius":i,"border-bottom-right-radius":i}),e.find(".tpd-background-loading").css({"border-radius":i});var s={backgroundColor:this._css.borderColor},o=Position.getOrientation(t),n="horizontal"==o;s[n?"height":"width"]=this._css.border+"px";var a={top:"bottom",bottom:"top",left:"right",right:"left"};return s[a[t]]=0,e.find(".tpd-shift-stem-side").css(s),e},insertFrame:function(t){var e=this["frame_"+t]=this._getFrame(t);if(this.frames.append(e),this.tooltip.options.stem){var i=e.find(".tpd-stem");this["stem_"+t]=new Stem(i,this,{})}},startLoading:function(){this.tooltip.supportsLoading&&(this.build(),this._spinner||this.tooltip.is("resize-to-content")||this.setDimensions(this._css.spinner.dimensions),this._spinner&&this._spinner.show())},stopLoading:function(){this.tooltip.supportsLoading&&this._spinner&&(this.build(),this._spinner.hide())},updateBackground:function(){var t=this._vars.frames[this._side],e=$.extend({},t.background.dimensions);if(this.tooltip.title&&!this.tooltip.is("loading")){this.element.find(".tpd-background-title, .tpd-background-content").show(),this.element.find(".tpd-background").css({"background-color":"transparent"});var i=$.extend({},e),s=Math.max(this._css.radius-this._css.border,0),o={"border-top-left-radius":s,"border-top-right-radius":s,"border-bottom-left-radius":s,"border-bottom-right-radius":s},n=new Visible(this.tooltip._tooltip),a=this.tooltip._titleWrapper.innerHeight();i.height-=a,this.element.find(".tpd-background-title").css({height:a,width:e.width}),o["border-top-left-radius"]=0,o["border-top-right-radius"]=0,n.restore(),this.element.find(".tpd-background-content").css(i).css(o),this.element.find(".tpd-background-loading").css({"background-color":this._css.backgroundColor})}else this.element.find(".tpd-background-title, .tpd-background-content").hide(),this.element.find(".tpd-background").css({"background-color":this._css.backgroundColor});this._css.border&&(this.element.find(".tpd-background").css({"border-color":"transparent"}),this.element.find(".tpd-background-border-hack").css({width:e.width,height:e.height,"border-radius":this._css.radius,"border-width":this._css.border,"border-color":this._css.borderColor}).show())},paint:function(){if(!this._paintedDimensions||this._paintedDimensions.width!=this._dimensions.width||this._paintedDimensions.height!=this._dimensions.height||this._paintedStemPosition!=this._stemPosition){this._paintedDimensions=this._dimensions,this._paintedStemPosition=this._stemPosition,this.element.removeClass("tpd-visible-frame-top tpd-visible-frame-bottom tpd-visible-frame-left tpd-visible-frame-right").addClass("tpd-visible-frame-"+this._side);var t=this._vars.frames[this._side],e=$.extend({},t.background.dimensions);this.element.find(".tpd-background").css(e),this.element.find(".tpd-background-shadow").css({width:e.width+2*this._css.border,height:e.height+2*this._css.border}),this.updateBackground(),this.element.find(".tpd-background-box-shift, .tpd-background-box-shift-further").removeAttr("style"),this.element.add(this.frames).add(this.tooltip._tooltip).css(t.dimensions);var i=this._side,s=this._vars.frames[i],o=this.element.find(".tpd-frame-"+this._side),n=this._vars.frames[i].dimensions;o.css(n),o.find(".tpd-backgrounds").css($.extend({},s.background.position,{width:n.width-s.background.position.left,height:n.height-s.background.position.top}));var a=Position.getOrientation(i);if(this.tooltip.options.stem)if(o.find(".tpd-shift-stem").css($.extend({},s.shift.dimensions,s.shift.position)),"vertical"==a){var r=o.find(".tpd-background-box-top, .tpd-background-box-bottom");r.css({height:this._vars.cut,width:this._css.border}),o.find(".tpd-background-box-bottom").css({top:s.dimensions.height-this._vars.cut}).find(".tpd-background-box-shift").css({"margin-top":-1*s.dimensions.height+this._vars.cut});var l="right"==i?s.dimensions.width-s.stemPx-this._css.border:0;r.css({left:l}).find(".tpd-background-box-shift").css({"margin-left":-1*l}),o.find(".tpd-background-box-"+("left"==i?"left":"right")).hide(),"right"==i?o.find(".tpd-background-box-left").css({width:s.dimensions.width-s.stemPx-this._css.border}):o.find(".tpd-background-box-right").css({"margin-left":this._css.border}).find(".tpd-background-box-shift").css({"margin-left":-1*this._css.border});var d=o.find(".tpd-background-box-"+this._side);d.css({height:s.dimensions.height-2*this._vars.cut,"margin-top":this._vars.cut}),d.find(".tpd-background-box-shift").css({"margin-top":-1*this._vars.cut})}else{var r=o.find(".tpd-background-box-left, .tpd-background-box-right");r.css({width:this._vars.cut,height:this._css.border}),o.find(".tpd-background-box-right").css({left:s.dimensions.width-this._vars.cut}).find(".tpd-background-box-shift").css({"margin-left":-1*s.dimensions.width+this._vars.cut});var l="bottom"==i?s.dimensions.height-s.stemPx-this._css.border:0;r.css({top:l}).find(".tpd-background-box-shift").css({"margin-top":-1*l}),o.find(".tpd-background-box-"+("top"==i?"top":"bottom")).hide(),"bottom"==i?o.find(".tpd-background-box-top").css({height:s.dimensions.height-s.stemPx-this._css.border}):o.find(".tpd-background-box-bottom").css({"margin-top":this._css.border}).find(".tpd-background-box-shift").css({"margin-top":-1*this._css.border});var d=o.find(".tpd-background-box-"+this._side);d.css({width:s.dimensions.width-2*this._vars.cut,"margin-left":this._vars.cut}),d.find(".tpd-background-box-shift").css({"margin-left":-1*this._vars.cut})}var c=t.background,h=c.position,p=c.dimensions;this._spinner.css({top:h.top+this._css.border+(.5*p.height-.5*this._css.spinner.dimensions.height),left:h.left+this._css.border+(.5*p.width-.5*this._css.spinner.dimensions.width)})}},getVars:function(){var t=(this._css.padding,this._css.radius,this._css.border),e=this._vars.maxStemHeight||0,i=$.extend({},this._dimensions||{}),s={frames:{},dimensions:i,maxStemHeight:e};s.cut=Math.max(this._css.border,this._css.radius)||0;var o={width:0,height:0},n=0,a=0;return this.tooltip.options.stem&&(o=this.stem_top.getMath().dimensions.outside,n=this.stem_top._css.offset,a=Math.max(o.height-this._css.border,0)),s.stemDimensions=o,s.stemOffset=n,Position.getOrientation(this._side),$.each("top right bottom left".split(" "),$.proxy(function(e,n){var r=Position.getOrientation(n),l="vertical"==r,d={width:i.width+2*t,height:i.height+2*t},c=d[l?"height":"width"]-2*s.cut,h={dimensions:d,stemPx:a,position:{top:0,left:0},background:{dimensions:$.extend({},i),position:{top:0,left:0}}};if(s.frames[n]=h,h.dimensions[l?"width":"height"]+=a,("top"==n||"left"==n)&&(h.background.position[n]+=a),$.extend(h,{shift:{position:{top:0,left:0},dimensions:{width:l?o.height:c,height:l?c:o.height}}}),Browser.IE&&Browser.IE<9){var p=h.shift.dimensions;p.width=Math.round(p.width),p.height=Math.round(p.height)}switch(n){case"top":case"bottom":h.shift.position.left+=s.cut,"bottom"==n&&(h.shift.position.top+=d.height-t-a);break;case"left":case"right":h.shift.position.top+=s.cut,"right"==n&&(h.shift.position.left+=d.width-t-a)}},this)),s.connections={},$.each(Position.positions,$.proxy(function(t,e){s.connections[e]=this.getConnectionLayout(e,s)},this)),s},setDimensions:function(t){this.build();var e=this._dimensions;e&&e.width==t.width&&e.height==t.height||(this._dimensions=t,this._vars=this.getVars())},setSide:function(t){this._side=t,this._vars=this.getVars()},getConnectionLayout:function(t,e){var i=Position.getSide(t),s=Position.getOrientation(t),o=(e.dimensions,e.cut),n=this["stem_"+i],a=e.stemOffset,r=this.tooltip.options.stem?n.getMath().dimensions.outside.width:0,l=o+a+.5*r,d={stem:{}},c={left:0,right:0,up:0,down:0},h={top:0,left:0},p={top:0,left:0},u=e.frames[i],l=0;if("horizontal"==s){var f=u.dimensions.width;this.tooltip.options.stem&&(f=u.shift.dimensions.width,2*a>f-r&&(a=Math.floor(.5*(f-r))||0),l=o+a+.5*r);var m=f-2*a,g=Position.split(t),v=a;switch(g[2]){case"left":c.right=m-r,h.left=l;break;case"middle":v+=Math.round(.5*m-.5*r),c.left=v-a,c.right=v-a,h.left=p.left=Math.round(.5*u.dimensions.width);break;case"right":v+=m-r,c.left=m-r,h.left=u.dimensions.width-l,p.left=u.dimensions.width}"bottom"==g[1]&&(h.top+=u.dimensions.height,p.top+=u.dimensions.height),$.extend(d.stem,{position:{left:v},before:{width:v},after:{left:v+r,width:f-v-r+1}})}else{var b=u.dimensions.height;this.tooltip.options.stem&&(b=u.shift.dimensions.height,2*a>b-r&&(a=Math.floor(.5*(b-r))||0),l=o+a+.5*r);var y=b-2*a,g=Position.split(t),w=a;switch(g[2]){case"top":c.down=y-r,h.top=l;break;case"middle":w+=Math.round(.5*y-.5*r),c.up=w-a,c.down=w-a,h.top=p.top=Math.round(.5*u.dimensions.height);break;case"bottom":w+=y-r,c.up=y-r,h.top=u.dimensions.height-l,p.top=u.dimensions.height}"right"==g[1]&&(h.left+=u.dimensions.width,p.left+=u.dimensions.width),$.extend(d.stem,{position:{top:w},before:{height:w},after:{top:w+r,height:b-w-r+1}})}return d.move=c,d.stem.connection=h,d.connection=p,d},setStemPosition:function(t,e){if(this._stemPosition!=t){this._stemPosition=t;var i=Position.getSide(t);this.setSide(i)}this.tooltip.options.stem&&this.setStemShift(t,e)},setStemShift:function(t,e){var i=this._shift,s=this._dimensions;if(!i||i.stemPosition!=t||i.shift.x!=e.x||i.shift.y!=e.y||!s||i.dimensions.width!=s.width||i.dimensions.height!=s.height){this._shift={stemPosition:t,shift:e,dimensions:s};var o=Position.getSide(t),n={horizontal:"x",vertical:"y"}[Position.getOrientation(t)],a={x:{left:"left",width:"width"},y:{left:"top",width:"height"}}[n],r=this["stem_"+o],l=deepExtend({},this._vars.connections[t].stem);e&&0!==e[n]&&(l.before[a.width]+=e[n],l.position[a.left]+=e[n],l.after[a.left]+=e[n],l.after[a.width]-=e[n]),r.element.css(l.position),r.element.siblings(".tpd-shift-stem-side-before").css(l.before),r.element.siblings(".tpd-shift-stem-side-after").css(l.after)}}}),$.extend(Stem.prototype,{initialize:function(t,e){this.element=$(t),this.element[0]&&(this.skin=e,this.element.removeClass("tpd-stem-reset"),this._css=$.extend({},e._css,{width:this.element.innerWidth(),height:this.element.innerHeight(),offset:parseFloat(this.element.css("margin-left")),spacing:parseFloat(this.element.css("margin-top"))}),this.element.addClass("tpd-stem-reset"),this.options=$.extend({},arguments[2]||{}),this._position=this.element.attr("data-stem-position")||"top",this._m=100,this.build())},destroy:function(){this.element.html("")},build:function(){this.destroy();var t=this._css.backgroundColor,e=t.indexOf("rgba")>-1&&parseFloat(t.replace(/^.*,(.+)\)/,"$1")),i=e&&1>e;this._useTransform=i&&Support.css.transform,this._css.border||(this._useTransform=!1),this[(this._useTransform?"build":"buildNo")+"Transform"]()},buildTransform:function(){this.element.append(this.spacer=$("<div>").addClass("tpd-stem-spacer").append(this.downscale=$("<div>").addClass("tpd-stem-downscale").append(this.transform=$("<div>").addClass("tpd-stem-transform").append(this.first=$("<div>").addClass("tpd-stem-side").append(this.border=$("<div>").addClass("tpd-stem-border")).append($("<div>").addClass("tpd-stem-border-corner")).append($("<div>").addClass("tpd-stem-triangle")))))),this.transform.append(this.last=this.first.clone().addClass("tpd-stem-side-inversed")),this.sides=this.first.add(this.last);var t=this.getMath(),e=t.dimensions,i=this._m,s=Position.getSide(this._position);if(this.element.find(".tpd-stem-spacer").css({width:h?e.inside.height:e.inside.width,height:h?e.inside.width:e.inside.height}),"top"==s||"left"==s){var o={};"top"==s?(o.bottom=0,o.top="auto"):"left"==s&&(o.right=0,o.left="auto"),this.element.find(".tpd-stem-spacer").css(o)}this.transform.css({width:e.inside.width*i,height:e.inside.height*i});var n=Support.css.prefixed("transform"),a={"background-color":"transparent","border-bottom-color":this._css.backgroundColor,"border-left-width":.5*e.inside.width*i,"border-bottom-width":e.inside.height*i};a[n]="translate("+t.border*i+"px, 0)",this.element.find(".tpd-stem-triangle").css(a);var r=this._css.borderColor;alpha=r.indexOf("rgba")>-1&&parseFloat(r.replace(/^.*,(.+)\)/,"$1")),alpha&&1>alpha?r=(r.substring(0,r.lastIndexOf(","))+")").replace("rgba","rgb"):alpha=1;var l={"background-color":"transparent","border-right-width":t.border*i,width:t.border*i,"margin-left":-2*t.border*i,"border-color":r,opacity:alpha};l[n]="skew("+t.skew+"deg) translate("+t.border*i+"px, "+-1*this._css.border*i+"px)",this.element.find(".tpd-stem-border").css(l);var r=this._css.borderColor;alpha=r.indexOf("rgba")>-1&&parseFloat(r.replace(/^.*,(.+)\)/,"$1")),alpha&&1>alpha?r=(r.substring(0,r.lastIndexOf(","))+")").replace("rgba","rgb"):alpha=1;var d={width:t.border*i,"border-right-width":t.border*i,"border-right-color":r,background:r,opacity:alpha,"margin-left":-2*t.border*i};if(d[n]="skew("+t.skew+"deg) translate("+t.border*i+"px, "+(e.inside.height-this._css.border)*i+"px)",this.element.find(".tpd-stem-border-corner").css(d),this.setPosition(this._position),i>1){var c={};c[n]="scale("+1/i+","+1/i+")",this.downscale.css(c)}var h=/^(left|right)$/.test(this._position);this._css.border||this.element.find(".tpd-stem-border, .tpd-stem-border-corner").hide(),this.element.css({width:h?e.outside.height:e.outside.width,height:h?e.outside.width:e.outside.height})},buildNoTransform:function(){this.element.append(this.spacer=$("<div>").addClass("tpd-stem-spacer").append($("<div>").addClass("tpd-stem-notransform").append($("<div>").addClass("tpd-stem-border").append($("<div>").addClass("tpd-stem-border-corner")).append($("<div>").addClass("tpd-stem-border-center-offset").append($("<div>").addClass("tpd-stem-border-center-offset-inverse").append($("<div>").addClass("tpd-stem-border-center"))))).append($("<div>").addClass("tpd-stem-triangle"))));var t=this.getMath(),e=t.dimensions,i=/^(left|right)$/.test(this._position),s=/^(bottom)$/.test(this._position),o=/^(right)$/.test(this._position),n=Position.getSide(this._position);if(this.element.css({width:i?e.outside.height:e.outside.width,height:i?e.outside.width:e.outside.height}),this.element.find(".tpd-stem-notransform").add(this.element.find(".tpd-stem-spacer")).css({width:i?e.inside.height:e.inside.width,height:i?e.inside.width:e.inside.height}),"top"==n||"left"==n){var a={};"top"==n?(a.bottom=0,a.top="auto"):"left"==n&&(a.right=0,a.left="auto"),this.element.find(".tpd-stem-spacer").css(a)}this.element.find(".tpd-stem-border").css({width:"100%",background:"transparent"});var r={opacity:Browser.IE&&Browser.IE<9?this._css.borderOpacity:1};r[i?"height":"width"]="100%",r[i?"width":"height"]=this._css.border,r[s?"top":"bottom"]=0,$.extend(r,o?{left:0}:{right:0}),this.element.find(".tpd-stem-border-corner").css(r);var l={width:0,"background-color":"transparent",opacity:Browser.IE&&Browser.IE<9?this._css.borderOpacity:1},d=.5*e.inside.width+"px solid transparent",c={"background-color":"transparent"};if(.5*e.inside.width-t.border+"px solid transparent",i){var h={left:"auto",top:"50%","margin-top":-.5*e.inside.width,"border-top":d,"border-bottom":d};if($.extend(l,h),l[o?"right":"left"]=0,l[o?"border-left":"border-right"]=e.inside.height+"px solid "+this._css.borderColor,$.extend(c,h),c[o?"border-left":"border-right"]=e.inside.height+"px solid "+this._css.backgroundColor,c[o?"right":"left"]=t.top,c[o?"left":"right"]="auto",Browser.IE&&Browser.IE<8){var p=.5*this._css.width+"px solid transparent";$.extend(c,{"margin-top":-.5*this._css.width,"border-top":p,"border-bottom":p}),c[o?"border-left":"border-right"]=this._css.height+"px solid "+this._css.backgroundColor}this.element.find(".tpd-stem-border-center-offset").css({"margin-left":-1*this._css.border*(o?-1:1)}).find(".tpd-stem-border-center-offset-inverse").css({"margin-left":this._css.border*(o?-1:1)})}else{var h={"margin-left":-.5*e.inside.width,"border-left":d,"border-right":d};if($.extend(l,h),l[s?"border-top":"border-bottom"]=e.inside.height+"px solid "+this._css.borderColor,$.extend(c,h),c[s?"border-top":"border-bottom"]=e.inside.height+"px solid "+this._css.backgroundColor,c[s?"bottom":"top"]=t.top,c[s?"top":"bottom"]="auto",Browser.IE&&Browser.IE<8){var p=.5*this._css.width+"px solid transparent";$.extend(c,{"margin-left":-.5*this._css.width,"border-left":p,"border-right":p}),c[s?"border-top":"border-bottom"]=this._css.height+"px solid "+this._css.backgroundColor}this.element.find(".tpd-stem-border-center-offset").css({"margin-top":-1*this._css.border*(s?-1:1)}).find(".tpd-stem-border-center-offset-inverse").css({"margin-top":this._css.border*(s?-1:1)})}this.element.find(".tpd-stem-border-center").css(l),this.element.find(".tpd-stem-border-corner").css({"background-color":this._css.borderColor}),this.element.find(".tpd-stem-triangle").css(c),this._css.border||this.element.find(".tpd-stem-border").hide()},setPosition:function(t){this._position=t,this.transform.attr("class","tpd-stem-transform tpd-stem-transform-"+t)},getMath:function(){var t=this._css.height,e=this._css.width,i=this._css.border;this._useTransform&&Math.floor(e)%2&&(e=Math.max(Math.floor(e)-1,0));var s=degrees(Math.atan(.5*e/t)),o=90-s,n=i/Math.cos((90-o)*Math.PI/180),a=i/Math.cos((90-s)*Math.PI/180),r={width:e+2*n,height:t+a};Math.max(i,this._css.radius),t=r.height,e=.5*r.width;var l=degrees(Math.atan(t/e)),d=90-l,c=i/Math.cos(d*Math.PI/180),h=180*Math.atan(t/e)/Math.PI,p=-1*(90-h),u=90-h,f=i*Math.tan(u*Math.PI/180),a=i/Math.cos((90-u)*Math.PI/180),m=$.extend({},r),g=$.extend({},r);g.height+=this._css.spacing,g.height=Math.ceil(g.height);var v=!0;return 2*i>=r.width&&(v=!1),{enabled:v,outside:g,dimensions:{inside:m,outside:g},top:a,border:c,skew:p,corner:f}}});var Tooltips={tooltips:{},options:{defaultSkin:"dark",startingZIndex:999999},_emptyClickHandler:function(){},init:function(){this.reset(),this._resizeHandler=$.proxy(this.onWindowResize,this),$(window).bind("resize orientationchange",this._resizeHandler),Browser.MobileSafari&&$("body").bind("click",this._emptyClickHandler)},reset:function(){Tooltips.removeAll(),this._resizeHandler&&$(window).unbind("resize orientationchange",this._resizeHandler),Browser.MobileSafari&&$("body").unbind("click",this._emptyClickHandler)},onWindowResize:function(){
this._resizeTimer&&(window.clearTimeout(this._resizeTimer),this._resizeTimer=null),this._resizeTimer=_.delay($.proxy(function(){var t=this.getVisible();$.each(t,function(t,e){e.clearUpdatedTo(),e.position()})},this),15)},_getTooltips:function(t,e){var i,s=[],o=[];if(_.isElement(t)?(i=$(t).data("tipped-uids"))&&(s=s.concat(i)):$(t).each(function(t,e){(i=$(e).data("tipped-uids"))&&(s=s.concat(i))}),!s[0]&&!e){var n=this.getTooltipByTooltipElement($(t).closest(".tpd-tooltip")[0]);n&&n.element&&(i=$(n.element).data("tipped-uids")||[],i&&(s=s.concat(i)))}return s.length>0&&$.each(s,$.proxy(function(t,e){var i;(i=this.tooltips[e])&&o.push(i)},this)),o},findElement:function(t){var e=[];return _.isElement(t)&&(e=this._getTooltips(t)),e[0]&&e[0].element},get:function(t){var e=$.extend({api:!1},arguments[1]||{}),i=[];return _.isElement(t)?i=this._getTooltips(t):t instanceof $?t.each($.proxy(function(t,e){var s=this._getTooltips(e,!0);s.length>0&&(i=i.concat(s))},this)):"string"==$.type(t)&&$.each(this.tooltips,function(e,s){s.element&&$(s.element).is(t)&&i.push(s)}),e.api&&$.each(i,function(t,e){e.is("api",!0)}),i},getTooltipByTooltipElement:function(t){if(!t)return null;var e=null;return $.each(this.tooltips,function(i,s){s.is("build")&&s._tooltip[0]===t&&(e=s)}),e},getBySelector:function(t){var e=[];return $.each(this.tooltips,function(i,s){s.element&&$(s.element).is(t)&&e.push(s)}),e},getNests:function(){var t=[];return $.each(this.tooltips,function(e,i){i.is("nest")&&t.push(i)}),t},show:function(t){$(this.get(t)).each(function(t,e){e.show(!1,!0)})},hide:function(t){$(this.get(t)).each(function(t,e){e.hide()})},toggle:function(t){$(this.get(t)).each(function(t,e){e.toggle()})},hideAll:function(t){$.each(this.getVisible(),function(e,i){t&&t==i||i.hide()})},refresh:function(t){var e;e=t?$.grep(this.get(t),function(t){return t.is("visible")}):this.getVisible(),$.each(e,function(t,e){e.refresh()})},getVisible:function(){var t=[];return $.each(this.tooltips,function(e,i){i.visible()&&t.push(i)}),t},isVisibleByElement:function(t){var e=!1;return _.isElement(t)&&$.each(this.getVisible()||[],function(i,s){return s.element==t?(e=!0,!1):void 0}),e},getHighestTooltip:function(){var t,e=0;return $.each(this.tooltips,function(i,s){s.zIndex>e&&(e=s.zIndex,t=s)}),t},resetZ:function(){this.getVisible().length<=1&&$.each(this.tooltips,function(t,e){e.is("build")&&!e.options.zIndex&&e._tooltip.css({zIndex:e.zIndex=+Tooltips.options.startingZIndex})})},clearAjaxCache:function(){$.each(this.tooltips,$.proxy(function(t,e){e.options.ajax&&(e._cache&&e._cache.xhr&&(e._cache.xhr.abort(),e._cache.xhr=null),e.is("updated",!1),e.is("updating",!1),e.is("sanitized",!1))},this)),AjaxCache.clear()},add:function(t){this.tooltips[t.uid]=t},remove:function(t){var e=this._getTooltips(t);this.removeTooltips(e)},removeTooltips:function(t){t&&$.each(t,$.proxy(function(t,e){var i=e.uid;delete this.tooltips[i],Browser.IE&&Browser.IE<9?_.defer(function(){e.remove()}):e.remove()},this))},removeDetached:function(){var t=this.getNests(),e=[];t.length>0&&$.each(t,function(t,i){i.is("detached")&&(e.push(i),i.attach())}),$.each(this.tooltips,$.proxy(function(t,e){e.element&&!_.element.isAttached(e.element)&&this.remove(e.element)},this)),$.each(e,function(t,e){e.detach()})},removeAll:function(){$.each(this.tooltips,$.proxy(function(t,e){e.element&&this.remove(e.element)},this)),this.tooltips={}},setDefaultSkin:function(t){this.options.defaultSkin=t||"dark"},setStartingZIndex:function(t){this.options.startingZIndex=t||0}};return Tooltips.Position={inversedPosition:{left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},getInversedPosition:function(t){var e=Position.split(t),i=e[1],s=e[2],o=Position.getOrientation(t),n=$.extend({horizontal:!0,vertical:!0},arguments[1]||{});return"horizontal"==o?(n.vertical&&(i=this.inversedPosition[i]),n.horizontal&&(s=this.inversedPosition[s])):(n.vertical&&(s=this.inversedPosition[s]),n.horizontal&&(i=this.inversedPosition[i])),i+s},getTooltipPositionFromTarget:function(t){var e=Position.split(t);return this.getInversedPosition(e[1]+this.inversedPosition[e[2]])}},$.extend(Tooltip.prototype,{supportsLoading:Support.css.transform&&Support.css.animation,initialize:function(element,content){if(this.element=element,this.element){var options;"object"!=$.type(content)||_.isElement(content)||_.isText(content)||_.isDocumentFragment(content)||content instanceof $?options=arguments[2]||{}:(options=content,content=null);var dataOptions=$(element).data("tipped-options");dataOptions&&(options=deepExtend($.extend({},options),eval("({"+dataOptions+"})"))),this.options=Options.create(options),this._cache={dimensions:{width:0,height:0},events:[],timers:{},layouts:{},is:{},fnCallFn:"",updatedTo:{}},this.queues={showhide:$({})};var title=$(element).attr("title")||$(element).data("tipped-restore-title");if(!content){var dt=$(element).attr("data-tipped");if(dt?content=dt:title&&(content=title),content){var SCRIPT_REGEX=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;content=content.replace(SCRIPT_REGEX,"")}}if((!content||content instanceof $&&!content[0])&&!(this.options.ajax&&this.options.ajax.url||this.options.inline))return void(this._aborted=!0);title&&($(element).data("tipped-restore-title",title),$(element)[0].setAttribute("title","")),this.content=content,this.title=$(this.element).data("tipped-title"),"undefined"!=$.type(this.options.title)&&(this.title=this.options.title),this.zIndex=this.options.zIndex||+Tooltips.options.startingZIndex;var uids=$(element).data("tipped-uids");uids||(uids=[]);var uid=getUID();this.uid=uid,uids.push(uid),$(element).data("tipped-uids",uids);var parentTooltipElement=$(this.element).closest(".tpd-tooltip")[0],parentTooltip;parentTooltipElement&&(parentTooltip=Tooltips.getTooltipByTooltipElement(parentTooltipElement))&&parentTooltip.is("nest",!0);var target=this.options.target;this.target="mouse"==target?this.element:"element"!=target&&target?_.isElement(target)?target:target instanceof $&&target[0]?target[0]:this.element:this.element,this.options.inline&&(this.content=$("#"+this.options.inline)[0]),this.options.ajax&&(this.__content=this.content),"function"==$.type(this.content)&&(this._fn=this.content),this.preBuild(),Tooltips.add(this)}},remove:function(){this.unbind(),this.clearTimers(),this.restoreElementToMarker(),this.stopLoading(),this.abort(),this.is("build")&&this._tooltip&&(this._tooltip.remove(),this._tooltip=null);var t=$(this.element).data("tipped-uids")||[],e=$.inArray(this.uid,t);if(e>-1&&(t.splice(e,1),$(this.element).data("tipped-uids",t)),t.length<1){var i,s="tipped-restore-title";(i=$(this.element).data(s))&&(""!=!$(this.element)[0].getAttribute("title")&&$(this.element).attr("title",i),$(this.element).removeData(s)),$(this.element).removeData("tipped-uids")}var o=$(this.element).attr("class")||"",n=o.replace(/(tpd-delegation-uid-)\d+/g,"").replace(/^\s\s*/,"").replace(/\s\s*$/,"");$(this.element).attr("class",n)},detach:function(){this.options.detach&&!this.is("detached")&&(this._tooltip&&this._tooltip.detach(),this.is("detached",!0))},attach:function(){if(this.is("detached")){var t;if("string"==$.type(this.options.container)){var e=this.target;"mouse"==e&&(e=this.element),t=$($(e).closest(this.options.container).first())}else t=$(this.options.container);t[0]||(t=$(document.body)),t.append(this._tooltip),this.is("detached",!1)}},preBuild:function(){this.is("detached",!0);var t={left:"-10000px",top:"-10000px",opacity:0,zIndex:this.zIndex};this._tooltip=$("<div>").addClass("tpd-tooltip").addClass("tpd-skin-"+Tooltips.options.defaultSkin).addClass("tpd-size-"+this.options.size).css(t).hide(),this.createPreBuildObservers()},build:function(){this.is("build")||(this.attach(),Browser.IE&&Browser.IE<7&&this._tooltip.append(this.iframeShim=$("<iframe>").addClass("tpd-iframeshim").attr({frameBorder:0,src:"javascript:'';"})),this._tooltip.append(this._skin=$("<div>").addClass("tpd-skin")).append(this._contentWrapper=$("<div>").addClass("tpd-content-wrapper").append(this._contentSpacer=$("<div>").addClass("tpd-content-spacer").append(this._titleWrapper=$("<div>").addClass("tpd-title-wrapper").append(this._titleSpacer=$("<div>").addClass("tpd-title-spacer").append(this._titleRelative=$("<div>").addClass("tpd-title-relative").append(this._titleRelativePadder=$("<div>").addClass("tpd-title-relative-padder").append(this._title=$("<div>").addClass("tpd-title"))))).append(this._close=$("<div>").addClass("tpd-close").append($("<div>").addClass("tpd-close-icon").html("&times;")))).append(this._contentRelative=$("<div>").addClass("tpd-content-relative").append(this._contentRelativePadder=$("<div>").addClass("tpd-content-relative-padder").append(this._content=$("<div>").addClass("tpd-content"))).append(this._inner_close=$("<div>").addClass("tpd-close").append($("<div>").addClass("tpd-close-icon").html("&times;")))))),this.skin=new Skin(this),this._contentSpacer.css({"border-radius":Math.max(this.skin._css.radius-this.skin._css.border,0)}),this.createPostBuildObservers(),this.is("build",!0))},createPostBuildObservers:function(){this._tooltip.delegate(".tpd-close, .close-tooltip","click",$.proxy(function(t){t.stopPropagation(),t.preventDefault(),this.is("api",!1),this.hide(!0)},this))},createPreBuildObservers:function(){this.bind(this.element,"mouseenter",this.setActive),this.bind(this._tooltip,Support.touch&&Browser.MobileSafari?"touchstart":"mouseenter",this.setActive),this.bind(this.element,"mouseleave",function(t){this.setIdle(t)}),this.bind(this._tooltip,"mouseleave",function(t){this.setIdle(t)}),this.options.showOn&&($.each(this.options.showOn,$.proxy(function(t,e){var i,s=!1;switch(t){case"element":i=this.element,this.options.hideOn&&this.options.showOn&&"click"==this.options.hideOn.element&&"click"==this.options.showOn.element&&(s=!0,this.is("toggleable",s));break;case"tooltip":i=this._tooltip;break;case"target":i=this.target}if(i&&e){var o=e;this.bind(i,o,"click"==e&&s?function(){this.is("api",!1),this.toggle()}:function(){this.is("api",!1),this.showDelayed()})}},this)),Support.touch&&Browser.MobileSafari&&this.bind(this._tooltip,"touchend",function(){this._tooltipTouchEndTime=(new Date).getTime()})),this.options.hideOn&&$.each(this.options.hideOn,$.proxy(function(t,e){var i;switch(t){case"element":if(this.is("toggleable")&&"click"==e)return;i=this.element;break;case"tooltip":i=this._tooltip;break;case"target":i=this.target}if(i&&e){var s=e;Support.touch&&Browser.MobileSafari&&/^(target|element)/.test(t)&&/mouse(leave|out)/.test(s)?this.bind(i,s,function(t){if(this._tooltipTouchEndTime&&/^mouse(leave|out)$/.test(t.type)){var e=(new Date).getTime();if(e-this._tooltipTouchEndTime<450)return}this.is("api",!1),this.hideDelayed()}):this.bind(i,s,function(){this.is("api",!1),this.hideDelayed()})}},this)),this.options.hideOnClickOutside&&($(this.element).addClass("tpd-hideOnClickOutside"),this.bind(document.documentElement,"click touchend",$.proxy(function(t){if(this.visible()){var e=$(t.target).closest(".tpd-tooltip, .tpd-hideOnClickOutside")[0];(!e||e&&e!=this._tooltip[0]&&e!=this.element)&&this.hide()}},this))),"mouse"==this.options.target&&this.bind(this.element,"mouseenter mousemove",$.proxy(function(t){this._cache.event=t},this));var t=!1;this.options.showOn&&"mouse"==this.options.target&&!this.options.fixed&&(t=!0),t&&this.bind(this.element,"mousemove",function(){this.is("build")&&(this.is("api",!1),this.position())})}}),$.extend(Tooltip.prototype,{stop:function(){if(this._tooltip){var t=this.queues.showhide;t.queue([]),this._tooltip.stop(1,0)}},showDelayed:function(){this.is("disabled")||(this.clearTimer("hide"),this.is("visible")||this.getTimer("show")||this.setTimer("show",$.proxy(function(){this.clearTimer("show"),this.show()},this),this.options.showDelay||1))},show:function(){if(this.clearTimer("hide"),!this.visible()&&!this.is("disabled")&&$(this.target).is(":visible")){this.is("visible",!0),this.attach(),this.stop();var t=this.queues.showhide;this.is("updated")||this.is("updating")||t.queue($.proxy(function(t){this._onResizeDimensions={width:0,height:0},this.update($.proxy(function(e){return e?(this.is("visible",!1),void this.detach()):void t()},this))},this)),t.queue($.proxy(function(t){this.is("sanitized")?(this.stopLoading(),this._contentWrapper.css({visibility:"visible"}),this.is("resize-to-content",!0),t()):(this._contentWrapper.css({visibility:"hidden"}),this.startLoading(),this.sanitize($.proxy(function(){this.stopLoading(),this._contentWrapper.css({visibility:"visible"}),this.is("resize-to-content",!0),t()},this)))},this)),t.queue($.proxy(function(t){this.position(),this.raise(),t()},this)),t.queue($.proxy(function(t){if(this.is("updated")&&"function"==$.type(this.options.onShow)){var e=new Visible(this._tooltip);this.options.onShow(this._content[0],this.element),e.restore(),t()}else t()},this)),t.queue($.proxy(function(t){this._show(this.options.fadeIn,function(){t()})},this))}},_show:function(t,e){t=("number"==$.type(t)?t:this.options.fadeIn)||0,e=e||("function"==$.type(arguments[0])?arguments[0]:!1),this.options.hideOthers&&Tooltips.hideAll(this),this._tooltip.fadeTo(t,1,$.proxy(function(){e&&e()},this))},hideDelayed:function(){this.clearTimer("show"),this.getTimer("hide")||!this.visible()||this.is("disabled")||this.setTimer("hide",$.proxy(function(){this.clearTimer("hide"),this.hide()},this),this.options.hideDelay||1)},hide:function(t,e){if(this.clearTimer("show"),this.visible()&&!this.is("disabled")){this.is("visible",!1),this.stop();var i=this.queues.showhide;i.queue($.proxy(function(t){this.abort(),t()},this)),i.queue($.proxy(function(e){this._hide(t,e)},this)),i.queue(function(t){Tooltips.resetZ(),t()}),i.queue($.proxy(function(t){this.clearUpdatedTo(),t()},this)),"function"==$.type(this.options.afterHide)&&this.is("updated")&&i.queue($.proxy(function(t){this.options.afterHide(this._content[0],this.element),t()},this)),this.options.cache||!this.options.ajax&&!this._fn||i.queue($.proxy(function(t){this.is("updated",!1),this.is("updating",!1),this.is("sanitized",!1),t()},this)),"function"==$.type(e)&&i.queue(function(t){e(),t()}),i.queue($.proxy(function(t){this.detach(),t()},this))}},_hide:function(t,e){e=e||("function"==$.type(arguments[0])?arguments[0]:!1),this.attach(),this._tooltip.fadeTo(t?0:this.options.fadeOut,0,$.proxy(function(){this.stopLoading(),this.is("resize-to-content",!1),this._tooltip.hide(),e&&e()},this))},toggle:function(){this.is("disabled")||this[this.visible()?"hide":"show"]()},raise:function(){if(this.is("build")&&!this.options.zIndex){var t=Tooltips.getHighestTooltip();t&&t!=this&&this.zIndex<=t.zIndex&&(this.zIndex=t.zIndex+1,this._tooltip.css({"z-index":this.zIndex}),this._tooltipShadow&&(this._tooltipShadow.css({"z-index":this.zIndex}),this.zIndex=t.zIndex+2,this._tooltip.css({"z-index":this.zIndex})))}}}),$.extend(Tooltip.prototype,{createElementMarker:function(){!this.elementMarker&&this.content&&_.element.isAttached(this.content)&&($(this.content).data("tpd-restore-inline-display",$(this.content).css("display")),this.elementMarker=$("<div>").hide(),$(this.content).before($(this.elementMarker).hide()))},restoreElementToMarker:function(){var t;this.content,this.elementMarker&&this.content&&((t=$(this.content).data("tpd-restore-inline-display"))&&$(this.content).css({display:t}),$(this.elementMarker).before(this.content).remove())},startLoading:function(){this.is("loading")||(this.build(),this.is("loading",!0),this.options.spinner&&(this._tooltip.addClass("tpd-is-loading"),this.skin.startLoading(),this.is("resize-to-content")||(this.position(),this.raise(),this._show())))},stopLoading:function(){this.build(),this.is("loading",!1),this.options.spinner&&(this._tooltip.removeClass("tpd-is-loading"),this.skin.stopLoading())},abort:function(){this.abortAjax(),this.abortSanitize(),this.is("refreshed-before-sanitized",!1)},abortSanitize:function(){this._cache.voila&&(this._cache.voila.abort(),this._cache.voila=null)},abortAjax:function(){this._cache.xhr&&(this._cache.xhr.abort(),this._cache.xhr=null,this.is("updated",!1),this.is("updating",!1))},update:function(t){if(!this.is("updating")){this.is("updating",!0),this.build();var e=this.options.inline?"inline":this.options.ajax?"ajax":_.isElement(this.content)||_.isText(this.content)||_.isDocumentFragment(this.content)?"element":this._fn?"function":"html";switch(this._contentWrapper.css({visibility:"hidden"}),e){case"html":case"element":case"inline":if(this.is("updated"))return void(t&&t());this._update(this.content,t);break;case"function":if(this.is("updated"))return void(t&&t());var i=this._fn(this.element);if(!i)return this.is("updating",!1),void(t&&t(!0));this._update(i,t)}}},_update:function(t,e){var i={title:this.options.title,close:this.options.close};"string"==$.type(t)||_.isElement(t)||_.isText(t)||_.isDocumentFragment(t)||t instanceof $?i.content=t:$.extend(i,t);var t=i.content,s=i.title,o=i.close;this.content=t,this.title=s,this.close=o,this.createElementMarker(),(_.isElement(t)||t instanceof $)&&$(t).show(),this._content.html(this.content),this._title.html(s&&"string"==$.type(s)?s:""),this._titleWrapper[s?"show":"hide"](),this._close[(this.title||this.options.title)&&o?"show":"hide"]();var n=o&&!(this.options.title||this.title),a=o&&!(this.options.title||this.title)&&"overlap"!=o,r=o&&(this.options.title||this.title)&&"overlap"!=o;this._inner_close[n?"show":"hide"](),this._tooltip[(a?"add":"remove")+"Class"]("tpd-has-inner-close"),this._tooltip[(r?"add":"remove")+"Class"]("tpd-has-title-close"),this._content[(this.options.padding?"remove":"add")+"Class"]("tpd-content-no-padding"),this.finishUpdate(e)},sanitize:function(t){return!this.options.voila||this._content.find("img").length<1?(this.is("sanitized",!0),void(t&&t())):void(this._cache.voila=Voila(this._content,{method:"onload"},$.proxy(function(e){this._markImagesAsSanitized(e.images),this.is("refreshed-before-sanitized")?(this.is("refreshed-before-sanitized",!1),this.sanitize(t)):(this.is("sanitized",!0),t&&t())},this)))},_markImagesAsSanitized:function(t){$.each(t,function(t,e){var i=e.img;$(i).data("completed-src",e.img.src)})},_hasAllImagesSanitized:function(){var t=!0;return this._content.find("img").each(function(e,i){var s=$(i).data("completed-src");return s&&i.src==s?void 0:(t=!1,!1)}),t},refresh:function(){if(this.visible()){if(!this.is("sanitized"))return void this.is("refreshed-before-sanitized",!0);this.is("refreshing",!0),this.clearTimer("refresh-spinner"),!this.options.voila||this._content.find("img").length<1||this._hasAllImagesSanitized()?(this.is("should-update-dimensions",!0),this.position(),this.is("refreshing",!1)):(this.is("sanitized",!1),this._contentWrapper.css({visibility:"hidden"}),this.startLoading(),this.sanitize($.proxy(function(){this._contentWrapper.css({visibility:"visible"}),this.stopLoading(),this.is("should-update-dimensions",!0),this.position(),this.is("refreshing",!1)},this)))}},finishUpdate:function(t){if(this.is("updated",!0),this.is("updating",!1),"function"==$.type(this.options.afterUpdate)){var e=this._contentWrapper.css("visibility");e&&this._contentWrapper.css({visibility:"visible"}),this.options.afterUpdate(this._content[0],this.element),e&&this._contentWrapper.css({visibility:"hidden"})}t&&t()}}),$.extend(Tooltip.prototype,{clearUpdatedTo:function(){this._cache.updatedTo={}},updateDimensionsToContent:function(t,e){this.skin.build();var i=this.is("loading"),s=this._cache.updatedTo;if((this._maxWidthPass||this.is("api")||this.is("should-update-dimensions")||s.stemPosition!=e||s.loading!=i)&&(!i||!this.is("resize-to-content"))){this._cache.updatedTo={type:this.is("resize-to-content")?"content":"spinner",loading:this.is("loading"),stemPosition:e},this.is("should-update-dimensions")&&this.is("should-update-dimensions",!1);var t=t||this.options.position.target,e=e||this.options.position.tooltip,o=Position.getSide(e),n=Position.getOrientation(e),a=this.skin._css.border;this._tooltip.addClass("tpd-tooltip-measuring");var r=this._tooltip.attr("style");this._tooltip.removeAttr("style");var l={top:a,right:a,bottom:a,left:a},d=0;if("vertical"==Position.getOrientation(e)){this.options.stem&&(l[o]=this.skin["stem_"+o].getMath().dimensions.outside.height);var c=this.getMouseRoom();c[Position._flip[o]]&&(l[o]+=c[Position._flip[o]]);var h=this.getContainmentLayout(e),p=this.getPaddingLine(t),u=!1;Position.isPointWithinBoxLayout(p.x1,p.y1,h)||Position.isPointWithinBoxLayout(p.x2,p.y2,h)?u=!0:$.each("top right bottom left".split(" "),$.proxy(function(t,e){var i=this.getSideLine(h,e);return Position.intersectsLine(p.x1,p.y1,p.x2,p.y2,i.x1,i.y1,i.x2,i.y2)?(u=!0,!1):void 0},this)),u&&(d="left"==o?p.x1-h.position.left:h.position.left+h.dimensions.width-p.x1,l[o]+=d)}if(this.options.offset&&"vertical"==n){var f=Position.adjustOffsetBasedOnPosition(this.options.offset,this.options.position.target,t);0!==f.x&&(l.right+=Math.abs(f.x))}var d;this.options.containment&&(d=this.options.containment.padding)&&($.each(l,function(t){l[t]+=d}),"vertical"==n?l["left"==o?"left":"right"]-=d:l["top"==o?"top":"bottom"]-=d);var m=Bounds.viewport(),g=this.close&&"overlap"!=this.close&&!this.title,v={width:0,height:0};g&&(v=this._innerCloseDimensions||{width:this._inner_close.outerWidth(!0),height:this._inner_close.outerHeight(!0)},this._innerCloseDimensions=v),this._contentRelativePadder.css({"padding-right":v.width}),this._contentSpacer.css({width:m.width-l.left-l.right});var b={width:this._content.innerWidth()+v.width,height:Math.max(this._content.innerHeight(),v.height||0)},y={width:0,height:0};if(this.title){var w={width:0,height:0};this._titleWrapper.add(this._titleSpacer).css({width:"auto",height:"auto"}),this.close&&"overlap"!=this.close&&(w={width:this._close.outerWidth(!0),height:this._close.outerHeight(!0)},this._close.hide()),this._maxWidthPass&&b.width>this.options.maxWidth&&this._titleRelative.css({width:b.width}),this._titleRelativePadder.css({"padding-right":w.width});var x=parseFloat(this._titleWrapper.css("border-bottom-width"));y={width:this.title?this._titleWrapper.innerWidth():0,height:Math.max(this.title?this._titleWrapper.innerHeight()+x:0,w.height+x)},y.width>m.width-l.left-l.right&&(y.width=m.width-l.left-l.right,this._titleSpacer.css({width:y.width}),y.height=Math.max(this.title?this._titleWrapper.innerHeight()+x:0,w.height+x)),b.width=Math.max(y.width,b.width),b.height+=y.height,this._titleWrapper.css({height:Math.max(this.title?this._titleWrapper.innerHeight():0,w.height)}),this.close&&this._close.show()}if(this.options.stem){var _="vertical"==n?"height":"width",k=this.skin["stem_"+o].getMath(),C=k.outside.width+2*this.skin._css.radius;b[_]<C&&(b[_]=C)}if(this._contentSpacer.css({width:b.width}),b.height!=Math.max(this._content.innerHeight(),v.height)+(this.title?this._titleRelative.outerHeight():0)&&b.width++,this.is("resize-to-content")||(b=this.skin._css.spinner.dimensions),this.setDimensions(b),l={top:a,right:a,bottom:a,left:a},this.options.stem){var T=Position.getSide(e);l[T]=this.skin.stem_top.getMath().dimensions.outside.height}this._contentSpacer.css({"margin-top":l.top,"margin-left":+l.left,width:b.width}),(this.title||this.close)&&this._titleWrapper.css({height:this._titleWrapper.innerHeight(),width:b.width}),this._tooltip.removeClass("tpd-tooltip-measuring"),this._tooltip.attr("style",r);var D=this._contentRelative.add(this._titleRelative);this.options.maxWidth&&b.width>this.options.maxWidth&&!this._maxWidthPass&&this.is("resize-to-content")&&(D.css({width:this.options.maxWidth}),this._maxWidthPass=!0,this.updateDimensionsToContent(t,e),this._maxWidthPass=!1,D.css({width:"auto"}))}},setDimensions:function(t){this.skin.setDimensions(t)},getContainmentSpace:function(t,e){var i=this.getContainmentLayout(t,e),s=this.getTargetLayout(),o=s.position,n=s.dimensions,a=i.position,r=i.dimensions,l={top:Math.max(o.top-a.top,0),bottom:Math.max(a.top+r.height-(o.top+n.height),0),left:Math.max(o.left-a.left,0),right:Math.max(a.left+r.width-(o.left+n.width),0)};return o.top>a.top+r.height&&(l.top-=o.top-(a.top+r.height)),o.top+n.height<a.top&&(l.bottom-=a.top-(o.top+n.height)),o.left>a.left+r.width&&a.left+r.width>=o.left&&(l.left-=o.left-(a.left+r.width)),o.left+n.width<a.left&&(l.right-=a.left-(o.left+n.width)),this._cache.layouts.containmentSpace=l,l},position:function(){if(this.visible()){this.is("positioning",!0),this._cache.layouts={},this._cache.dimensions;var t=this.options.position.target,e=this.options.position.tooltip,i=e,s=t;this.updateDimensionsToContent(s,i);var o=this.getPositionBasedOnTarget(s,i),n=deepExtend(o),a=[];if(this.options.containment){var r=!1,l={};if($.each("top right bottom left".split(" "),$.proxy(function(t,e){(l[e]=this.isSideWithinContainment(e,i,!0))&&(r=!0)},this)),r||(n.contained=!0),n.contained)this.setPosition(n);else{a.unshift({position:n,targetPosition:s,stemPosition:i});var d=Position.flip(t);if(s=d,i=Position.flip(e),l[Position.getSide(s)]?(this.updateDimensionsToContent(s,i),n=this.getPositionBasedOnTarget(s,i)):n.contained=!1,n.contained)this.setPosition(n,i);else{a.unshift({position:n,targetPosition:s,stemPosition:i});var c,h=t,p=this.getContainmentSpace(i,!0),u="horizontal"==Position.getOrientation(h)?["left","right"]:["top","bottom"];c=p[u[0]]===p[u[1]]?"horizontal"==Position.getOrientation(h)?"left":"top":u[p[u[0]]>p[u[1]]?0:1];var f=Position.split(h)[1],m=c+f,g=Position.flip(m);if(s=m,i=g,l[Position.getSide(s)]?(this.updateDimensionsToContent(s,i),n=this.getPositionBasedOnTarget(s,i)):n.contained=!1,n.contained)this.setPosition(n,i);else{a.unshift({position:n,targetPosition:s,stemPosition:i});var v,b=[];if($.each(a,function(t,e){if(e.position.top>=0&&e.position.left>=0)v=e;else{var i=e.position.top>=0?1:Math.abs(e.position.top),s=e.position.left>=0?1:Math.abs(e.position.left);b.push({result:e,negativity:i*s})}}),!v){var y=b[b.length-1];$.each(b,function(t,e){e.negativity<y.negativity&&(y=e)}),v=y.result}this.updateDimensionsToContent(v.targetPosition,v.stemPosition,!0),this.setPosition(v.position,v.stemPosition)}}}}else this.setPosition(n);this._cache.dimensions=this.skin._vars.dimensions,this.skin.paint(),this.is("positioning",!1)}},getPositionBasedOnTarget:function(t,e){var e=e||this.options.position.tooltip,i=this.getTargetDimensions(),s={left:0,top:0},o={left:0,top:0};Position.getSide(t);var n=this.skin._vars,a=n.frames[Position.getSide(e)],r=Position.getOrientation(t),l=Position.split(t);if("horizontal"==r){var d=Math.floor(.5*i.width);switch(l[2]){case"left":o.left=d;break;case"middle":s.left=i.width-d,o.left=s.left;break;case"right":s.left=i.width,o.left=i.width-d}"bottom"==l[1]&&(s.top=i.height,o.top=i.height)}else{var d=Math.floor(.5*i.height);switch(l[2]){case"top":o.top=d;break;case"middle":s.top=i.height-d,o.top=s.top;break;case"bottom":o.top=i.height-d,s.top=i.height}"right"==l[1]&&(s.left=i.width,o.left=i.width)}var c=this.getTargetPosition(),h=$.extend({},i,{top:c.top,left:c.left,connection:s,max:o}),p={width:a.dimensions.width,height:a.dimensions.height,top:0,left:0,connection:n.connections[e].connection,stem:n.connections[e].stem};if(p.top=h.top+h.connection.top,p.left=h.left+h.connection.left,p.top-=p.connection.top,p.left-=p.connection.left,this.options.stem){var u=n.stemDimensions.width,f={stem:{top:p.top+p.stem.connection.top,left:p.left+p.stem.connection.left},connection:{top:h.top+h.connection.top,left:h.left+h.connection.left},max:{top:h.top+h.max.top,left:h.left+h.max.left}};if(!Position.isPointWithinBox(f.stem.left,f.stem.top,f.connection.left,f.connection.top,f.max.left,f.max.top)){var f={stem:{top:p.top+p.stem.connection.top,left:p.left+p.stem.connection.left},connection:{top:h.top+h.connection.top,left:h.left+h.connection.left},max:{top:h.top+h.max.top,left:h.left+h.max.left}},m={connection:Position.getDistance(f.stem.left,f.stem.top,f.connection.left,f.connection.top),max:Position.getDistance(f.stem.left,f.stem.top,f.max.left,f.max.top)},g=Math.min(m.connection,m.max),v=f[m.connection<=m.max?"connection":"max"],b="horizontal"==Position.getOrientation(e)?"left":"top",y=Position.getDistance(f.connection.left,f.connection.top,f.max.left,f.max.top);if(y>=u){var w={top:0,left:0},x=v[b]<f.stem[b]?-1:1;w[b]=g*x,w[b]+=Math.floor(.5*u)*x,p.left+=w.left,p.top+=w.top}else{$.extend(f,{center:{top:Math.round(h.top+.5*i.height),left:Math.round(h.left+.5*i.left)}});var _={connection:Position.getDistance(f.center.left,f.center.top,f.connection.left,f.connection.top),max:Position.getDistance(f.center.left,f.center.top,f.max.left,f.max.top)},g=m[_.connection<=_.max?"connection":"max"],k={top:0,left:0},x=v[b]<f.stem[b]?-1:1;k[b]=g*x,p.left+=k.left,p.top+=k.top}}}if(this.options.offset){var C=$.extend({},this.options.offset);C=Position.adjustOffsetBasedOnPosition(C,this.options.position.target,t),p.top+=C.y,p.left+=C.x}var T=this.getContainment({top:p.top,left:p.left},e),D=T.horizontal&&T.vertical,S={x:0,y:0},E=Position.getOrientation(e);if(!T[E]){var M="horizontal"==E,I=M?["left","right"]:["up","down"],P=M?"x":"y",O=M?"left":"top",A=T.correction[P],F=this.getContainmentLayout(e),z=F.position[M?"left":"top"];if(0!==A){var j=n.connections[e].move,U=j[I[0>-1*A?0:1]],L=0>A?-1:1;if(U>=A*L&&p[O]+A>=z)p[O]+=A,S[P]=-1*A,D=!0;else if(Position.getOrientation(t)==Position.getOrientation(e)){if(p[O]+=U*L,S[P]=-1*U*L,p[O]<z){var R=z-p[O],N=j[I[0]]+j[I[1]],R=Math.min(R,N);p[O]+=R;var B=S[P]-R;B>=n.connections[e].move[I[0]]&&B<=n.connections[e].move[I[1]]&&(S[P]-=R)}T=this.getContainment({top:p.top,left:p.left},e);var H=T.correction[P],Y=deepExtend({},p);this.options.offset&&(Y.left-=this.options.offset.x,Y.top-=this.options.offset.y);var f={stem:{top:Y.top+p.stem.connection.top,left:Y.left+p.stem.connection.left}};f.stem[O]+=S[P];var W=this.getTargetLayout(),u=n.stemDimensions.width,q=Math.floor(.5*u),V=z+F.dimensions[M?"width":"height"];if("x"==P){var Q=W.position.left+q;H>0&&(Q+=W.dimensions.width-2*q),(0>H&&f.stem.left+H>=Q&&Y.left+H>=z||H>0&&f.stem.left+H<=Q&&Y.left+H<=V)&&(Y.left+=H)}else{var Z=W.position.top+q;H>0&&(Z+=W.dimensions.height-2*q),(0>H&&f.stem.top+H>=Z&&Y.top+H>=z||H>0&&f.stem.top+H<=Z&&Y.top+H<=V)&&(Y.top+=H)}p=Y,this.options.offset&&(p.left+=this.options.offset.x,p.top+=this.options.offset.y)}}T=this.getContainment({top:p.top,left:p.left},e),D=T.horizontal&&T.vertical}return{top:p.top,left:p.left,contained:D,shift:S}},setPosition:function(t,e){var i=this._position;if(!i||i.top!=t.top||i.left!=t.left){var s;if(this.options.container!=document.body){if("string"==$.type(this.options.container)){var o=this.target;"mouse"==o&&(o=this.element),s=$($(o).closest(this.options.container).first())}else s=$(s);if(s[0]){var n=$(s).offset(),a={top:Math.round(n.top),left:Math.round(n.left)},r={top:Math.round($(s).scrollTop()),left:Math.round($(s).scrollLeft())};t.top-=a.top,t.top+=r.top,t.left-=a.left,t.left+=r.left}}this._position=t,this._tooltip.css({top:t.top,left:t.left})}this.skin.setStemPosition(e||this.options.position.tooltip,t.shift||{x:0,y:0})},getSideLine:function(t,e){var i=t.position.left,s=t.position.top,o=t.position.left,n=t.position.top;switch(e){case"top":o+=t.dimensions.width;break;case"bottom":s+=t.dimensions.height,o+=t.dimensions.width,n+=t.dimensions.height;break;case"left":n+=t.dimensions.height;break;case"right":i+=t.dimensions.width,o+=t.dimensions.width,n+=t.dimensions.height}return{x1:i,y1:s,x2:o,y2:n}},isSideWithinContainment:function(t,e,i){var s=this.getContainmentLayout(e,i),o=this.getTargetLayout(),n=this.getSideLine(o,t);if(Position.isPointWithinBoxLayout(n.x1,n.y1,s)||Position.isPointWithinBoxLayout(n.x2,n.y2,s))return!0;var a=!1;return $.each("top right bottom left".split(" "),$.proxy(function(t,e){var i=this.getSideLine(s,e);return Position.intersectsLine(n.x1,n.y1,n.x2,n.y2,i.x1,i.y1,i.x2,i.y2)?(a=!0,!1):void 0},this)),a},getContainment:function(t,e){var i={horizontal:!0,vertical:!0,correction:{y:0,x:0}};if(this.options.containment){var s=this.getContainmentLayout(e),o=this.skin._vars.frames[Position.getSide(e)].dimensions;
this.options.containment&&((t.left<s.position.left||t.left+o.width>s.position.left+s.dimensions.width)&&(i.horizontal=!1,i.correction.x=t.left<s.position.left?s.position.left-t.left:s.position.left+s.dimensions.width-(t.left+o.width)),(t.top<s.position.top||t.top+o.height>s.position.top+s.dimensions.height)&&(i.vertical=!1,i.correction.y=t.top<s.position.top?s.position.top-t.top:s.position.top+s.dimensions.height-(t.top+o.height)))}return i},getContainmentLayout:function(t,e){var i={top:$(window).scrollTop(),left:$(window).scrollLeft()},s=this.target;"mouse"==s&&(s=this.element);var o,n=$(s).closest(this.options.containment.selector).first()[0];o=n&&"viewport"!=this.options.containment.selector?{dimensions:{width:$(n).innerWidth(),height:$(n).innerHeight()},position:$(n).offset()}:{dimensions:Bounds.viewport(),position:i};var a=this.options.containment.padding;if(a&&!e){var r=Math.max(o.dimensions.height,o.dimensions.width);if(2*a>r&&(a=Math.max(Math.floor(.5*r),0)),a){o.dimensions.width-=2*a,o.dimensions.height-=2*a,o.position.top+=a,o.position.left+=a;var l=Position.getOrientation(t);"vertical"==l?(o.dimensions.width+=a,"left"==Position.getSide(t)&&(o.position.left-=a)):(o.dimensions.height+=a,"top"==Position.getSide(t)&&(o.position.top-=a))}}return this._cache.layouts.containmentLayout=o,o},getMouseRoom:function(){var t={top:0,left:0,right:0,bottom:0};if("mouse"==this.options.target&&!this.is("api")){var e=Mouse.getActualPosition(this._cache.event),i=$(this.element).offset(),s={width:$(this.element).innerWidth(),height:$(this.element).innerHeight()};t={top:Math.max(0,e.top-i.top),bottom:Math.max(0,i.top+s.height-e.top),left:Math.max(0,e.left-i.left),right:Math.max(0,i.left+s.width-e.left)}}return t},getTargetPosition:function(){var t;if("mouse"==this.options.target)if(this.is("api")){var e=$(this.element).offset();t={top:Math.round(e.top),left:Math.round(e.left)}}else t=Mouse.getPosition(this._cache.event);else{var e=$(this.target).offset();t={top:Math.round(e.top),left:Math.round(e.left)}}return this._cache.layouts.targetPosition=t,t},getTargetDimensions:function(){if(this._cache.layouts.targetDimensions)return this._cache.layouts.targetDimensions;var t;return t="mouse"==this.options.target?Mouse.getDimensions():{width:$(this.target).innerWidth(),height:$(this.target).innerHeight()},this._cache.layouts.targetDimensions=t,t},getTargetLayout:function(){if(this._cache.layouts.targetLayout)return this._cache.layouts.targetLayout;var t={position:this.getTargetPosition(),dimensions:this.getTargetDimensions()};return this._cache.layouts.targetLayout=t,t},getPaddingLine:function(t){var e=this.getTargetLayout(),i="left";if("vertical"==Position.getOrientation(t))return this.getSideLine(e,Position.getSide(t));if(Position.isCorner(t)){var s=Position.inverseCornerPlane(t);return i=Position.getSide(s),this.getSideLine(e,i)}var o=this.getSideLine(e,i),n=Math.round(.5*e.dimensions.width);return o.x1+=n,o.x2+=n,o}}),$.extend(Tooltip.prototype,{setActive:function(){this.is("active",!0),this.visible()&&this.raise(),this.options.hideAfter&&this.clearTimer("idle")},setIdle:function(){this.is("active",!1),this.options.hideAfter&&this.setTimer("idle",$.proxy(function(){this.clearTimer("idle"),this.is("active")||this.hide()},this),this.options.hideAfter)}}),$.extend(Tooltip.prototype,{bind:function(t,e,i,s){e=e;var o=$.proxy(i,s||this);this._cache.events.push({element:t,eventName:e,handler:o}),$(t).bind(e,o)},unbind:function(){$.each(this._cache.events,function(t,e){$(e.element).unbind(e.eventName,e.handler)}),this._cache.events=[]}}),$.extend(Tooltip.prototype,{disable:function(){this.is("disabled")||this.is("disabled",!0)},enable:function(){this.is("disabled")&&this.is("disabled",!1)}}),$.extend(Tooltip.prototype,{is:function(t,e){return"boolean"==$.type(e)&&(this._cache.is[t]=e),this._cache.is[t]},visible:function(){return this.is("visible")}}),$.extend(Tooltip.prototype,{setTimer:function(t,e,i){this._cache.timers[t]=_.delay(e,i)},getTimer:function(t){return this._cache.timers[t]},clearTimer:function(t){this._cache.timers[t]&&(clearTimeout(this._cache.timers[t]),delete this._cache.timers[t])},clearTimers:function(){$.each(this._cache.timers,function(t,e){clearTimeout(e)}),this._cache.timers={}}}),$.extend(Tipped,{init:function(){Tooltips.init()},create:function(t,e){var i=$.extend({},arguments[2]||{}),s=[];return _.isElement(t)?s.push(new Tooltip(t,e,i)):$(t).each(function(t,o){s.push(new Tooltip(o,e,i))}),new Collection(s)},get:function(t){var e=Tooltips.get(t);return new Collection(e)},findElement:function(t){return Tooltips.findElement(t)},refresh:function(t,e,i){return Tooltips.refresh(t,e,i),this},setStartingZIndex:function(t){return Tooltips.setStartingZIndex(t),this},remove:function(t){return Tooltips.remove(t),this}}),$.extend(Collection.prototype,{initialize:function(t){return this.tooltips=t,this},items:function(){return $.each(this.tooltips,function(t,e){e.is("api",!0)}),this.tooltips},refresh:function(){return $.each(this._tooltips,function(t,e){e.is("visible")&&e.refresh()}),this},remove:function(){return Tooltips.removeTooltips(this.tooltips),this.tooltips=[],this}}),Tipped.init(),Tipped}),function(){function t(e){var i=t.modules[e];if(!i)throw new Error('failed to require "'+e+'"');return"exports"in i||"function"!=typeof i.definition||(i.client=i.component=!0,i.definition.call(this,i.exports={},i),delete i.definition),i.exports}t.loader="component",t.helper={},t.helper.semVerSort=function(t,e){for(var i=t.version.split("."),s=e.version.split("."),o=0;o<i.length;++o){var n=parseInt(i[o],10),a=parseInt(s[o],10);if(n!==a)return n>a?1:-1;var r=i[o].substr((""+n).length),l=s[o].substr((""+a).length);if(""===r&&""!==l)return 1;if(""!==r&&""===l)return-1;if(""!==r&&""!==l)return r>l?1:-1}return 0},t.latest=function(e,i){function s(t){throw new Error('failed to find latest module of "'+t+'"')}var o=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/,n=/(.*)~(.*)/;n.test(e)||s(e);for(var a=Object.keys(t.modules),r=[],l=[],d=0;d<a.length;d++){var c=a[d];if(new RegExp(e+"@").test(c)){var h=c.substr(e.length+1),p=o.exec(c);null!=p?r.push({version:h,name:c}):l.push({version:h,name:c})}}if(0===r.concat(l).length&&s(e),r.length>0){var u=r.sort(t.helper.semVerSort).pop().name;return i===!0?u:t(u)}var u=l.sort(function(t,e){return t.name>e.name})[0].name;return i===!0?u:t(u)},t.modules={},t.register=function(e,i){t.modules[e]={definition:i}},t.define=function(e,i){t.modules[e]={exports:i}},t.register("abpetkov~transitionize@0.0.3",function(t,e){function i(t,e){return this instanceof i?(this.element=t,this.props=e||{},void this.init()):new i(t,e)}e.exports=i,i.prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},i.prototype.init=function(){var t=[];for(var e in this.props)t.push(e+" "+this.props[e]);this.element.style.transition=t.join(", "),this.isSafari()&&(this.element.style.webkitTransition=t.join(", "))}}),t.register("ftlabs~fastclick@v0.6.11",function(t,e){function i(t){"use strict";var e,s=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=t,!t||!t.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return i.prototype.onClick.apply(s,arguments)},this.onMouse=function(){return i.prototype.onMouse.apply(s,arguments)},this.onTouchStart=function(){return i.prototype.onTouchStart.apply(s,arguments)},this.onTouchMove=function(){return i.prototype.onTouchMove.apply(s,arguments)},this.onTouchEnd=function(){return i.prototype.onTouchEnd.apply(s,arguments)},this.onTouchCancel=function(){return i.prototype.onTouchCancel.apply(s,arguments)},i.notNeeded(t)||(this.deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,s){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,i.hijacked||i,s):o.call(t,e,i,s)},t.addEventListener=function(e,i,s){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),s):o.call(t,e,i,s)}),"function"==typeof t.onclick&&(e=t.onclick,t.addEventListener("click",function(t){e(t)},!1),t.onclick=null))}i.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,i.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),i.prototype.deviceIsIOS4=i.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),i.prototype.deviceIsIOSWithBadTarget=i.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),i.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},i.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},i.prototype.sendClick=function(t,e){"use strict";var i,s;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),s=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},i.prototype.determineEventType=function(t){"use strict";return this.deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},i.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},i.prototype.updateScrollParent=function(t){"use strict";var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},i.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},i.prototype.onTouchStart=function(t){"use strict";var e,i,s;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],this.deviceIsIOS){if(s=window.getSelection(),s.rangeCount&&!s.isCollapsed)return!0;if(!this.deviceIsIOS4){if(i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},i.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i?!0:!1},i.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},i.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},i.prototype.onTouchEnd=function(t){"use strict";var e,i,s,o,n,a=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(n=t.changedTouches[0],a=document.elementFromPoint(n.pageX-window.pageXOffset,n.pageY-window.pageYOffset)||a,a.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=a.tagName.toLowerCase(),"label"===s){if(e=this.findControl(a)){if(this.focus(a),this.deviceIsAndroid)return!1;a=e}}else if(this.needsFocus(a))return t.timeStamp-i>100||this.deviceIsIOS&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(a),this.deviceIsIOS4&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(o=a.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(a)||(t.preventDefault(),this.sendClick(a,t)),!1)},i.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},i.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},i.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},i.prototype.destroy=function(){"use strict";var t=this.layer;this.deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},i.notNeeded=function(t){"use strict";var e,s;if("undefined"==typeof window.ontouchstart)return!0;if(s=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i.prototype.deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(s>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction?!0:!1},i.attach=function(t){"use strict";return new i(t)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return i}):"undefined"!=typeof e&&e.exports?(e.exports=i.attach,e.exports.FastClick=i):window.FastClick=i}),t.register("component~indexof@0.0.3",function(t,e){e.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;++i)if(t[i]===e)return i;return-1}}),t.register("component~classes@1.2.1",function(e,i){function s(t){if(!t)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}var o=t("component~indexof@0.0.3"),n=/\s+/,a=Object.prototype.toString;i.exports=function(t){return new s(t)},s.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array(),i=o(e,t);return~i||e.push(t),this.el.className=e.join(" "),this},s.prototype.remove=function(t){if("[object RegExp]"==a.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),i=o(e,t);return~i&&e.splice(i,1),this.el.className=e.join(" "),this},s.prototype.removeMatching=function(t){for(var e=this.array(),i=0;i<e.length;i++)t.test(e[i])&&this.remove(e[i]);return this},s.prototype.toggle=function(t,e){return this.list?("undefined"!=typeof e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):("undefined"!=typeof e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},s.prototype.array=function(){var t=this.el.className.replace(/^\s+|\s+$/g,""),e=t.split(n);return""===e[0]&&e.shift(),e},s.prototype.has=s.prototype.contains=function(t){return this.list?this.list.contains(t):!!~o(this.array(),t)}}),t.register("component~event@0.1.4",function(t,e){var i=window.addEventListener?"addEventListener":"attachEvent",s=window.removeEventListener?"removeEventListener":"detachEvent",o="addEventListener"!==i?"on":"";t.bind=function(t,e,s,n){return t[i](o+e,s,n||!1),s},t.unbind=function(t,e,i,n){return t[s](o+e,i,n||!1),i}}),t.register("component~query@0.0.3",function(t,e){function i(t,e){return e.querySelector(t)}t=e.exports=function(t,e){return e=e||document,i(t,e)},t.all=function(t,e){return e=e||document,e.querySelectorAll(t)},t.engine=function(e){if(!e.one)throw new Error(".one callback required");if(!e.all)throw new Error(".all callback required");return i=e.one,t.all=e.all,t}}),t.register("component~matches-selector@0.1.5",function(e,i){function s(t,e){if(!t||1!==t.nodeType)return!1;if(a)return a.call(t,e);for(var i=o.all(e,t.parentNode),s=0;s<i.length;++s)if(i[s]==t)return!0;return!1}var o=t("component~query@0.0.3"),n=Element.prototype,a=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;i.exports=s}),t.register("component~closest@0.1.4",function(e,i){var s=t("component~matches-selector@0.1.5");i.exports=function(t,e,i,o){for(t=i?{parentNode:t}:t,o=o||document;(t=t.parentNode)&&t!==document;){if(s(t,e))return t;if(t===o)return}}}),t.register("component~delegate@0.2.3",function(e,i){var s=t("component~closest@0.1.4"),o=t("component~event@0.1.4");e.bind=function(t,e,i,n,a){return o.bind(t,i,function(i){var o=i.target||i.srcElement;i.delegateTarget=s(o,e,!0,t),i.delegateTarget&&n.call(t,i)},a)},e.unbind=function(t,e,i,s){o.unbind(t,e,i,s)}}),t.register("component~events@1.0.9",function(e,i){function s(t,e){if(!(this instanceof s))return new s(t,e);if(!t)throw new Error("element required");if(!e)throw new Error("object required");this.el=t,this.obj=e,this._events={}}function o(t){var e=t.split(/ +/);return{name:e.shift(),selector:e.join(" ")}}var n=t("component~event@0.1.4"),a=t("component~delegate@0.2.3");i.exports=s,s.prototype.sub=function(t,e,i){this._events[t]=this._events[t]||{},this._events[t][e]=i},s.prototype.bind=function(t,e){function i(){var t=[].slice.call(arguments).concat(c);l[e].apply(l,t)}var s=o(t),r=this.el,l=this.obj,d=s.name,e=e||"on"+d,c=[].slice.call(arguments,2);return s.selector?i=a.bind(r,s.selector,d,i):n.bind(r,d,i),this.sub(d,e,i),i},s.prototype.unbind=function(t,e){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(t);var i=this._events[t];if(i){var s=i[e];s&&n.unbind(this.el,t,s)}},s.prototype.unbindAll=function(){for(var t in this._events)this.unbindAllOf(t)},s.prototype.unbindAllOf=function(t){var e=this._events[t];if(e)for(var i in e)this.unbind(t,i)}}),t.register("switchery",function(e,i){function s(t,e){if(!(this instanceof s))return new s(t,e);this.element=t,this.options=e||{};for(var i in l)null==this.options[i]&&(this.options[i]=l[i]);null!=this.element&&"checkbox"==this.element.type&&this.init(),this.isDisabled()===!0&&this.disable()}var o=t("abpetkov~transitionize@0.0.3"),n=t("ftlabs~fastclick@v0.6.11"),a=t("component~classes@1.2.1"),r=t("component~events@1.0.9");i.exports=s;var l={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",jackSecondaryColor:null,className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s",size:"default"};s.prototype.hide=function(){this.element.style.display="none"},s.prototype.show=function(){var t=this.create();this.insertAfter(this.element,t)},s.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.events=r(this.switcher,this),this.switcher},s.prototype.insertAfter=function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},s.prototype.setPosition=function(t){var e=this.isChecked(),i=this.switcher,s=this.jack;t&&e?e=!1:t&&!e&&(e=!0),e===!0?(this.element.checked=!0,window.getComputedStyle?s.style.left=parseInt(window.getComputedStyle(i).width)-parseInt(window.getComputedStyle(s).width)+"px":s.style.left=parseInt(i.currentStyle.width)-parseInt(s.currentStyle.width)+"px",this.options.color&&this.colorize(),this.setSpeed()):(s.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor=this.options.secondaryColor!==l.secondaryColor?this.options.secondaryColor:"#fff",this.jack.style.backgroundColor=this.options.jackSecondaryColor!==this.options.jackColor?this.options.jackSecondaryColor:this.options.jackColor,this.setSpeed())},s.prototype.setSpeed=function(){var t={},e={"background-color":this.options.speed,left:this.options.speed.replace(/[a-z]/,"")/2+"s"};t=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed},o(this.switcher,t),o(this.jack,e)},s.prototype.setSize=function(){var t="switchery-small",e="switchery-default",i="switchery-large";switch(this.options.size){case"small":a(this.switcher).add(t);break;case"large":a(this.switcher).add(i);break;default:a(this.switcher).add(e)}},s.prototype.colorize=function(){var t=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color,this.switcher.style.boxShadow="inset 0 0 0 "+t+"px "+this.options.color,this.jack.style.backgroundColor=this.options.jackColor},s.prototype.handleOnchange=function(t){if(document.dispatchEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!0),this.element.dispatchEvent(e)}else this.element.fireEvent("onchange")},s.prototype.handleChange=function(){var t=this,e=this.element;e.addEventListener?e.addEventListener("change",function(){t.setPosition()}):e.attachEvent("onchange",function(){t.setPosition()})},s.prototype.handleClick=function(){var t=this.switcher;n(t),this.events.bind("click","bindClick")},s.prototype.bindClick=function(){var t=this.element.parentNode.tagName.toLowerCase(),e="label"===t?!1:!0;this.setPosition(e),this.handleOnchange(this.element.checked)},s.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)},s.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")},s.prototype.init=function(){this.hide(),this.show(),this.setSize(),this.setPosition(),this.markAsSwitched(),this.handleChange(),this.handleClick()},s.prototype.isChecked=function(){return this.element.checked},s.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly},s.prototype.destroy=function(){this.events.unbind()},s.prototype.enable=function(){this.options.disabled&&(this.options.disabled&&(this.options.disabled=!1),this.element.disabled&&(this.element.disabled=!1),this.element.readOnly&&(this.element.readOnly=!1),this.switcher.style.opacity=1,this.events.bind("click","bindClick"))},s.prototype.disable=function(){this.options.disabled||(this.options.disabled||(this.options.disabled=!0),this.element.disabled||(this.element.disabled=!0),this.element.readOnly||(this.element.readOnly=!0),this.switcher.style.opacity=this.options.disabledOpacity,this.destroy())}}),"object"==typeof exports?module.exports=t("switchery"):"function"==typeof define&&define.amd?define("Switchery",[],function(){return t("switchery")}):(this||window).Switchery=t("switchery")}();